{"version":3,"sources":["../../../../../../resources/assets/plugins/lightGallery-master/modules/lg-zoom.js"],"names":["root","factory","define","amd","a0","exports","module","require","jQuery","$","getUseLeft","useLeft","isChrome","navigator","userAgent","match","parseInt","defaults","scale","zoom","actualSize","enableZoomAfter","useLeftForZoom","Zoom","element","core","data","s","extend","doCss","init","zoomabletimeout","pageX","window","width","pageY","height","scrollTop","prototype","_this","zoomIcons","$outer","addClass","find","append","$el","on","event","index","delay","_speed","hasClass","removeClass","setTimeout","$slide","eq","scaleVal","$image","_x","_y","offsetX","prop","offsetY","x","y","css","attr","parent","left","top","callScale","resetZoom","fromIcon","w","nw","dynamic","dynamicEl","naturalWidth","$items","_scale","originalEvent","targetTouches","tapped","clearTimeout","preventDefault","length","zoomDrag","zoomSwipe","removeAttr","startCoords","endCoords","isMoved","allowX","allowY","e","_$el","distanceX","distanceY","Math","abs","touchendZoom","isDraging","target","scrollLeft","minY","maxY","minX","maxX","destroy","off","fn","lightGallery","modules"],"mappings":"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","file":"lg-zoom.js","sourcesContent":["/*! lg-zoom - v1.1.0 - 2017-08-08\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2017 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define(['jquery'], function (a0) {\n      return (factory(a0));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require('jquery'));\n  } else {\n    factory(jQuery);\n  }\n}(this, function ($) {\n\n(function() {\n\n    'use strict';\n\n    var getUseLeft = function() {\n        var useLeft = false;\n        var isChrome = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n        if (isChrome && parseInt(isChrome[2], 10) < 54) {\n            useLeft = true;\n        }\n\n        return useLeft;\n    };\n\n    var defaults = {\n        scale: 1,\n        zoom: true,\n        actualSize: true,\n        enableZoomAfter: 300,\n        useLeftForZoom: getUseLeft()\n    };\n\n    var Zoom = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.core.s = $.extend({}, defaults, this.core.s);\n\n        if (this.core.s.zoom && this.core.doCss()) {\n            this.init();\n\n            // Store the zoomable timeout value just to clear it while closing\n            this.zoomabletimeout = false;\n\n            // Set the initial value center\n            this.pageX = $(window).width() / 2;\n            this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n        }\n\n        return this;\n    };\n\n    Zoom.prototype.init = function() {\n\n        var _this = this;\n        var zoomIcons = '<span id=\"lg-zoom-in\" class=\"lg-icon\"></span><span id=\"lg-zoom-out\" class=\"lg-icon\"></span>';\n\n        if (_this.core.s.actualSize) {\n            zoomIcons += '<span id=\"lg-actual-size\" class=\"lg-icon\"></span>';\n        }\n\n        if (_this.core.s.useLeftForZoom) {\n            _this.core.$outer.addClass('lg-use-left-for-zoom');\n        } else {\n            _this.core.$outer.addClass('lg-use-transition-for-zoom');\n        }\n\n        this.core.$outer.find('.lg-toolbar').append(zoomIcons);\n\n        // Add zoomable class\n        _this.core.$el.on('onSlideItemLoad.lg.tm.zoom', function(event, index, delay) {\n\n            // delay will be 0 except first time\n            var _speed = _this.core.s.enableZoomAfter + delay;\n\n            // set _speed value 0 if gallery opened from direct url and if it is first slide\n            if ($('body').hasClass('lg-from-hash') && delay) {\n\n                // will execute only once\n                _speed = 0;\n            } else {\n\n                // Remove lg-from-hash to enable starting animation.\n                $('body').removeClass('lg-from-hash');\n            }\n\n            _this.zoomabletimeout = setTimeout(function() {\n                _this.core.$slide.eq(index).addClass('lg-zoomable');\n            }, _speed + 30);\n        });\n\n        var scale = 1;\n        /**\n         * @desc Image zoom\n         * Translate the wrap and scale the image to get better user experience\n         *\n         * @param {String} scaleVal - Zoom decrement/increment value\n         */\n        var zoom = function(scaleVal) {\n\n            var $image = _this.core.$outer.find('.lg-current .lg-image');\n            var _x;\n            var _y;\n\n            // Find offset manually to avoid issue after zoom\n            var offsetX = ($(window).width() - $image.prop('offsetWidth')) / 2;\n            var offsetY = (($(window).height() - $image.prop('offsetHeight')) / 2) + $(window).scrollTop();\n\n            _x = _this.pageX - offsetX;\n            _y = _this.pageY - offsetY;\n\n            var x = (scaleVal - 1) * (_x);\n            var y = (scaleVal - 1) * (_y);\n\n            $image.css('transform', 'scale3d(' + scaleVal + ', ' + scaleVal + ', 1)').attr('data-scale', scaleVal);\n\n            if (_this.core.s.useLeftForZoom) {\n                $image.parent().css({\n                    left: -x + 'px',\n                    top: -y + 'px'\n                }).attr('data-x', x).attr('data-y', y);\n            } else {\n                $image.parent().css('transform', 'translate3d(-' + x + 'px, -' + y + 'px, 0)').attr('data-x', x).attr('data-y', y);\n            }\n        };\n\n        var callScale = function() {\n            if (scale > 1) {\n                _this.core.$outer.addClass('lg-zoomed');\n            } else {\n                _this.resetZoom();\n            }\n\n            if (scale < 1) {\n                scale = 1;\n            }\n\n            zoom(scale);\n        };\n\n        var actualSize = function(event, $image, index, fromIcon) {\n            var w = $image.prop('offsetWidth');\n            var nw;\n            if (_this.core.s.dynamic) {\n                nw = _this.core.s.dynamicEl[index].width || $image[0].naturalWidth || w;\n            } else {\n                nw = _this.core.$items.eq(index).attr('data-width') || $image[0].naturalWidth || w;\n            }\n\n            var _scale;\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                scale = 1;\n            } else {\n                if (nw > w) {\n                    _scale = nw / w;\n                    scale = _scale || 2;\n                }\n            }\n\n            if (fromIcon) {\n                _this.pageX = $(window).width() / 2;\n                _this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n            } else {\n                _this.pageX = event.pageX || event.originalEvent.targetTouches[0].pageX;\n                _this.pageY = event.pageY || event.originalEvent.targetTouches[0].pageY;\n            }\n\n            callScale();\n            setTimeout(function() {\n                _this.core.$outer.removeClass('lg-grabbing').addClass('lg-grab');\n            }, 10);\n        };\n\n        var tapped = false;\n\n        // event triggered after appending slide content\n        _this.core.$el.on('onAferAppendSlide.lg.tm.zoom', function(event, index) {\n\n            // Get the current element\n            var $image = _this.core.$slide.eq(index).find('.lg-image');\n\n            $image.on('dblclick', function(event) {\n                actualSize(event, $image, index);\n            });\n\n            $image.on('touchstart', function(event) {\n                if (!tapped) {\n                    tapped = setTimeout(function() {\n                        tapped = null;\n                    }, 300);\n                } else {\n                    clearTimeout(tapped);\n                    tapped = null;\n                    actualSize(event, $image, index);\n                }\n\n                event.preventDefault();\n            });\n\n        });\n\n        // Update zoom on resize and orientationchange\n        $(window).on('resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom', function() {\n            _this.pageX = $(window).width() / 2;\n            _this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n            zoom(scale);\n        });\n\n        $('#lg-zoom-out').on('click.lg', function() {\n            if (_this.core.$outer.find('.lg-current .lg-image').length) {\n                scale -= _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        $('#lg-zoom-in').on('click.lg', function() {\n            if (_this.core.$outer.find('.lg-current .lg-image').length) {\n                scale += _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        $('#lg-actual-size').on('click.lg', function(event) {\n            actualSize(event, _this.core.$slide.eq(_this.core.index).find('.lg-image'), _this.core.index, true);\n        });\n\n        // Reset zoom on slide change\n        _this.core.$el.on('onBeforeSlide.lg.tm', function() {\n            scale = 1;\n            _this.resetZoom();\n        });\n\n        // Drag option after zoom\n        _this.zoomDrag();\n\n        _this.zoomSwipe();\n\n    };\n\n    // Reset zoom effect\n    Zoom.prototype.resetZoom = function() {\n        this.core.$outer.removeClass('lg-zoomed');\n        this.core.$slide.find('.lg-img-wrap').removeAttr('style data-x data-y');\n        this.core.$slide.find('.lg-image').removeAttr('style data-scale');\n\n        // Reset pagx pagy values to center\n        this.pageX = $(window).width() / 2;\n        this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n    };\n\n    Zoom.prototype.zoomSwipe = function() {\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        _this.core.$slide.on('touchstart.lg', function(e) {\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                var $image = _this.core.$slide.eq(_this.core.index).find('.lg-object');\n\n                allowY = $image.prop('offsetHeight') * $image.attr('data-scale') > _this.core.$outer.find('.lg').height();\n                allowX = $image.prop('offsetWidth') * $image.attr('data-scale') > _this.core.$outer.find('.lg').width();\n                if ((allowX || allowY)) {\n                    e.preventDefault();\n                    startCoords = {\n                        x: e.originalEvent.targetTouches[0].pageX,\n                        y: e.originalEvent.targetTouches[0].pageY\n                    };\n                }\n            }\n\n        });\n\n        _this.core.$slide.on('touchmove.lg', function(e) {\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n\n                var _$el = _this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n\n                e.preventDefault();\n                isMoved = true;\n\n                endCoords = {\n                    x: e.originalEvent.targetTouches[0].pageX,\n                    y: e.originalEvent.targetTouches[0].pageY\n                };\n\n                // reset opacity and transition duration\n                _this.core.$outer.addClass('lg-zoom-dragging');\n\n                if (allowY) {\n                    distanceY = (-Math.abs(_$el.attr('data-y'))) + (endCoords.y - startCoords.y);\n                } else {\n                    distanceY = -Math.abs(_$el.attr('data-y'));\n                }\n\n                if (allowX) {\n                    distanceX = (-Math.abs(_$el.attr('data-x'))) + (endCoords.x - startCoords.x);\n                } else {\n                    distanceX = -Math.abs(_$el.attr('data-x'));\n                }\n\n                if ((Math.abs(endCoords.x - startCoords.x) > 15) || (Math.abs(endCoords.y - startCoords.y) > 15)) {\n\n                    if (_this.core.s.useLeftForZoom) {\n                        _$el.css({\n                            left: distanceX + 'px',\n                            top: distanceY + 'px'\n                        });\n                    } else {\n                        _$el.css('transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                    }\n                }\n\n            }\n\n        });\n\n        _this.core.$slide.on('touchend.lg', function() {\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                if (isMoved) {\n                    isMoved = false;\n                    _this.core.$outer.removeClass('lg-zoom-dragging');\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY);\n\n                }\n            }\n        });\n\n    };\n\n    Zoom.prototype.zoomDrag = function() {\n\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isDraging = false;\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        _this.core.$slide.on('mousedown.lg.zoom', function(e) {\n\n            // execute only on .lg-object\n            var $image = _this.core.$slide.eq(_this.core.index).find('.lg-object');\n\n            allowY = $image.prop('offsetHeight') * $image.attr('data-scale') > _this.core.$outer.find('.lg').height();\n            allowX = $image.prop('offsetWidth') * $image.attr('data-scale') > _this.core.$outer.find('.lg').width();\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                if ($(e.target).hasClass('lg-object') && (allowX || allowY)) {\n                    e.preventDefault();\n                    startCoords = {\n                        x: e.pageX,\n                        y: e.pageY\n                    };\n\n                    isDraging = true;\n\n                    // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                    _this.core.$outer.scrollLeft += 1;\n                    _this.core.$outer.scrollLeft -= 1;\n\n                    _this.core.$outer.removeClass('lg-grab').addClass('lg-grabbing');\n                }\n            }\n        });\n\n        $(window).on('mousemove.lg.zoom', function(e) {\n            if (isDraging) {\n                var _$el = _this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n\n                isMoved = true;\n                endCoords = {\n                    x: e.pageX,\n                    y: e.pageY\n                };\n\n                // reset opacity and transition duration\n                _this.core.$outer.addClass('lg-zoom-dragging');\n\n                if (allowY) {\n                    distanceY = (-Math.abs(_$el.attr('data-y'))) + (endCoords.y - startCoords.y);\n                } else {\n                    distanceY = -Math.abs(_$el.attr('data-y'));\n                }\n\n                if (allowX) {\n                    distanceX = (-Math.abs(_$el.attr('data-x'))) + (endCoords.x - startCoords.x);\n                } else {\n                    distanceX = -Math.abs(_$el.attr('data-x'));\n                }\n\n                if (_this.core.s.useLeftForZoom) {\n                    _$el.css({\n                        left: distanceX + 'px',\n                        top: distanceY + 'px'\n                    });\n                } else {\n                    _$el.css('transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                }\n            }\n        });\n\n        $(window).on('mouseup.lg.zoom', function(e) {\n\n            if (isDraging) {\n                isDraging = false;\n                _this.core.$outer.removeClass('lg-zoom-dragging');\n\n                // Fix for chrome mouse move on click\n                if (isMoved && ((startCoords.x !== endCoords.x) || (startCoords.y !== endCoords.y))) {\n                    endCoords = {\n                        x: e.pageX,\n                        y: e.pageY\n                    };\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY);\n\n                }\n\n                isMoved = false;\n            }\n\n            _this.core.$outer.removeClass('lg-grabbing').addClass('lg-grab');\n\n        });\n    };\n\n    Zoom.prototype.touchendZoom = function(startCoords, endCoords, allowX, allowY) {\n\n        var _this = this;\n        var _$el = _this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');\n        var $image = _this.core.$slide.eq(_this.core.index).find('.lg-object');\n        var distanceX = (-Math.abs(_$el.attr('data-x'))) + (endCoords.x - startCoords.x);\n        var distanceY = (-Math.abs(_$el.attr('data-y'))) + (endCoords.y - startCoords.y);\n        var minY = (_this.core.$outer.find('.lg').height() - $image.prop('offsetHeight')) / 2;\n        var maxY = Math.abs(($image.prop('offsetHeight') * Math.abs($image.attr('data-scale'))) - _this.core.$outer.find('.lg').height() + minY);\n        var minX = (_this.core.$outer.find('.lg').width() - $image.prop('offsetWidth')) / 2;\n        var maxX = Math.abs(($image.prop('offsetWidth') * Math.abs($image.attr('data-scale'))) - _this.core.$outer.find('.lg').width() + minX);\n\n        if ((Math.abs(endCoords.x - startCoords.x) > 15) || (Math.abs(endCoords.y - startCoords.y) > 15)) {\n            if (allowY) {\n                if (distanceY <= -maxY) {\n                    distanceY = -maxY;\n                } else if (distanceY >= -minY) {\n                    distanceY = -minY;\n                }\n            }\n\n            if (allowX) {\n                if (distanceX <= -maxX) {\n                    distanceX = -maxX;\n                } else if (distanceX >= -minX) {\n                    distanceX = -minX;\n                }\n            }\n\n            if (allowY) {\n                _$el.attr('data-y', Math.abs(distanceY));\n            } else {\n                distanceY = -Math.abs(_$el.attr('data-y'));\n            }\n\n            if (allowX) {\n                _$el.attr('data-x', Math.abs(distanceX));\n            } else {\n                distanceX = -Math.abs(_$el.attr('data-x'));\n            }\n\n            if (_this.core.s.useLeftForZoom) {\n                _$el.css({\n                    left: distanceX + 'px',\n                    top: distanceY + 'px'\n                });\n            } else {\n                _$el.css('transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n            }\n\n        }\n    };\n\n    Zoom.prototype.destroy = function() {\n\n        var _this = this;\n\n        // Unbind all events added by lightGallery zoom plugin\n        _this.core.$el.off('.lg.zoom');\n        $(window).off('.lg.zoom');\n        _this.core.$slide.off('.lg.zoom');\n        _this.core.$el.off('.lg.tm.zoom');\n        _this.resetZoom();\n        clearTimeout(_this.zoomabletimeout);\n        _this.zoomabletimeout = false;\n    };\n\n    $.fn.lightGallery.modules.zoom = Zoom;\n\n})();\n\n\n}));\n"]}