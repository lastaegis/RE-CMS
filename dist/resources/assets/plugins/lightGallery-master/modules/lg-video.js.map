{"version":3,"sources":["../../../../../../resources/assets/plugins/lightGallery-master/modules/lg-video.js"],"names":["root","factory","define","amd","a0","exports","module","require","jQuery","$","defaults","videoMaxWidth","youtubePlayerParams","vimeoPlayerParams","dailymotionPlayerParams","vkPlayerParams","videojs","videojsOptions","Video","element","core","data","$el","s","extend","videoLoaded","init","prototype","_this","on","event","index","src","html","$slide","eq","find","append","loadVideo","get","play","e","console","error","$videoCont","hasClass","css","loadOnClick","is","addClass","_src","_html","_loadVideo","dynamic","dynamicEl","$items","attr","$tempImg","removeClass","youtubePlayer","vimeoPlayer","dailymotionPlayer","html5Player","contentWindow","postMessage","$f","api","doCss","length","enableSwipe","enableDrag","prevIndex","$videoSlide","vkPlayer","pause","replace","_isVideo","isVideo","youtube","vimeo","dailymotion","vk","$outer","noposter","video","autoplay","a","param","html5","fL","substring","destroy","fn","lightGallery","modules"],"mappings":"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","file":"lg-video.js","sourcesContent":["/*! lg-video - v1.1.0 - 2017-08-08\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2017 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define(['jquery'], function (a0) {\n      return (factory(a0));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require('jquery'));\n  } else {\n    factory(jQuery);\n  }\n}(this, function ($) {\n\n(function() {\n\n    'use strict';\n\n    var defaults = {\n        videoMaxWidth: '855px',\n        youtubePlayerParams: false,\n        vimeoPlayerParams: false,\n        dailymotionPlayerParams: false,\n        vkPlayerParams: false,\n        videojs: false,\n        videojsOptions: {}\n    };\n\n    var Video = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.$el = $(element);\n        this.core.s = $.extend({}, defaults, this.core.s);\n        this.videoLoaded = false;\n\n        this.init();\n\n        return this;\n    };\n\n    Video.prototype.init = function() {\n        var _this = this;\n\n        // Event triggered when video url found without poster\n        _this.core.$el.on('hasVideo.lg.tm', function(event, index, src, html) {\n            _this.core.$slide.eq(index).find('.lg-video').append(_this.loadVideo(src, 'lg-object', true, index, html));\n            if (html) {\n                if (_this.core.s.videojs) {\n                    try {\n                        videojs(_this.core.$slide.eq(index).find('.lg-html5').get(0), _this.core.s.videojsOptions, function() {\n                            if (!_this.videoLoaded) {\n                                this.play();\n                            }\n                        });\n                    } catch (e) {\n                        console.error('Make sure you have included videojs');\n                    }\n                } else {\n                    if(!_this.videoLoaded) {\n                        _this.core.$slide.eq(index).find('.lg-html5').get(0).play();\n                    }\n                }\n            }\n        });\n\n        // Set max width for video\n        _this.core.$el.on('onAferAppendSlide.lg.tm', function(event, index) {\n            var $videoCont = _this.core.$slide.eq(index).find('.lg-video-cont');\n            if (!$videoCont.hasClass('lg-has-iframe')) {\n                $videoCont.css('max-width', _this.core.s.videoMaxWidth);\n                _this.videoLoaded = true;\n            }\n        });\n\n        var loadOnClick = function($el) {\n            // check slide has poster\n            if ($el.find('.lg-object').hasClass('lg-has-poster') && $el.find('.lg-object').is(':visible')) {\n\n                // check already video element present\n                if (!$el.hasClass('lg-has-video')) {\n\n                    $el.addClass('lg-video-playing lg-has-video');\n\n                    var _src;\n                    var _html;\n                    var _loadVideo = function(_src, _html) {\n\n                        $el.find('.lg-video').append(_this.loadVideo(_src, '', false, _this.core.index, _html));\n\n                        if (_html) {\n                            if (_this.core.s.videojs) {\n                                try {\n                                    videojs(_this.core.$slide.eq(_this.core.index).find('.lg-html5').get(0), _this.core.s.videojsOptions, function() {\n                                        this.play();\n                                    });\n                                } catch (e) {\n                                    console.error('Make sure you have included videojs');\n                                }\n                            } else {\n                                _this.core.$slide.eq(_this.core.index).find('.lg-html5').get(0).play();\n                            }\n                        }\n\n                    };\n\n                    if (_this.core.s.dynamic) {\n\n                        _src = _this.core.s.dynamicEl[_this.core.index].src;\n                        _html = _this.core.s.dynamicEl[_this.core.index].html;\n\n                        _loadVideo(_src, _html);\n\n                    } else {\n\n                        _src = _this.core.$items.eq(_this.core.index).attr('href') || _this.core.$items.eq(_this.core.index).attr('data-src');\n                        _html = _this.core.$items.eq(_this.core.index).attr('data-html');\n\n                        _loadVideo(_src, _html);\n\n                    }\n\n                    var $tempImg = $el.find('.lg-object');\n                    $el.find('.lg-video').append($tempImg);\n\n                    // @todo loading icon for html5 videos also\n                    // for showing the loading indicator while loading video\n                    if (!$el.find('.lg-video-object').hasClass('lg-html5')) {\n                        $el.removeClass('lg-complete');\n                        $el.find('.lg-video-object').on('load.lg error.lg', function() {\n                            $el.addClass('lg-complete');\n                        });\n                    }\n\n                } else {\n\n                    var youtubePlayer = $el.find('.lg-youtube').get(0);\n                    var vimeoPlayer = $el.find('.lg-vimeo').get(0);\n                    var dailymotionPlayer = $el.find('.lg-dailymotion').get(0);\n                    var html5Player = $el.find('.lg-html5').get(0);\n                    if (youtubePlayer) {\n                        youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n                    } else if (vimeoPlayer) {\n                        try {\n                            $f(vimeoPlayer).api('play');\n                        } catch (e) {\n                            console.error('Make sure you have included froogaloop2 js');\n                        }\n                    } else if (dailymotionPlayer) {\n                        dailymotionPlayer.contentWindow.postMessage('play', '*');\n\n                    } else if (html5Player) {\n                        if (_this.core.s.videojs) {\n                            try {\n                                videojs(html5Player).play();\n                            } catch (e) {\n                                console.error('Make sure you have included videojs');\n                            }\n                        } else {\n                            html5Player.play();\n                        }\n                    }\n\n                    $el.addClass('lg-video-playing');\n\n                }\n            }\n        };\n\n        if (_this.core.doCss() && (_this.core.$items.length > 1) && (_this.core.s.enableSwipe || _this.core.s.enableDrag)) {\n            _this.core.$el.on('onSlideClick.lg.tm', function() {\n                var $el = _this.core.$slide.eq(_this.core.index);\n                loadOnClick($el);\n            });\n        } else {\n\n            // For IE 9 and bellow\n            _this.core.$slide.on('click.lg', function() {\n                loadOnClick($(this));\n            });\n        }\n\n        _this.core.$el.on('onBeforeSlide.lg.tm', function(event, prevIndex, index) {\n\n            var $videoSlide = _this.core.$slide.eq(prevIndex);\n            var youtubePlayer = $videoSlide.find('.lg-youtube').get(0);\n            var vimeoPlayer = $videoSlide.find('.lg-vimeo').get(0);\n            var dailymotionPlayer = $videoSlide.find('.lg-dailymotion').get(0);\n            var vkPlayer = $videoSlide.find('.lg-vk').get(0);\n            var html5Player = $videoSlide.find('.lg-html5').get(0);\n            if (youtubePlayer) {\n                youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n            } else if (vimeoPlayer) {\n                try {\n                    $f(vimeoPlayer).api('pause');\n                } catch (e) {\n                    console.error('Make sure you have included froogaloop2 js');\n                }\n            } else if (dailymotionPlayer) {\n                dailymotionPlayer.contentWindow.postMessage('pause', '*');\n\n            } else if (html5Player) {\n                if (_this.core.s.videojs) {\n                    try {\n                        videojs(html5Player).pause();\n                    } catch (e) {\n                        console.error('Make sure you have included videojs');\n                    }\n                } else {\n                    html5Player.pause();\n                }\n            } if (vkPlayer) {\n                $(vkPlayer).attr('src', $(vkPlayer).attr('src').replace('&autoplay', '&noplay'));\n            }\n\n            var _src;\n            if (_this.core.s.dynamic) {\n                _src = _this.core.s.dynamicEl[index].src;\n            } else {\n                _src = _this.core.$items.eq(index).attr('href') || _this.core.$items.eq(index).attr('data-src');\n\n            }\n\n            var _isVideo = _this.core.isVideo(_src, index) || {};\n            if (_isVideo.youtube || _isVideo.vimeo || _isVideo.dailymotion || _isVideo.vk) {\n                _this.core.$outer.addClass('lg-hide-download');\n            }\n\n            //$videoSlide.addClass('lg-complete');\n\n        });\n\n        _this.core.$el.on('onAfterSlide.lg.tm', function(event, prevIndex) {\n            _this.core.$slide.eq(prevIndex).removeClass('lg-video-playing');\n        });\n    };\n\n    Video.prototype.loadVideo = function(src, addClass, noposter, index, html) {\n        var video = '';\n        var autoplay = 1;\n        var a = '';\n        var isVideo = this.core.isVideo(src, index) || {};\n\n        // Enable autoplay for first video if poster doesn't exist\n        if (noposter) {\n            if (this.videoLoaded) {\n                autoplay = 0;\n            } else {\n                autoplay = 1;\n            }\n        }\n\n        if (isVideo.youtube) {\n\n            a = '?wmode=opaque&autoplay=' + autoplay + '&enablejsapi=1';\n            if (this.core.s.youtubePlayerParams) {\n                a = a + '&' + $.param(this.core.s.youtubePlayerParams);\n            }\n\n            video = '<iframe class=\"lg-video-object lg-youtube ' + addClass + '\" width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/' + isVideo.youtube[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n        } else if (isVideo.vimeo) {\n\n            a = '?autoplay=' + autoplay + '&api=1';\n            if (this.core.s.vimeoPlayerParams) {\n                a = a + '&' + $.param(this.core.s.vimeoPlayerParams);\n            }\n\n            video = '<iframe class=\"lg-video-object lg-vimeo ' + addClass + '\" width=\"560\" height=\"315\"  src=\"//player.vimeo.com/video/' + isVideo.vimeo[1] + a + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n\n        } else if (isVideo.dailymotion) {\n\n            a = '?wmode=opaque&autoplay=' + autoplay + '&api=postMessage';\n            if (this.core.s.dailymotionPlayerParams) {\n                a = a + '&' + $.param(this.core.s.dailymotionPlayerParams);\n            }\n\n            video = '<iframe class=\"lg-video-object lg-dailymotion ' + addClass + '\" width=\"560\" height=\"315\" src=\"//www.dailymotion.com/embed/video/' + isVideo.dailymotion[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n        } else if (isVideo.html5) {\n            var fL = html.substring(0, 1);\n            if (fL === '.' || fL === '#') {\n                html = $(html).html();\n            }\n\n            video = html;\n\n        } else if (isVideo.vk) {\n\n            a = '&autoplay=' + autoplay;\n            if (this.core.s.vkPlayerParams) {\n                a = a + '&' + $.param(this.core.s.vkPlayerParams);\n            }\n\n            video = '<iframe class=\"lg-video-object lg-vk ' + addClass + '\" width=\"560\" height=\"315\" src=\"http://vk.com/video_ext.php?' + isVideo.vk[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n        }\n\n        return video;\n    };\n\n    Video.prototype.destroy = function() {\n        this.videoLoaded = false;\n    };\n\n    $.fn.lightGallery.modules.video = Video;\n\n})();\n\n\n}));\n"]}