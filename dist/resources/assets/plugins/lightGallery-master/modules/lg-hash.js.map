{"version":3,"sources":["../../../../../../resources/assets/plugins/lightGallery-master/modules/lg-hash.js"],"names":["root","factory","define","amd","a0","exports","module","require","jQuery","$","defaults","hash","Hash","element","core","data","s","extend","oldHash","window","location","init","prototype","_this","_hash","$el","on","event","prevIndex","index","history","replaceState","galleryId","_idx","parseInt","split","indexOf","slide","lGalleryOn","destroy","document","title","pathname","search","off","fn","lightGallery","modules"],"mappings":"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","file":"lg-hash.js","sourcesContent":["/*! lg-hash - v1.0.2 - 2017-06-03\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2017 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define(['jquery'], function (a0) {\n      return (factory(a0));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require('jquery'));\n  } else {\n    factory(jQuery);\n  }\n}(this, function ($) {\n\n(function() {\n\n    'use strict';\n\n    var defaults = {\n        hash: true\n    };\n\n    var Hash = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.core.s = $.extend({}, defaults, this.core.s);\n\n        if (this.core.s.hash) {\n            this.oldHash = window.location.hash;\n            this.init();\n        }\n\n        return this;\n    };\n\n    Hash.prototype.init = function() {\n        var _this = this;\n        var _hash;\n\n        // Change hash value on after each slide transition\n        _this.core.$el.on('onAfterSlide.lg.tm', function(event, prevIndex, index) {\n            if (history.replaceState) {\n                history.replaceState(null, null, '#lg=' + _this.core.s.galleryId + '&slide=' + index);\n            } else {\n                window.location.hash = 'lg=' + _this.core.s.galleryId + '&slide=' + index;\n            }\n        });\n\n        // Listen hash change and change the slide according to slide value\n        $(window).on('hashchange.lg.hash', function() {\n            _hash = window.location.hash;\n            var _idx = parseInt(_hash.split('&slide=')[1], 10);\n\n            // it galleryId doesn't exist in the url close the gallery\n            if ((_hash.indexOf('lg=' + _this.core.s.galleryId) > -1)) {\n                _this.core.slide(_idx, false, false);\n            } else if (_this.core.lGalleryOn) {\n                _this.core.destroy();\n            }\n\n        });\n    };\n\n    Hash.prototype.destroy = function() {\n\n        if (!this.core.s.hash) {\n            return;\n        }\n\n        // Reset to old hash value\n        if (this.oldHash && this.oldHash.indexOf('lg=' + this.core.s.galleryId) < 0) {\n            if (history.replaceState) {\n                history.replaceState(null, null, this.oldHash);\n            } else {\n                window.location.hash = this.oldHash;\n            }\n        } else {\n            if (history.replaceState) {\n                history.replaceState(null, document.title, window.location.pathname + window.location.search);\n            } else {\n                window.location.hash = '';\n            }\n        }\n\n        this.core.$el.off('.lg.hash');\n\n    };\n\n    $.fn.lightGallery.modules.hash = Hash;\n\n})();\n\n}));\n"]}