{"version":3,"sources":["../../../../../../../resources/assets/plugins/backend/lightGallery-master/modules/lg-autoplay.js"],"names":["root","factory","define","amd","a0","exports","module","require","jQuery","$","defaults","autoplay","pause","progressBar","fourceAutoplay","autoplayControls","appendAutoplayControlsTo","Autoplay","element","core","data","$el","$items","length","s","extend","interval","fromAuto","canceledOnTouch","fourceAutoplayTemp","doCss","init","prototype","_this","controls","$outer","find","append","progress","one","startlAuto","on","cancelAuto","_$progressBar","_$progress","removeAttr","removeClass","setTimeout","css","speed","addClass","_html","hasClass","setInterval","index","slide","clearInterval","destroy","remove","fn","lightGallery","modules"],"mappings":"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","file":"lg-autoplay.js","sourcesContent":["/*! lg-autoplay - v1.0.4 - 2017-03-28\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2017 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define(['jquery'], function (a0) {\n      return (factory(a0));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require('jquery'));\n  } else {\n    factory(jQuery);\n  }\n}(this, function ($) {\n\n\n(function() {\n\n    'use strict';\n\n    var defaults = {\n        autoplay: false,\n        pause: 5000,\n        progressBar: true,\n        fourceAutoplay: false,\n        autoplayControls: true,\n        appendAutoplayControlsTo: '.lg-toolbar'\n    };\n\n    /**\n     * Creates the autoplay plugin.\n     * @param {object} element - lightGallery element\n     */\n    var Autoplay = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.$el = $(element);\n\n        // Execute only if items are above 1\n        if (this.core.$items.length < 2) {\n            return false;\n        }\n\n        this.core.s = $.extend({}, defaults, this.core.s);\n        this.interval = false;\n\n        // Identify if slide happened from autoplay\n        this.fromAuto = true;\n\n        // Identify if autoplay canceled from touch/drag\n        this.canceledOnTouch = false;\n\n        // save fourceautoplay value\n        this.fourceAutoplayTemp = this.core.s.fourceAutoplay;\n\n        // do not allow progress bar if browser does not support css3 transitions\n        if (!this.core.doCss()) {\n            this.core.s.progressBar = false;\n        }\n\n        this.init();\n\n        return this;\n    };\n\n    Autoplay.prototype.init = function() {\n        var _this = this;\n\n        // append autoplay controls\n        if (_this.core.s.autoplayControls) {\n            _this.controls();\n        }\n\n        // Create progress bar\n        if (_this.core.s.progressBar) {\n            _this.core.$outer.find('.lg').append('<div class=\"lg-progress-bar\"><div class=\"lg-progress\"></div></div>');\n        }\n\n        // set progress\n        _this.progress();\n\n        // Start autoplay\n        if (_this.core.s.autoplay) {\n            _this.$el.one('onSlideItemLoad.lg.tm', function() {\n                _this.startlAuto();\n            });\n        }\n\n        // cancel interval on touchstart and dragstart\n        _this.$el.on('onDragstart.lg.tm touchstart.lg.tm', function() {\n            if (_this.interval) {\n                _this.cancelAuto();\n                _this.canceledOnTouch = true;\n            }\n        });\n\n        // restore autoplay if autoplay canceled from touchstart / dragstart\n        _this.$el.on('onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm', function() {\n            if (!_this.interval && _this.canceledOnTouch) {\n                _this.startlAuto();\n                _this.canceledOnTouch = false;\n            }\n        });\n\n    };\n\n    Autoplay.prototype.progress = function() {\n\n        var _this = this;\n        var _$progressBar;\n        var _$progress;\n\n        _this.$el.on('onBeforeSlide.lg.tm', function() {\n\n            // start progress bar animation\n            if (_this.core.s.progressBar && _this.fromAuto) {\n                _$progressBar = _this.core.$outer.find('.lg-progress-bar');\n                _$progress = _this.core.$outer.find('.lg-progress');\n                if (_this.interval) {\n                    _$progress.removeAttr('style');\n                    _$progressBar.removeClass('lg-start');\n                    setTimeout(function() {\n                        _$progress.css('transition', 'width ' + (_this.core.s.speed + _this.core.s.pause) + 'ms ease 0s');\n                        _$progressBar.addClass('lg-start');\n                    }, 20);\n                }\n            }\n\n            // Remove setinterval if slide is triggered manually and fourceautoplay is false\n            if (!_this.fromAuto && !_this.core.s.fourceAutoplay) {\n                _this.cancelAuto();\n            }\n\n            _this.fromAuto = false;\n\n        });\n    };\n\n    // Manage autoplay via play/stop buttons\n    Autoplay.prototype.controls = function() {\n        var _this = this;\n        var _html = '<span class=\"lg-autoplay-button lg-icon\"></span>';\n\n        // Append autoplay controls\n        $(this.core.s.appendAutoplayControlsTo).append(_html);\n\n        _this.core.$outer.find('.lg-autoplay-button').on('click.lg', function() {\n            if ($(_this.core.$outer).hasClass('lg-show-autoplay')) {\n                _this.cancelAuto();\n                _this.core.s.fourceAutoplay = false;\n            } else {\n                if (!_this.interval) {\n                    _this.startlAuto();\n                    _this.core.s.fourceAutoplay = _this.fourceAutoplayTemp;\n                }\n            }\n        });\n    };\n\n    // Autostart gallery\n    Autoplay.prototype.startlAuto = function() {\n        var _this = this;\n\n        _this.core.$outer.find('.lg-progress').css('transition', 'width ' + (_this.core.s.speed + _this.core.s.pause) + 'ms ease 0s');\n        _this.core.$outer.addClass('lg-show-autoplay');\n        _this.core.$outer.find('.lg-progress-bar').addClass('lg-start');\n\n        _this.interval = setInterval(function() {\n            if (_this.core.index + 1 < _this.core.$items.length) {\n                _this.core.index++;\n            } else {\n                _this.core.index = 0;\n            }\n\n            _this.fromAuto = true;\n            _this.core.slide(_this.core.index, false, false, 'next');\n        }, _this.core.s.speed + _this.core.s.pause);\n    };\n\n    // cancel Autostart\n    Autoplay.prototype.cancelAuto = function() {\n        clearInterval(this.interval);\n        this.interval = false;\n        this.core.$outer.find('.lg-progress').removeAttr('style');\n        this.core.$outer.removeClass('lg-show-autoplay');\n        this.core.$outer.find('.lg-progress-bar').removeClass('lg-start');\n    };\n\n    Autoplay.prototype.destroy = function() {\n\n        this.cancelAuto();\n        this.core.$outer.find('.lg-progress-bar').remove();\n    };\n\n    $.fn.lightGallery.modules.autoplay = Autoplay;\n\n})();\n\n\n}));\n"]}