{"version":3,"sources":["../../../../../../resources/assets/plugins/backend/select2-4.0.3/Gruntfile.js"],"names":["module","exports","grunt","includes","fullIncludes","concat","i18nModules","i18nPaths","i18nFiles","file","expand","cwd","testFiles","testUrls","map","filePath","testBuildNumber","process","env","TRAVIS_JOB_ID","currentTime","Date","getTime","i","length","name","split","push","minifiedBanner","initConfig","package","readJSON","clean","docs","options","banner","read","src","dest","connect","tests","base","hostname","port","uglify","qunit","all","urls","build","tags","testname","browsers","browserName","version","platform","branch","clone","message","repo","jekyll","d","serve","watch","jshint","jshintrc","code","sass","dist","outputStyle","files","dev","symlink","overwrite","filter","requirejs","baseUrl","optimize","out","include","namespace","paths","require","resolve","slice","wrap","startFile","endFile","dir","modules","start","end","js","tasks","css","loadNpmTasks","registerTask","ciTasks","TRAVIS_PULL_REQUEST"],"mappings":"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","file":"Gruntfile.js","sourcesContent":["module.exports = function (grunt) {\n  // Full list of files that must be included by RequireJS\n  includes = [\n    'jquery.select2',\n    'almond',\n\n    'jquery-mousewheel' // shimmed for non-full builds\n  ];\n\n  fullIncludes = [\n    'jquery',\n\n    'select2/compat/containerCss',\n    'select2/compat/dropdownCss',\n\n    'select2/compat/initSelection',\n    'select2/compat/inputData',\n    'select2/compat/matcher',\n    'select2/compat/query',\n\n    'select2/dropdown/attachContainer',\n    'select2/dropdown/stopPropagation',\n\n    'select2/selection/stopPropagation'\n  ].concat(includes);\n\n  var i18nModules = [];\n  var i18nPaths = {};\n\n  var i18nFiles = grunt.file.expand({\n    cwd: 'src/js'\n  }, 'select2/i18n/*.js');\n\n  var testFiles = grunt.file.expand('tests/**/*.html');\n  var testUrls = testFiles.map(function (filePath) {\n    return 'http://localhost:9999/' + filePath;\n  });\n\n  var testBuildNumber = \"unknown\";\n\n  if (process.env.TRAVIS_JOB_ID) {\n    testBuildNumber = \"travis-\" + process.env.TRAVIS_JOB_ID;\n  } else {\n    var currentTime = new Date();\n\n    testBuildNumber = \"manual-\" + currentTime.getTime();\n  }\n\n  for (var i = 0; i < i18nFiles.length; i++) {\n    var file = i18nFiles[i];\n    var name = file.split('.')[0];\n\n    i18nModules.push({\n      name: name\n    });\n\n    i18nPaths[name] = '../../' + name;\n  }\n\n  var minifiedBanner = '/*! Select2 <%= package.version %> | https://github.com/select2/select2/blob/master/LICENSE.md */';\n\n  grunt.initConfig({\n    package: grunt.file.readJSON('package.json'),\n\n    clean: {\n      docs: ['docs/_site']\n    },\n\n    concat: {\n      'dist': {\n        options: {\n          banner: grunt.file.read('src/js/wrapper.start.js'),\n        },\n        src: [\n          'dist/js/select2.js',\n          'src/js/wrapper.end.js'\n        ],\n        dest: 'dist/js/select2.js'\n      },\n      'dist.full': {\n        options: {\n          banner: grunt.file.read('src/js/wrapper.start.js'),\n        },\n        src: [\n          'dist/js/select2.full.js',\n          'src/js/wrapper.end.js'\n        ],\n        dest: 'dist/js/select2.full.js'\n      }\n    },\n\n    connect: {\n      tests: {\n        options: {\n          base: '.',\n          hostname: '127.0.0.1',\n          port: 9999\n        }\n      }\n    },\n\n    uglify: {\n      'dist': {\n        src: 'dist/js/select2.js',\n        dest: 'dist/js/select2.min.js',\n        options: {\n          banner: minifiedBanner\n        }\n      },\n      'dist.full': {\n        src: 'dist/js/select2.full.js',\n        dest: 'dist/js/select2.full.min.js',\n        options: {\n          banner: minifiedBanner\n        }\n      }\n    },\n\n    qunit: {\n      all: {\n        options: {\n          urls: testUrls\n        }\n      }\n    },\n\n    'saucelabs-qunit': {\n      all: {\n        options: {\n          build: testBuildNumber,\n          tags: ['tests', 'qunit'],\n          urls: testUrls,\n          testname: 'QUnit test for Select2',\n          browsers: [\n            {\n              browserName: 'internet explorer',\n              version: '8'\n            },\n            {\n              browserName: 'internet explorer',\n              version: '9'\n            },\n            {\n              browserName: 'internet explorer',\n              version: '10'\n            },\n            {\n              browserName: 'internet explorer',\n              version: '11'\n            },\n\n            {\n              browserName: 'firefox',\n              platform: 'linux'\n            },\n\n            {\n              browserName: 'chrome'\n            },\n\n            {\n              browserName: 'opera',\n              version: '12',\n              platform: 'linux'\n            }\n          ]\n        }\n      }\n    },\n\n    'gh-pages': {\n      options: {\n        base: 'docs',\n        branch: 'master',\n        clone: 'node_modules/grunt-gh-pages/repo',\n        message: 'Updated docs with master',\n        push: true,\n        repo: 'git@github.com:select2/select2.github.io.git'\n      },\n      src: '**'\n    },\n\n    jekyll: {\n      options: {\n        src: 'docs',\n        dest: 'docs/_site'\n      },\n      build: {\n        d: null\n      },\n      serve: {\n        options: {\n          serve: true,\n          watch: true\n        }\n      }\n    },\n\n    jshint: {\n      options: {\n        jshintrc: true\n      },\n      code: {\n        src: ['src/js/**/*.js']\n      },\n      tests: {\n        src: ['tests/**/*.js']\n      }\n    },\n\n    sass: {\n      dist: {\n        options: {\n          outputStyle: 'compressed'\n        },\n        files: {\n          'dist/css/select2.min.css': [\n            'src/scss/core.scss',\n            'src/scss/theme/default/layout.css'\n          ]\n        }\n      },\n      dev: {\n        options: {\n          outputStyle: 'nested'\n        },\n        files: {\n          'dist/css/select2.css': [\n            'src/scss/core.scss',\n            'src/scss/theme/default/layout.css'\n          ]\n        }\n      }\n    },\n\n    symlink: {\n      docs: {\n        cwd: 'dist',\n        expand: true,\n        overwrite: false,\n        src: [\n          '*'\n        ],\n        dest: 'docs/dist',\n        filter: 'isDirectory'\n      }\n    },\n\n    requirejs: {\n      'dist': {\n        options: {\n          baseUrl: 'src/js',\n          optimize: 'none',\n          name: 'select2/core',\n          out: 'dist/js/select2.js',\n          include: includes,\n          namespace: 'S2',\n          paths: {\n            'almond': require.resolve('almond').slice(0, -3),\n            'jquery': 'jquery.shim',\n            'jquery-mousewheel': 'jquery.mousewheel.shim'\n          },\n          wrap: {\n            startFile: 'src/js/banner.start.js',\n            endFile: 'src/js/banner.end.js'\n          }\n        }\n      },\n      'dist.full': {\n        options: {\n          baseUrl: 'src/js',\n          optimize: 'none',\n          name: 'select2/core',\n          out: 'dist/js/select2.full.js',\n          include: fullIncludes,\n          namespace: 'S2',\n          paths: {\n            'almond': require.resolve('almond').slice(0, -3),\n            'jquery': 'jquery.shim',\n            'jquery-mousewheel': require.resolve('jquery-mousewheel').slice(0, -3)\n          },\n          wrap: {\n            startFile: 'src/js/banner.start.js',\n            endFile: 'src/js/banner.end.js'\n          }\n        }\n      },\n      'i18n': {\n        options: {\n          baseUrl: 'src/js/select2/i18n',\n          dir: 'dist/js/i18n',\n          paths: i18nPaths,\n          modules: i18nModules,\n          namespace: 'S2',\n          wrap: {\n            start: minifiedBanner + grunt.file.read('src/js/banner.start.js'),\n            end: grunt.file.read('src/js/banner.end.js')\n          }\n        }\n      }\n    },\n\n    watch: {\n      js: {\n        files: [\n          'src/js/select2/**/*.js',\n          'tests/**/*.js'\n        ],\n        tasks: [\n          'compile',\n          'test',\n          'minify'\n        ]\n      },\n      css: {\n        files: [\n          'src/scss/**/*.scss'\n        ],\n        tasks: [\n          'compile',\n          'minify'\n        ]\n      }\n    }\n  });\n\n  grunt.loadNpmTasks('grunt-contrib-clean');\n  grunt.loadNpmTasks('grunt-contrib-concat');\n  grunt.loadNpmTasks('grunt-contrib-connect');\n  grunt.loadNpmTasks('grunt-contrib-jshint');\n  grunt.loadNpmTasks('grunt-contrib-qunit');\n  grunt.loadNpmTasks('grunt-contrib-requirejs');\n  grunt.loadNpmTasks('grunt-contrib-symlink');\n  grunt.loadNpmTasks('grunt-contrib-uglify');\n  grunt.loadNpmTasks('grunt-contrib-watch');\n\n  grunt.loadNpmTasks('grunt-gh-pages');\n  grunt.loadNpmTasks('grunt-jekyll');\n  grunt.loadNpmTasks('grunt-saucelabs');\n  grunt.loadNpmTasks('grunt-sass');\n\n  grunt.registerTask('default', ['compile', 'test', 'minify']);\n\n  grunt.registerTask('compile', [\n    'requirejs:dist', 'requirejs:dist.full', 'requirejs:i18n',\n    'concat:dist', 'concat:dist.full',\n    'sass:dev'\n  ]);\n  grunt.registerTask('minify', ['uglify', 'sass:dist']);\n  grunt.registerTask('test', ['connect:tests', 'qunit', 'jshint']);\n\n  var ciTasks = [];\n\n  ciTasks.push('compile')\n  ciTasks.push('connect:tests');\n\n  // Can't run Sauce Labs tests in pull requests\n  if (process.env.TRAVIS_PULL_REQUEST == 'false') {\n    ciTasks.push('saucelabs-qunit');\n  }\n\n  ciTasks.push('qunit');\n  ciTasks.push('jshint');\n\n  grunt.registerTask('ci', ciTasks);\n\n  grunt.registerTask('docs', ['symlink:docs', 'jekyll:serve']);\n\n  grunt.registerTask('docs-release', ['default', 'clean:docs', 'gh-pages']);\n};\n"]}