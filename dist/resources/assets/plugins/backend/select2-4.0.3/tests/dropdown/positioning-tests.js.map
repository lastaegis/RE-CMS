{"version":3,"sources":["../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/tests/dropdown/positioning-tests.js"],"names":["module","test","assert","expect","$","require","$select","$parent","$container","container","MockContainer","appendTo","Utils","Options","Dropdown","AttachBody","DropdownAdapter","Decorate","dropdown","dropdownParent","equal","children","length","$dropdown","render","bind","position","_showDropdown","ok","contains","css","marginTop","marginLeft","empty","style","top","hasClass","substring","outerHeight","left"],"mappings":"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","file":"positioning-tests.js","sourcesContent":["module('Dropdown - attachBody - positioning');\n\ntest('appends to the dropdown parent', function (assert) {\n    assert.expect(4);\n\n    var $ = require('jquery');\n\n    var $select = $('<select></select>');\n    var $parent = $('<div></div>');\n\n    var $container = $('<span></span>');\n    var container = new MockContainer();\n\n    $parent.appendTo($('#qunit-fixture'));\n    $select.appendTo($parent);\n\n    var Utils = require('select2/utils');\n    var Options = require('select2/options');\n\n    var Dropdown = require('select2/dropdown');\n    var AttachBody = require('select2/dropdown/attachBody');\n\n    var DropdownAdapter = Utils.Decorate(Dropdown, AttachBody);\n\n    var dropdown = new DropdownAdapter($select, new Options({\n        dropdownParent: $parent\n    }));\n\n    assert.equal(\n        $parent.children().length,\n        1,\n        'Only the select should be in the container'\n    );\n\n    var $dropdown = dropdown.render();\n\n    dropdown.bind(container, $container);\n\n    dropdown.position($dropdown, $container);\n\n    assert.equal(\n        $parent.children().length,\n        1,\n        'The dropdown should not be placed until after it is opened'\n    );\n\n    dropdown._showDropdown();\n\n    assert.equal(\n        $parent.children().length,\n        2,\n        'The dropdown should now be in the container as well'\n    );\n\n    assert.ok(\n        $.contains($parent[0], $dropdown[0]),\n        'The dropdown should be contained within the parent container'\n    );\n});\n\ntest('dropdown is positioned down with static margins', function (assert) {\n    var $ = require('jquery');\n    var $select = $('<select></select>');\n    var $parent = $('<div></div>');\n    $parent.css({\n        position: 'static',\n        marginTop: '5px',\n        marginLeft: '10px'\n    });\n\n    var $container = $('<span>test</span>');\n    var container = new MockContainer();\n\n    $('#qunit-fixture').empty();\n\n    $parent.appendTo($('#qunit-fixture'));\n    $container.appendTo($parent);\n\n    var Utils = require('select2/utils');\n    var Options = require('select2/options');\n\n    var Dropdown = require('select2/dropdown');\n    var AttachBody = require('select2/dropdown/attachBody');\n\n    var DropdownAdapter = Utils.Decorate(Dropdown, AttachBody);\n\n    var dropdown = new DropdownAdapter($select, new Options({\n        dropdownParent: $parent\n    }));\n\n    var $dropdown = dropdown.render();\n\n    assert.equal(\n        $dropdown[0].style.top,\n        0,\n        'The drodpown should not have any offset before it is displayed'\n    );\n\n    dropdown.bind(container, $container);\n    dropdown.position($dropdown, $container);\n    dropdown._showDropdown();\n\n    assert.ok(\n        dropdown.$dropdown.hasClass('select2-dropdown--below'),\n        'The dropdown should be forced down'\n    );\n\n    assert.equal(\n        $dropdown.css('top').substring(0, 2),\n        $container.outerHeight() + 5,\n        'The offset should be 5px at the top'\n    );\n\n    assert.equal(\n        $dropdown.css('left'),\n        '10px',\n        'The offset should be 10px on the left'\n    );\n});\n\ntest('dropdown is positioned down with absolute offsets', function (assert) {\n    var $ = require('jquery');\n    var $select = $('<select></select>');\n    var $parent = $('<div></div>');\n    $parent.css({\n        position: 'absolute',\n        top: '10px',\n        left: '5px'\n    });\n\n    var $container = $('<span>test</span>');\n    var container = new MockContainer();\n\n    $parent.appendTo($('#qunit-fixture'));\n    $container.appendTo($parent);\n\n    var Utils = require('select2/utils');\n    var Options = require('select2/options');\n\n    var Dropdown = require('select2/dropdown');\n    var AttachBody = require('select2/dropdown/attachBody');\n\n    var DropdownAdapter = Utils.Decorate(Dropdown, AttachBody);\n\n    var dropdown = new DropdownAdapter($select, new Options({\n        dropdownParent: $parent\n    }));\n\n    var $dropdown = dropdown.render();\n\n    assert.equal(\n        $dropdown[0].style.top,\n        0,\n        'The drodpown should not have any offset before it is displayed'\n    );\n\n    dropdown.bind(container, $container);\n    dropdown.position($dropdown, $container);\n    dropdown._showDropdown();\n\n    assert.ok(\n        dropdown.$dropdown.hasClass('select2-dropdown--below'),\n        'The dropdown should be forced down'\n    );\n\n    assert.equal(\n        $dropdown.css('top').substring(0, 2),\n        $container.outerHeight(),\n        'There should not be an extra top offset'\n    );\n\n    assert.equal(\n        $dropdown.css('left'),\n        '0px',\n        'There should not be an extra left offset'\n    );\n});"]}