{"version":3,"sources":["../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/tests/vendor/qunit-1.23.1.js"],"names":["global","QUnit","Date","now","getTime","setTimeout","clearTimeout","window","defined","document","undefined","sessionStorage","x","setItem","removeItem","e","fileName","sourceFromStacktrace","replace","globalStartCalled","runStarted","toString","Object","prototype","hasOwn","hasOwnProperty","diff","a","b","i","j","result","slice","length","splice","inArray","elem","array","indexOf","objectValues","obj","key","val","vals","is","call","extend","undefOnly","prop","objectType","match","type","isNaN","toLowerCase","extractStacktrace","offset","stack","include","split","test","shift","push","join","sourceURL","line","error","Error","err","config","queue","blocking","reorder","altertitle","collapse","scrolltop","maxDepth","requireExpects","urlConfig","modules","moduleStack","currentModule","name","tests","callbacks","loggingCallbacks","registerLoggingCallbacks","l","callbackNames","registerLoggingCallback","loggingCallback","callback","runLoggingCallbacks","args","verifyLoggingCallbacks","userCallback","console","warn","onErrorFnPrev","onerror","filePath","linerNr","ret","current","ignoreGlobalErrors","pushFailure","validTest","isLocal","location","protocol","version","module","testEnvironment","executeNow","moduleFns","arguments","setup","beforeEach","teardown","afterEach","createModule","setHook","setCurrentModule","pop","parentModule","moduleName","moduleId","generateHash","env","asyncTest","skip","only","start","count","globalStartAlreadyCalled","autostart","pageLoaded","semaphore","resumeProcessing","stop","pauseProcessing","load","stats","all","bad","moduleStats","started","updateRate","filter","begin","modulesLog","totalTests","Test","process","last","next","depth","usedAsync","done","testTimeout","timeout","runtime","passed","autorun","previousModule","failed","total","hookName","focused","priorityCount","unitSampler","settings","assertions","testName","testId","async","expected","assert","Assert","before","pollution","saveGlobal","run","promise","callbackStarted","notrycatch","runTest","message","resolvePromise","after","checkPollution","queueHook","hook","runHook","callHook","hooks","handler","processHooks","finish","skipped","source","duration","reset","priority","valid","synchronize","reverse","getItem","seed","pushResult","resultInfo","details","actual","negative","phase","then","regexFilter","exec","fullName","moduleChainNameMatch","testModule","testModuleName","moduleChainIdMatch","stringFilter","exclude","pattern","flags","regex","RegExp","charAt","fixture","getElementById","innerHTML","currentTest","apply","hex","hash","str","len","charCodeAt","index","unitSamplerGenerator","Math","floor","sample","parseInt","noglobals","newGlobals","deletedGlobals","old","newTest","testContext","expect","asserts","popped","acceptCallCount","currentAssert","ok","dump","parse","notOk","equal","notEqual","propEqual","equiv","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","block","expectedType","expectedOutput","errorString","constructor","raises","resultErrorString","substring","callers","parents","parentsB","getProto","getPrototypeOf","__proto__","useStrictEquality","valueOf","compareConstructors","protoA","protoB","getRegExpFlags","regexp","caller","loop","aCircular","bCircular","innerEquiv","innerEq","outerEq","size","forEach","aVal","bVal","aKey","bKey","eq","aProperties","bProperties","sort","typeEquiv","quote","literal","o","pre","arr","post","s","separator","base","indent","inner","Array","up","down","reName","objType","res","parser","parserType","inStack","typeOf","parsers","setInterval","nodeType","item","multiline","HTML","extra","chr","indentChar","setParser","unknown","fn","nodelist","object","map","keys","nonEnumerableProperties","node","open","close","tag","nodeName","attrs","attributes","nodeValue","functionArgs","String","fromCharCode","functionCode","attribute","string","date","number","jsDump","applyCurrent","exports","define","amd","urlParams","getUrlParams","concat","random","id","label","tooltip","option","param","value","params","search","decodeURIComponent","init","appendInterface","collapseNext","unfilteredUrl","setUrl","modulesList","escapeText","addEvent","addEventListener","attachEvent","event","target","srcElement","addEvents","elems","hasClass","className","addClass","toggleClass","force","removeClass","set","trim","getUrlConfigHtml","escaped","escapedTooltip","selection","urlConfigHtml","toolbarChanged","updatedUrl","field","options","selectedIndex","checked","defaultValue","history","replaceState","arrValue","querystring","encodeURIComponent","host","pathname","applyUrlParams","selectedModule","toolbarUrlConfigContainer","urlConfigContainer","createElement","getElementsByTagName","toolbarLooseFilter","input","button","appendChild","ev","preventDefault","toolbarModuleFilterHtml","moduleFilterHtml","toolbarModuleFilter","toolbar","moduleFilter","setAttribute","lastChild","appendToolbar","appendHeader","header","appendBanner","banner","appendTestResults","parentNode","removeChild","insertBefore","storeFixture","appendFilteredTest","appendUserAgent","userAgent","createTextNode","navigator","qunit","title","appendTestsList","z","moduleObj","appendTest","rerunTrigger","testBlock","assertList","getNameHtml","href","localeCompare","hidepassed","html","scrollTo","nameHtml","testStart","running","stripHtml","log","assertLi","showDiff","testItem","testDone","testTitle","time","good","testCounts","sourceName","firstChild","notPhantom","p","major","phantom","readyState","DiffMatchPatch","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","DiffMain","text1","text2","optChecklines","deadline","checklines","commonlength","commonprefix","commonsuffix","diffs","diffCommonPrefix","diffCommonSuffix","diffCompute","unshift","diffCleanupMerge","diffCleanupEfficiency","changes","equalities","equalitiesLength","lastequality","pointer","preIns","preDel","postIns","postDel","diffPrettyHtml","op","data","pointermid","pointermax","pointermin","pointerstart","min","pointerend","longtext","shorttext","hm","text1A","text2A","text1B","text2B","midCommon","diffsA","diffsB","diffHalfMatch","diffLineMode","diffBisect","dmp","hm1","hm2","diffHalfMatchI","bestCommon","prefixLength","suffixLength","bestLongtextA","bestLongtextB","bestShorttextA","bestShorttextB","ceil","linearray","countInsert","countDelete","textInsert","textDelete","diffLinesToChars","chars1","chars2","lineArray","diffCharsToLines","diffCleanupSemantic","text1Length","text2Length","maxD","vOffset","vLength","v1","v2","delta","front","k1start","k1end","k2start","k2end","k2Offset","k1Offset","x1","x2","y1","y2","d","k1","k2","diffBisectSplit","y","text1a","text1b","text2a","text2b","diffsb","lengthInsertions2","lengthDeletions2","lengthInsertions1","lengthDeletions1","deletion","insertion","overlapLength1","overlapLength2","max","diffCommonOverlap","textLength","best","found","lineHash","diffLinesToCharsMunge","text","chars","lineStart","lineEnd","lineArrayLength","diffPointer","position","n","output"],"mappings":";;;;AAAA;;;;;;;;;;;AAWE,WAAUA,MAAV,EAAmB;;AAErB,KAAIC,QAAQ,EAAZ;;AAEA,KAAIC,OAAOF,OAAOE,IAAlB;AACA,KAAIC,MAAMD,KAAKC,GAAL,IAAY,YAAW;AAChC,SAAO,IAAID,IAAJ,GAAWE,OAAX,EAAP;AACA,EAFD;;AAIA,KAAIC,aAAaL,OAAOK,UAAxB;AACA,KAAIC,eAAeN,OAAOM,YAA1B;;AAEA;AACA,KAAIC,SAASP,OAAOO,MAApB;;AAEA,KAAIC,UAAU;AACbC,YAAUF,UAAUA,OAAOE,QAAP,KAAoBC,SAD3B;AAEbL,cAAYA,eAAeK,SAFd;AAGbC,kBAAkB,YAAW;AAC5B,OAAIC,IAAI,mBAAR;AACA,OAAI;AACHD,mBAAeE,OAAf,CAAwBD,CAAxB,EAA2BA,CAA3B;AACAD,mBAAeG,UAAf,CAA2BF,CAA3B;AACA,WAAO,IAAP;AACA,IAJD,CAIE,OAAQG,CAAR,EAAY;AACb,WAAO,KAAP;AACA;AACD,GATiB;AAHL,EAAd;;AAeA,KAAIC,WAAW,CAAEC,qBAAsB,CAAtB,KAA6B,EAA/B,EAAoCC,OAApC,CAA6C,YAA7C,EAA2D,EAA3D,EAAgEA,OAAhE,CAAyE,MAAzE,EAAiF,EAAjF,CAAf;AACA,KAAIC,oBAAoB,KAAxB;AACA,KAAIC,aAAa,KAAjB;;AAEA,KAAIC,WAAWC,OAAOC,SAAP,CAAiBF,QAAhC;AAAA,KACCG,SAASF,OAAOC,SAAP,CAAiBE,cAD3B;;AAGA;AACA,UAASC,IAAT,CAAeC,CAAf,EAAkBC,CAAlB,EAAsB;AACrB,MAAIC,CAAJ;AAAA,MAAOC,CAAP;AAAA,MACCC,SAASJ,EAAEK,KAAF,EADV;;AAGA,OAAMH,IAAI,CAAV,EAAaA,IAAIE,OAAOE,MAAxB,EAAgCJ,GAAhC,EAAsC;AACrC,QAAMC,IAAI,CAAV,EAAaA,IAAIF,EAAEK,MAAnB,EAA2BH,GAA3B,EAAiC;AAChC,QAAKC,OAAQF,CAAR,MAAgBD,EAAGE,CAAH,CAArB,EAA8B;AAC7BC,YAAOG,MAAP,CAAeL,CAAf,EAAkB,CAAlB;AACAA;AACA;AACA;AACD;AACD;AACD,SAAOE,MAAP;AACA;;AAED;AACA,UAASI,OAAT,CAAkBC,IAAlB,EAAwBC,KAAxB,EAAgC;AAC/B,MAAKA,MAAMC,OAAX,EAAqB;AACpB,UAAOD,MAAMC,OAAN,CAAeF,IAAf,CAAP;AACA;;AAED,OAAM,IAAIP,IAAI,CAAR,EAAWI,SAASI,MAAMJ,MAAhC,EAAwCJ,IAAII,MAA5C,EAAoDJ,GAApD,EAA0D;AACzD,OAAKQ,MAAOR,CAAP,MAAeO,IAApB,EAA2B;AAC1B,WAAOP,CAAP;AACA;AACD;;AAED,SAAO,CAAC,CAAR;AACA;;AAED;;;;;;;AAOA,UAASU,YAAT,CAAwBC,GAAxB,EAA8B;AAC7B,MAAIC,GAAJ;AAAA,MAASC,GAAT;AAAA,MACCC,OAAO1C,MAAM2C,EAAN,CAAU,OAAV,EAAmBJ,GAAnB,IAA2B,EAA3B,GAAgC,EADxC;AAEA,OAAMC,GAAN,IAAaD,GAAb,EAAmB;AAClB,OAAKhB,OAAOqB,IAAP,CAAaL,GAAb,EAAkBC,GAAlB,CAAL,EAA+B;AAC9BC,UAAMF,IAAKC,GAAL,CAAN;AACAE,SAAMF,GAAN,IAAcC,QAAQpB,OAAQoB,GAAR,CAAR,GAAwBH,aAAcG,GAAd,CAAxB,GAA8CA,GAA5D;AACA;AACD;AACD,SAAOC,IAAP;AACA;;AAED,UAASG,MAAT,CAAiBnB,CAAjB,EAAoBC,CAApB,EAAuBmB,SAAvB,EAAmC;AAClC,OAAM,IAAIC,IAAV,IAAkBpB,CAAlB,EAAsB;AACrB,OAAKJ,OAAOqB,IAAP,CAAajB,CAAb,EAAgBoB,IAAhB,CAAL,EAA8B;;AAE7B;AACA;AACA;AACA,QAAKA,SAAS,aAAT,IAA0BrB,MAAM3B,MAArC,EAA8C;AAC7C,SAAK4B,EAAGoB,IAAH,MAActC,SAAnB,EAA+B;AAC9B,aAAOiB,EAAGqB,IAAH,CAAP;AACA,MAFD,MAEO,IAAK,EAAGD,aAAa,OAAOpB,EAAGqB,IAAH,CAAP,KAAqB,WAArC,CAAL,EAA0D;AAChErB,QAAGqB,IAAH,IAAYpB,EAAGoB,IAAH,CAAZ;AACA;AACD;AACD;AACD;;AAED,SAAOrB,CAAP;AACA;;AAED,UAASsB,UAAT,CAAqBT,GAArB,EAA2B;AAC1B,MAAK,OAAOA,GAAP,KAAe,WAApB,EAAkC;AACjC,UAAO,WAAP;AACA;;AAED;AACA,MAAKA,QAAQ,IAAb,EAAoB;AACnB,UAAO,MAAP;AACA;;AAED,MAAIU,QAAQ7B,SAASwB,IAAT,CAAeL,GAAf,EAAqBU,KAArB,CAA4B,oBAA5B,CAAZ;AAAA,MACCC,OAAOD,SAASA,MAAO,CAAP,CADjB;;AAGA,UAASC,IAAT;AACC,QAAK,QAAL;AACC,QAAKC,MAAOZ,GAAP,CAAL,EAAoB;AACnB,YAAO,KAAP;AACA;AACD,WAAO,QAAP;AACD,QAAK,QAAL;AACA,QAAK,SAAL;AACA,QAAK,OAAL;AACA,QAAK,KAAL;AACA,QAAK,KAAL;AACA,QAAK,MAAL;AACA,QAAK,QAAL;AACA,QAAK,UAAL;AACA,QAAK,QAAL;AACC,WAAOW,KAAKE,WAAL,EAAP;AAfF;AAiBA,MAAK,QAAOb,GAAP,yCAAOA,GAAP,OAAe,QAApB,EAA+B;AAC9B,UAAO,QAAP;AACA;AACD;;AAED;AACA,UAASI,EAAT,CAAaO,IAAb,EAAmBX,GAAnB,EAAyB;AACxB,SAAOvC,MAAMgD,UAAN,CAAkBT,GAAlB,MAA4BW,IAAnC;AACA;;AAED;AACA;AACA,UAASG,iBAAT,CAA4BvC,CAA5B,EAA+BwC,MAA/B,EAAwC;AACvCA,WAASA,WAAW7C,SAAX,GAAuB,CAAvB,GAA2B6C,MAApC;;AAEA,MAAIC,KAAJ,EAAWC,OAAX,EAAoB5B,CAApB;;AAEA,MAAKd,EAAEyC,KAAP,EAAe;AACdA,WAAQzC,EAAEyC,KAAF,CAAQE,KAAR,CAAe,IAAf,CAAR;AACA,OAAK,WAAWC,IAAX,CAAiBH,MAAO,CAAP,CAAjB,CAAL,EAAqC;AACpCA,UAAMI,KAAN;AACA;AACD,OAAK5C,QAAL,EAAgB;AACfyC,cAAU,EAAV;AACA,SAAM5B,IAAI0B,MAAV,EAAkB1B,IAAI2B,MAAMvB,MAA5B,EAAoCJ,GAApC,EAA0C;AACzC,SAAK2B,MAAO3B,CAAP,EAAWS,OAAX,CAAoBtB,QAApB,MAAmC,CAAC,CAAzC,EAA6C;AAC5C;AACA;AACDyC,aAAQI,IAAR,CAAcL,MAAO3B,CAAP,CAAd;AACA;AACD,QAAK4B,QAAQxB,MAAb,EAAsB;AACrB,YAAOwB,QAAQK,IAAR,CAAc,IAAd,CAAP;AACA;AACD;AACD,UAAON,MAAOD,MAAP,CAAP;;AAED;AACC,GApBD,MAoBO,IAAKxC,EAAEgD,SAAP,EAAmB;;AAEzB;AACA,OAAK,YAAYJ,IAAZ,CAAkB5C,EAAEgD,SAApB,CAAL,EAAuC;AACtC;AACA;;AAED;AACA,UAAOhD,EAAEgD,SAAF,GAAc,GAAd,GAAoBhD,EAAEiD,IAA7B;AACA;AACD;;AAED,UAAS/C,oBAAT,CAA+BsC,MAA/B,EAAwC;AACvC,MAAIU,QAAQ,IAAIC,KAAJ,EAAZ;;AAEA;AACA;AACA,MAAK,CAACD,MAAMT,KAAZ,EAAoB;AACnB,OAAI;AACH,UAAMS,KAAN;AACA,IAFD,CAEE,OAAQE,GAAR,EAAc;AACfF,YAAQE,GAAR;AACA;AACD;;AAED,SAAOb,kBAAmBW,KAAnB,EAA0BV,MAA1B,CAAP;AACA;;AAED;;;;;AAKA,KAAIa,SAAS;;AAEZ;AACAC,SAAO,EAHK;;AAKZ;AACAC,YAAU,IANE;;AAQZ;AACA;AACAC,WAAS,IAVG;;AAYZ;AACAC,cAAY,IAbA;;AAeZ;AACA;AACAC,YAAU,IAjBE;;AAmBZ;AACAC,aAAW,IApBC;;AAsBZ;AACAC,YAAU,CAvBE;;AAyBZ;AACAC,kBAAgB,KA1BJ;;AA4BZ;AACAC,aAAW,EA7BC;;AA+BZ;AACAC,WAAS,EAhCG;;AAkCZ;AACAC,eAAa,EAnCD;;AAqCZ;AACAC,iBAAe;AACdC,SAAM,EADQ;AAEdC,UAAO;AAFO,GAtCH;;AA2CZC,aAAW;AA3CC,EAAb;;AA8CA;AACAf,QAAOU,OAAP,CAAejB,IAAf,CAAqBO,OAAOY,aAA5B;;AAEA,KAAII,mBAAmB,EAAvB;;AAEA;AACA,UAASC,wBAAT,CAAmC7C,GAAnC,EAAyC;AACxC,MAAIX,CAAJ;AAAA,MAAOyD,CAAP;AAAA,MAAU7C,GAAV;AAAA,MACC8C,gBAAgB,CAAE,OAAF,EAAW,MAAX,EAAmB,KAAnB,EAA0B,WAA1B,EAAuC,UAAvC,EACf,aADe,EACA,YADA,CADjB;;AAIA,WAASC,uBAAT,CAAkC/C,GAAlC,EAAwC;AACvC,OAAIgD,kBAAkB,SAAlBA,eAAkB,CAAUC,QAAV,EAAqB;AAC1C,QAAKzC,WAAYyC,QAAZ,MAA2B,UAAhC,EAA6C;AAC5C,WAAM,IAAIxB,KAAJ,CACL,8EADK,CAAN;AAGA;;AAEDE,WAAOe,SAAP,CAAkB1C,GAAlB,EAAwBoB,IAAxB,CAA8B6B,QAA9B;AACA,IARD;;AAUA;AACA;AACA;AACAN,oBAAkB3C,GAAlB,IAA0BgD,eAA1B;;AAEA,UAAOA,eAAP;AACA;;AAED,OAAM5D,IAAI,CAAJ,EAAOyD,IAAIC,cAActD,MAA/B,EAAuCJ,IAAIyD,CAA3C,EAA8CzD,GAA9C,EAAoD;AACnDY,SAAM8C,cAAe1D,CAAf,CAAN;;AAEA;AACA,OAAKoB,WAAYmB,OAAOe,SAAP,CAAkB1C,GAAlB,CAAZ,MAA0C,WAA/C,EAA6D;AAC5D2B,WAAOe,SAAP,CAAkB1C,GAAlB,IAA0B,EAA1B;AACA;;AAEDD,OAAKC,GAAL,IAAa+C,wBAAyB/C,GAAzB,CAAb;AACA;AACD;;AAED,UAASkD,mBAAT,CAA8BlD,GAA9B,EAAmCmD,IAAnC,EAA0C;AACzC,MAAI/D,CAAJ,EAAOyD,CAAP,EAAUH,SAAV;;AAEAA,cAAYf,OAAOe,SAAP,CAAkB1C,GAAlB,CAAZ;AACA,OAAMZ,IAAI,CAAJ,EAAOyD,IAAIH,UAAUlD,MAA3B,EAAmCJ,IAAIyD,CAAvC,EAA0CzD,GAA1C,EAAgD;AAC/CsD,aAAWtD,CAAX,EAAgB+D,IAAhB;AACA;AACD;;AAED;AACA;AACA;AACA,UAASC,sBAAT,GAAkC;AACjC,MAAIJ,eAAJ,EAAqBK,YAArB;;AAEA,OAAML,eAAN,IAAyBL,gBAAzB,EAA4C;AAC3C,OAAKnF,MAAOwF,eAAP,MAA6BL,iBAAkBK,eAAlB,CAAlC,EAAwE;;AAEvEK,mBAAe7F,MAAOwF,eAAP,CAAf;;AAEA;AACAxF,UAAOwF,eAAP,IAA2BL,iBAAkBK,eAAlB,CAA3B;;AAEA;AACAxF,UAAOwF,eAAP,EAA0BK,YAA1B;;AAEA,QAAK9F,OAAO+F,OAAP,IAAkB/F,OAAO+F,OAAP,CAAeC,IAAtC,EAA6C;AAC5ChG,YAAO+F,OAAP,CAAeC,IAAf,CACC,WAAWP,eAAX,GAA6B,mCAA7B,GACA,0EADA,GAEA,wDAHD;AAKA;AACD;AACD;AACD;;AAEC,cAAW;AACZ,MAAK,CAACjF,QAAQC,QAAd,EAAyB;AACxB;AACA;;AAED;AACA;AACA,MAAIwF,gBAAgB1F,OAAO2F,OAA3B;;AAEA;AACA;AACA;AACA3F,SAAO2F,OAAP,GAAiB,UAAUjC,KAAV,EAAiBkC,QAAjB,EAA2BC,OAA3B,EAAqC;AACrD,OAAIC,MAAM,KAAV;AACA,OAAKJ,aAAL,EAAqB;AACpBI,UAAMJ,cAAehC,KAAf,EAAsBkC,QAAtB,EAAgCC,OAAhC,CAAN;AACA;;AAED;AACA;AACA,OAAKC,QAAQ,IAAb,EAAoB;AACnB,QAAKpG,MAAMmE,MAAN,CAAakC,OAAlB,EAA4B;AAC3B,SAAKrG,MAAMmE,MAAN,CAAakC,OAAb,CAAqBC,kBAA1B,EAA+C;AAC9C,aAAO,IAAP;AACA;AACDtG,WAAMuG,WAAN,CAAmBvC,KAAnB,EAA0BkC,WAAW,GAAX,GAAiBC,OAA3C;AACA,KALD,MAKO;AACNnG,WAAM0D,IAAN,CAAY,gBAAZ,EAA8Bb,OAAQ,YAAW;AAChD7C,YAAMuG,WAAN,CAAmBvC,KAAnB,EAA0BkC,WAAW,GAAX,GAAiBC,OAA3C;AACA,MAF6B,EAE3B,EAAEK,WAAW,IAAb,EAF2B,CAA9B;AAGA;AACD,WAAO,KAAP;AACA;;AAED,UAAOJ,GAAP;AACA,GAvBD;AAwBA,EApCC,GAAF;;AAsCA;AACApG,OAAMyG,OAAN,GAAgB,EAAGlG,QAAQC,QAAR,IAAoBF,OAAOoG,QAAP,CAAgBC,QAAhB,KAA6B,OAApD,CAAhB;;AAEA;AACA3G,OAAM4G,OAAN,GAAgB,QAAhB;;AAEA/D,QAAQ7C,KAAR,EAAe;;AAEd;AACA6G,UAAQ,gBAAU7B,IAAV,EAAgB8B,eAAhB,EAAiCC,UAAjC,EAA8C;AACrD,OAAIF,MAAJ,EAAYG,SAAZ;AACA,OAAIjC,gBAAgBZ,OAAOY,aAA3B;;AAEA,OAAKkC,UAAUjF,MAAV,KAAqB,CAA1B,EAA8B;AAC7B,QAAKgB,WAAY8D,eAAZ,MAAkC,UAAvC,EAAoD;AACnDC,kBAAaD,eAAb;AACAA,uBAAkBrG,SAAlB;AACA;AACD;;AAED;AACA;AACA,OAAKqG,mBAAmBA,gBAAgBI,KAAxC,EAAgD;AAC/CJ,oBAAgBK,UAAhB,GAA6BL,gBAAgBI,KAA7C;AACA,WAAOJ,gBAAgBI,KAAvB;AACA;AACD,OAAKJ,mBAAmBA,gBAAgBM,QAAxC,EAAmD;AAClDN,oBAAgBO,SAAhB,GAA4BP,gBAAgBM,QAA5C;AACA,WAAON,gBAAgBM,QAAvB;AACA;;AAEDP,YAASS,cAAT;;AAEAN,eAAY;AACXG,gBAAYI,QAASV,MAAT,EAAiB,YAAjB,CADD;AAEXQ,eAAWE,QAASV,MAAT,EAAiB,WAAjB;AAFA,IAAZ;;AAKA,OAAK7D,WAAY+D,UAAZ,MAA6B,UAAlC,EAA+C;AAC9C5C,WAAOW,WAAP,CAAmBlB,IAAnB,CAAyBiD,MAAzB;AACAW,qBAAkBX,MAAlB;AACAE,eAAWnE,IAAX,CAAiBiE,OAAOC,eAAxB,EAAyCE,SAAzC;AACA7C,WAAOW,WAAP,CAAmB2C,GAAnB;AACAZ,aAASA,OAAOa,YAAP,IAAuB3C,aAAhC;AACA;;AAEDyC,oBAAkBX,MAAlB;;AAEA,YAASS,YAAT,GAAwB;AACvB,QAAII,eAAevD,OAAOW,WAAP,CAAmB9C,MAAnB,GAClBmC,OAAOW,WAAP,CAAmB/C,KAAnB,CAA0B,CAAC,CAA3B,EAAgC,CAAhC,CADkB,GACoB,IADvC;AAEA,QAAI4F,aAAaD,iBAAiB,IAAjB,GAChB,CAAEA,aAAa1C,IAAf,EAAqBA,IAArB,EAA4BnB,IAA5B,CAAkC,KAAlC,CADgB,GAC4BmB,IAD7C;AAEA,QAAI6B,SAAS;AACZ7B,WAAM2C,UADM;AAEZD,mBAAcA,YAFF;AAGZzC,YAAO,EAHK;AAIZ2C,eAAUC,aAAcF,UAAd;AAJE,KAAb;;AAOA,QAAIG,MAAM,EAAV;AACA,QAAKJ,YAAL,EAAoB;AACnB7E,YAAQiF,GAAR,EAAaJ,aAAaZ,eAA1B;AACA,YAAOgB,IAAIX,UAAX;AACA,YAAOW,IAAIT,SAAX;AACA;AACDxE,WAAQiF,GAAR,EAAahB,eAAb;AACAD,WAAOC,eAAP,GAAyBgB,GAAzB;;AAEA3D,WAAOU,OAAP,CAAejB,IAAf,CAAqBiD,MAArB;AACA,WAAOA,MAAP;AACA;;AAED,YAASW,gBAAT,CAA2BX,MAA3B,EAAoC;AACnC1C,WAAOY,aAAP,GAAuB8B,MAAvB;AACA;AAED,GAvEa;;AAyEd;AACAkB,aAAWA,SA1EG;;AA4EdrE,QAAMA,IA5EQ;;AA8EdsE,QAAMA,IA9EQ;;AAgFdC,QAAMA,IAhFQ;;AAkFd;AACA;AACAC,SAAO,eAAUC,KAAV,EAAkB;AACxB,OAAIC,2BAA2BlH,iBAA/B;;AAEA,OAAK,CAACiD,OAAOkC,OAAb,EAAuB;AACtBnF,wBAAoB,IAApB;;AAEA,QAAKC,UAAL,EAAkB;AACjB,WAAM,IAAI8C,KAAJ,CAAW,gEAAX,CAAN;AACA,KAFD,MAEO,IAAKmE,4BAA4BD,QAAQ,CAAzC,EAA6C;AACnD,WAAM,IAAIlE,KAAJ,CAAW,yDAAX,CAAN;AACA,KAFM,MAEA,IAAKE,OAAOkE,SAAZ,EAAwB;AAC9B,WAAM,IAAIpE,KAAJ,CAAW,mDAChB,iCADK,CAAN;AAEA,KAHM,MAGA,IAAK,CAACE,OAAOmE,UAAb,EAA0B;;AAEhC;AACAnE,YAAOkE,SAAP,GAAmB,IAAnB;AACA;AACA;AACD,IAhBD,MAgBO;;AAEN;AACAlE,WAAOkC,OAAP,CAAekC,SAAf,IAA4BJ,SAAS,CAArC;;AAEA;AACA,QAAKhF,MAAOgB,OAAOkC,OAAP,CAAekC,SAAtB,CAAL,EAAyC;AACxCpE,YAAOkC,OAAP,CAAekC,SAAf,GAA2B,CAA3B;;AAEAvI,WAAMuG,WAAN,CACC,8CADD,EAECvF,qBAAsB,CAAtB,CAFD;AAIA;AACA;;AAED;AACA,QAAKmD,OAAOkC,OAAP,CAAekC,SAAf,GAA2B,CAAhC,EAAoC;AACnC;AACA;;AAED;AACA,QAAKpE,OAAOkC,OAAP,CAAekC,SAAf,GAA2B,CAAhC,EAAoC;AACnCpE,YAAOkC,OAAP,CAAekC,SAAf,GAA2B,CAA3B;;AAEAvI,WAAMuG,WAAN,CACC,uEADD,EAECvF,qBAAsB,CAAtB,CAFD;AAIA;AACA;AACD;;AAEDwH;AACA,GAzIa;;AA2Id;AACAC,QAAM,cAAUN,KAAV,EAAkB;;AAEvB;AACA,OAAK,CAAChE,OAAOkC,OAAb,EAAuB;AACtB,UAAM,IAAIpC,KAAJ,CAAW,yCAAX,CAAN;AACA;;AAED;AACAE,UAAOkC,OAAP,CAAekC,SAAf,IAA4BJ,SAAS,CAArC;;AAEAO;AACA,GAvJa;;AAyJdvE,UAAQA,MAzJM;;AA2JdxB,MAAIA,EA3JU;;AA6JdK,cAAYA,UA7JE;;AA+JdH,UAAQA,MA/JM;;AAiKd8F,QAAM,gBAAW;AAChBxE,UAAOmE,UAAP,GAAoB,IAApB;;AAEA;AACAzF,UAAQsB,MAAR,EAAgB;AACfyE,WAAO,EAAEC,KAAK,CAAP,EAAUC,KAAK,CAAf,EADQ;AAEfC,iBAAa,EAAEF,KAAK,CAAP,EAAUC,KAAK,CAAf,EAFE;AAGfE,aAAS,CAHM;AAIfC,gBAAY,IAJG;AAKfZ,eAAW,IALI;AAMfa,YAAQ;AANO,IAAhB,EAOG,IAPH;;AASA/E,UAAOE,QAAP,GAAkB,KAAlB;;AAEA,OAAKF,OAAOkE,SAAZ,EAAwB;AACvBG;AACA;AACD,GAnLa;;AAqLdjF,SAAO,eAAUD,MAAV,EAAmB;AACzBA,YAAS,CAAEA,UAAU,CAAZ,IAAkB,CAA3B;AACA,UAAOtC,qBAAsBsC,MAAtB,CAAP;AACA;AAxLa,EAAf;;AA2LA8B,0BAA0BpF,KAA1B;;AAEA,UAASmJ,KAAT,GAAiB;AAChB,MAAIvH,CAAJ;AAAA,MAAOyD,CAAP;AAAA,MACC+D,aAAa,EADd;;AAGA;AACA,MAAK,CAACjF,OAAO6E,OAAb,EAAuB;;AAEtB;AACA7E,UAAO6E,OAAP,GAAiB9I,KAAjB;;AAEA0F;;AAEA;AACA,OAAKzB,OAAOU,OAAP,CAAgB,CAAhB,EAAoBG,IAApB,KAA6B,EAA7B,IAAmCb,OAAOU,OAAP,CAAgB,CAAhB,EAAoBI,KAApB,CAA0BjD,MAA1B,KAAqC,CAA7E,EAAiF;AAChFmC,WAAOU,OAAP,CAAelB,KAAf;AACA;;AAED;AACA,QAAM/B,IAAI,CAAJ,EAAOyD,IAAIlB,OAAOU,OAAP,CAAe7C,MAAhC,EAAwCJ,IAAIyD,CAA5C,EAA+CzD,GAA/C,EAAqD;AACpDwH,eAAWxF,IAAX,CAAiB;AAChBoB,WAAMb,OAAOU,OAAP,CAAgBjD,CAAhB,EAAoBoD,IADV;AAEhBC,YAAOd,OAAOU,OAAP,CAAgBjD,CAAhB,EAAoBqD;AAFX,KAAjB;AAIA;;AAED;AACAS,uBAAqB,OAArB,EAA8B;AAC7B2D,gBAAYC,KAAKnB,KADY;AAE7BtD,aAASuE;AAFoB,IAA9B;AAIA;;AAEDjF,SAAOE,QAAP,GAAkB,KAAlB;AACAkF,UAAS,IAAT;AACA;;AAED,UAASA,OAAT,CAAkBC,IAAlB,EAAyB;AACxB,WAASC,IAAT,GAAgB;AACfF,WAASC,IAAT;AACA;AACD,MAAItB,QAAQhI,KAAZ;AACAiE,SAAOuF,KAAP,GAAe,CAAEvF,OAAOuF,KAAP,IAAgB,CAAlB,IAAwB,CAAvC;;AAEA,SAAQvF,OAAOC,KAAP,CAAapC,MAAb,IAAuB,CAACmC,OAAOE,QAAvC,EAAkD;AACjD,OAAK,CAAC9D,QAAQH,UAAT,IAAuB+D,OAAO8E,UAAP,IAAqB,CAA5C,IACC/I,QAAQgI,KAAV,GAAoB/D,OAAO8E,UAD/B,EAC8C;AAC7C,QAAK9E,OAAOkC,OAAZ,EAAsB;;AAErB;AACAlC,YAAOkC,OAAP,CAAesD,SAAf,GAA2B,KAA3B;AACA;AACDxF,WAAOC,KAAP,CAAaT,KAAb;AACA,IARD,MAQO;AACNvD,eAAYqJ,IAAZ,EAAkB,EAAlB;AACA;AACA;AACD;AACDtF,SAAOuF,KAAP;AACA,MAAKF,QAAQ,CAACrF,OAAOE,QAAhB,IAA4B,CAACF,OAAOC,KAAP,CAAapC,MAA1C,IAAoDmC,OAAOuF,KAAP,KAAiB,CAA1E,EAA8E;AAC7EE;AACA;AACD;;AAED,UAASlB,eAAT,GAA2B;AAC1BvE,SAAOE,QAAP,GAAkB,IAAlB;;AAEA,MAAKF,OAAO0F,WAAP,IAAsBtJ,QAAQH,UAAnC,EAAgD;AAC/CC,gBAAc8D,OAAO2F,OAArB;AACA3F,UAAO2F,OAAP,GAAiB1J,WAAY,YAAW;AACvC,QAAK+D,OAAOkC,OAAZ,EAAsB;AACrBlC,YAAOkC,OAAP,CAAekC,SAAf,GAA2B,CAA3B;AACAvI,WAAMuG,WAAN,CAAmB,gBAAnB,EAAqCvF,qBAAsB,CAAtB,CAArC;AACA,KAHD,MAGO;AACN,WAAM,IAAIiD,KAAJ,CAAW,gBAAX,CAAN;AACA;AACDuE;AACA,IARgB,EAQdrE,OAAO0F,WARO,CAAjB;AASA;AACD;;AAED,UAASrB,gBAAT,GAA4B;AAC3BrH,eAAa,IAAb;;AAEA;AACA,MAAKZ,QAAQH,UAAb,EAA0B;AACzBA,cAAY,YAAW;AACtB,QAAK+D,OAAOkC,OAAP,IAAkBlC,OAAOkC,OAAP,CAAekC,SAAf,GAA2B,CAAlD,EAAsD;AACrD;AACA;AACD,QAAKpE,OAAO2F,OAAZ,EAAsB;AACrBzJ,kBAAc8D,OAAO2F,OAArB;AACA;;AAEDX;AACA,IATD,EASG,EATH;AAUA,GAXD,MAWO;AACNA;AACA;AACD;;AAED,UAASS,IAAT,GAAgB;AACf,MAAIG,OAAJ,EAAaC,MAAb;;AAEA7F,SAAO8F,OAAP,GAAiB,IAAjB;;AAEA;AACA,MAAK9F,OAAO+F,cAAZ,EAA6B;AAC5BxE,uBAAqB,YAArB,EAAmC;AAClCV,UAAMb,OAAO+F,cAAP,CAAsBlF,IADM;AAElCC,WAAOd,OAAO+F,cAAP,CAAsBjF,KAFK;AAGlCkF,YAAQhG,OAAO4E,WAAP,CAAmBD,GAHO;AAIlCkB,YAAQ7F,OAAO4E,WAAP,CAAmBF,GAAnB,GAAyB1E,OAAO4E,WAAP,CAAmBD,GAJlB;AAKlCsB,WAAOjG,OAAO4E,WAAP,CAAmBF,GALQ;AAMlCkB,aAAS7J,QAAQiE,OAAO4E,WAAP,CAAmBC;AANF,IAAnC;AAQA;AACD,SAAO7E,OAAO+F,cAAd;;AAEAH,YAAU7J,QAAQiE,OAAO6E,OAAzB;AACAgB,WAAS7F,OAAOyE,KAAP,CAAaC,GAAb,GAAmB1E,OAAOyE,KAAP,CAAaE,GAAzC;;AAEApD,sBAAqB,MAArB,EAA6B;AAC5ByE,WAAQhG,OAAOyE,KAAP,CAAaE,GADO;AAE5BkB,WAAQA,MAFoB;AAG5BI,UAAOjG,OAAOyE,KAAP,CAAaC,GAHQ;AAI5BkB,YAASA;AAJmB,GAA7B;AAMA;;AAED,UAASxC,OAAT,CAAkBV,MAAlB,EAA0BwD,QAA1B,EAAqC;AACpC,MAAKxD,OAAOC,eAAP,KAA2BrG,SAAhC,EAA4C;AAC3CoG,UAAOC,eAAP,GAAyB,EAAzB;AACA;;AAED,SAAO,UAAUrB,QAAV,EAAqB;AAC3BoB,UAAOC,eAAP,CAAwBuD,QAAxB,IAAqC5E,QAArC;AACA,GAFD;AAGA;;AAED,KAAI6E,UAAU,KAAd;AACA,KAAIC,gBAAgB,CAApB;AACA,KAAIC,WAAJ;;AAEA,UAASlB,IAAT,CAAemB,QAAf,EAA0B;AACzB,MAAI7I,CAAJ,EAAOyD,CAAP;;AAEA,IAAEiE,KAAKnB,KAAP;;AAEAtF,SAAQ,IAAR,EAAc4H,QAAd;AACA,OAAKC,UAAL,GAAkB,EAAlB;AACA,OAAKnC,SAAL,GAAiB,CAAjB;AACA,OAAKoB,SAAL,GAAiB,KAAjB;AACA,OAAK9C,MAAL,GAAc1C,OAAOY,aAArB;AACA,OAAKxB,KAAL,GAAavC,qBAAsB,CAAtB,CAAb;;AAEA;AACA,OAAMY,IAAI,CAAJ,EAAOyD,IAAI,KAAKwB,MAAL,CAAY5B,KAA7B,EAAoCrD,IAAIyD,EAAErD,MAA1C,EAAkDJ,GAAlD,EAAwD;AACvD,OAAK,KAAKiF,MAAL,CAAY5B,KAAZ,CAAmBrD,CAAnB,EAAuBoD,IAAvB,KAAgC,KAAK2F,QAA1C,EAAqD;AACpD,SAAKA,QAAL,IAAiB,GAAjB;AACA;AACD;;AAED,OAAKC,MAAL,GAAc/C,aAAc,KAAKhB,MAAL,CAAY7B,IAA1B,EAAgC,KAAK2F,QAArC,CAAd;;AAEA,OAAK9D,MAAL,CAAY5B,KAAZ,CAAkBrB,IAAlB,CAAwB;AACvBoB,SAAM,KAAK2F,QADY;AAEvBC,WAAQ,KAAKA;AAFU,GAAxB;;AAKA,MAAKH,SAASzC,IAAd,EAAqB;;AAEpB;AACA,QAAKvC,QAAL,GAAgB,YAAW,CAAE,CAA7B;AACA,QAAKoF,KAAL,GAAa,KAAb;AACA,QAAKC,QAAL,GAAgB,CAAhB;AACA,GAND,MAMO;AACN,QAAKC,MAAL,GAAc,IAAIC,MAAJ,CAAY,IAAZ,CAAd;AACA;AACD;;AAED1B,MAAKnB,KAAL,GAAa,CAAb;;AAEAmB,MAAKhI,SAAL,GAAiB;AAChB2J,UAAQ,kBAAW;AAClB;;AAEC;AACA,QAAKpE,MAAL,KAAgB1C,OAAO+F,cAAvB;;AAEC;AACA;AACA;AACA;AACA,IAAC3I,OAAOqB,IAAP,CAAauB,MAAb,EAAqB,gBAArB,CATH,EAUE;AACD,QAAK5C,OAAOqB,IAAP,CAAauB,MAAb,EAAqB,gBAArB,CAAL,EAA+C;AAC9CuB,yBAAqB,YAArB,EAAmC;AAClCV,YAAMb,OAAO+F,cAAP,CAAsBlF,IADM;AAElCC,aAAOd,OAAO+F,cAAP,CAAsBjF,KAFK;AAGlCkF,cAAQhG,OAAO4E,WAAP,CAAmBD,GAHO;AAIlCkB,cAAQ7F,OAAO4E,WAAP,CAAmBF,GAAnB,GAAyB1E,OAAO4E,WAAP,CAAmBD,GAJlB;AAKlCsB,aAAOjG,OAAO4E,WAAP,CAAmBF,GALQ;AAMlCkB,eAAS7J,QAAQiE,OAAO4E,WAAP,CAAmBC;AANF,MAAnC;AAQA;AACD7E,WAAO+F,cAAP,GAAwB,KAAKrD,MAA7B;AACA1C,WAAO4E,WAAP,GAAqB,EAAEF,KAAK,CAAP,EAAUC,KAAK,CAAf,EAAkBE,SAAS9I,KAA3B,EAArB;AACAwF,wBAAqB,aAArB,EAAoC;AACnCV,WAAM,KAAK6B,MAAL,CAAY7B,IADiB;AAEnCC,YAAO,KAAK4B,MAAL,CAAY5B;AAFgB,KAApC;AAIA;;AAEDd,UAAOkC,OAAP,GAAiB,IAAjB;;AAEA,OAAK,KAAKQ,MAAL,CAAYC,eAAjB,EAAmC;AAClC,WAAO,KAAKD,MAAL,CAAYC,eAAZ,CAA4BK,UAAnC;AACA,WAAO,KAAKN,MAAL,CAAYC,eAAZ,CAA4BO,SAAnC;AACA;AACD,QAAKP,eAAL,GAAuBjE,OAAQ,EAAR,EAAY,KAAKgE,MAAL,CAAYC,eAAxB,CAAvB;;AAEA,QAAKkC,OAAL,GAAe9I,KAAf;AACAwF,uBAAqB,WAArB,EAAkC;AACjCV,UAAM,KAAK2F,QADsB;AAEjC9D,YAAQ,KAAKA,MAAL,CAAY7B,IAFa;AAGjC4F,YAAQ,KAAKA;AAHoB,IAAlC;;AAMA,OAAK,CAACzG,OAAO+G,SAAb,EAAyB;AACxBC;AACA;AACD,GAjDe;;AAmDhBC,OAAK,eAAW;AACf,OAAIC,OAAJ;;AAEAlH,UAAOkC,OAAP,GAAiB,IAAjB;;AAEA,OAAK,KAAKwE,KAAV,EAAkB;AACjB7K,UAAMyI,IAAN;AACA;;AAED,QAAK6C,eAAL,GAAuBpL,KAAvB;;AAEA,OAAKiE,OAAOoH,UAAZ,EAAyB;AACxBC,YAAS,IAAT;AACA;AACA;;AAED,OAAI;AACHA,YAAS,IAAT;AACA,IAFD,CAEE,OAAQ1K,CAAR,EAAY;AACb,SAAKyF,WAAL,CAAkB,oBAAqB,KAAKmE,UAAL,CAAgB1I,MAAhB,GAAyB,CAA9C,IAAoD,GAApD,GACjB,KAAKuB,KADY,GACJ,IADI,IACKzC,EAAE2K,OAAF,IAAa3K,CADlB,CAAlB,EACyCuC,kBAAmBvC,CAAnB,EAAsB,CAAtB,CADzC;;AAGA;AACAqK;;AAEA;AACA,QAAKhH,OAAOE,QAAZ,EAAuB;AACtBrE,WAAMkI,KAAN;AACA;AACD;;AAED,YAASsD,OAAT,CAAkB9H,IAAlB,EAAyB;AACxB2H,cAAU3H,KAAK+B,QAAL,CAAc7C,IAAd,CAAoBc,KAAKoD,eAAzB,EAA0CpD,KAAKqH,MAA/C,CAAV;AACArH,SAAKgI,cAAL,CAAqBL,OAArB;AACA;AACD,GAtFe;;AAwFhBM,SAAO,iBAAW;AACjBC;AACA,GA1Fe;;AA4FhBC,aAAW,mBAAUC,IAAV,EAAgBzB,QAAhB,EAA2B;AACrC,OAAIgB,OAAJ;AAAA,OACC3H,OAAO,IADR;AAEA,UAAO,SAASqI,OAAT,GAAmB;AACzB5H,WAAOkC,OAAP,GAAiB3C,IAAjB;AACA,QAAKS,OAAOoH,UAAZ,EAAyB;AACxBS;AACA;AACA;AACD,QAAI;AACHA;AACA,KAFD,CAEE,OAAQhI,KAAR,EAAgB;AACjBN,UAAK6C,WAAL,CAAkB8D,WAAW,aAAX,GAA2B3G,KAAKiH,QAAhC,GAA2C,IAA3C,IAChB3G,MAAMyH,OAAN,IAAiBzH,KADD,CAAlB,EAC4BX,kBAAmBW,KAAnB,EAA0B,CAA1B,CAD5B;AAEA;;AAED,aAASgI,QAAT,GAAoB;AACnBX,eAAUS,KAAKlJ,IAAL,CAAWc,KAAKoD,eAAhB,EAAiCpD,KAAKqH,MAAtC,CAAV;AACArH,UAAKgI,cAAL,CAAqBL,OAArB,EAA8BhB,QAA9B;AACA;AACD,IAjBD;AAkBA,GAjHe;;AAmHhB;AACA4B,SAAO,eAAUC,OAAV,EAAoB;AAC1B,OAAID,QAAQ,EAAZ;;AAEA,YAASE,YAAT,CAAuBzI,IAAvB,EAA6BmD,MAA7B,EAAsC;AACrC,QAAKA,OAAOa,YAAZ,EAA2B;AAC1ByE,kBAAczI,IAAd,EAAoBmD,OAAOa,YAA3B;AACA;AACD,QAAKb,OAAOC,eAAP,IACJ9G,MAAMgD,UAAN,CAAkB6D,OAAOC,eAAP,CAAwBoF,OAAxB,CAAlB,MAA0D,UAD3D,EACwE;AACvED,WAAMrI,IAAN,CAAYF,KAAKmI,SAAL,CAAgBhF,OAAOC,eAAP,CAAwBoF,OAAxB,CAAhB,EAAmDA,OAAnD,CAAZ;AACA;AACD;;AAED;AACA,OAAK,CAAC,KAAKlE,IAAX,EAAkB;AACjBmE,iBAAc,IAAd,EAAoB,KAAKtF,MAAzB;AACA;AACD,UAAOoF,KAAP;AACA,GAtIe;;AAwIhBG,UAAQ,kBAAW;AAClBjI,UAAOkC,OAAP,GAAiB,IAAjB;AACA,OAAKlC,OAAOQ,cAAP,IAAyB,KAAKmG,QAAL,KAAkB,IAAhD,EAAuD;AACtD,SAAKvE,WAAL,CAAkB,mEACjB,aADD,EACgB,KAAKhD,KADrB;AAEA,IAHD,MAGO,IAAK,KAAKuH,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkB,KAAKJ,UAAL,CAAgB1I,MAAjE,EAA0E;AAChF,SAAKuE,WAAL,CAAkB,cAAc,KAAKuE,QAAnB,GAA8B,mBAA9B,GACjB,KAAKJ,UAAL,CAAgB1I,MADC,GACQ,WAD1B,EACuC,KAAKuB,KAD5C;AAEA,IAHM,MAGA,IAAK,KAAKuH,QAAL,KAAkB,IAAlB,IAA0B,CAAC,KAAKJ,UAAL,CAAgB1I,MAAhD,EAAyD;AAC/D,SAAKuE,WAAL,CAAkB,+DACjB,sCADD,EACyC,KAAKhD,KAD9C;AAEA;;AAED,OAAI3B,CAAJ;AAAA,OACCkH,MAAM,CADP;;AAGA,QAAKiB,OAAL,GAAe7J,QAAQ,KAAK8I,OAA5B;AACA7E,UAAOyE,KAAP,CAAaC,GAAb,IAAoB,KAAK6B,UAAL,CAAgB1I,MAApC;AACAmC,UAAO4E,WAAP,CAAmBF,GAAnB,IAA0B,KAAK6B,UAAL,CAAgB1I,MAA1C;;AAEA,QAAMJ,IAAI,CAAV,EAAaA,IAAI,KAAK8I,UAAL,CAAgB1I,MAAjC,EAAyCJ,GAAzC,EAA+C;AAC9C,QAAK,CAAC,KAAK8I,UAAL,CAAiB9I,CAAjB,EAAqBE,MAA3B,EAAoC;AACnCgH;AACA3E,YAAOyE,KAAP,CAAaE,GAAb;AACA3E,YAAO4E,WAAP,CAAmBD,GAAnB;AACA;AACD;;AAEDpD,uBAAqB,UAArB,EAAiC;AAChCV,UAAM,KAAK2F,QADqB;AAEhC9D,YAAQ,KAAKA,MAAL,CAAY7B,IAFY;AAGhCqH,aAAS,CAAC,CAAC,KAAKrE,IAHgB;AAIhCmC,YAAQrB,GAJwB;AAKhCkB,YAAQ,KAAKU,UAAL,CAAgB1I,MAAhB,GAAyB8G,GALD;AAMhCsB,WAAO,KAAKM,UAAL,CAAgB1I,MANS;AAOhC+H,aAAS,KAAKA,OAPkB;;AAShC;AACAW,gBAAY,KAAKA,UAVe;AAWhCE,YAAQ,KAAKA,MAXmB;;AAahC;AACA0B,YAAQ,KAAK/I,KAdmB;;AAgBhC;AACAgJ,cAAU,KAAKxC;AAjBiB,IAAjC;;AAoBA;AACA;AACA;AACA/J,SAAMwM,KAAN;;AAEArI,UAAOkC,OAAP,GAAiB5F,SAAjB;AACA,GA9Le;;AAgMhB2D,SAAO,iBAAW;AACjB,OAAIqI,QAAJ;AAAA,OACC/I,OAAO,IADR;;AAGA,OAAK,CAAC,KAAKgJ,KAAL,EAAN,EAAqB;AACpB;AACA;;AAED,YAAStB,GAAT,GAAe;;AAEd;AACAuB,gBAAa,CACZ,YAAW;AACVjJ,UAAKuH,MAAL;AACA,KAHW,EAKZvH,KAAKuI,KAAL,CAAY,YAAZ,CALY,EAMZ,YAAW;AACVvI,UAAK0H,GAAL;AACA,KARW,EAUZ1H,KAAKuI,KAAL,CAAY,WAAZ,EAA0BW,OAA1B,EAVY,EAYZ,YAAW;AACVlJ,UAAKiI,KAAL;AACA,KAdW,EAeZ,YAAW;AACVjI,UAAK0I,MAAL;AACA,KAjBW,CAAb;AAmBA;;AAED;AACAK,cAAWzM,MAAMmE,MAAN,CAAaG,OAAb,IAAwB/D,QAAQG,cAAhC,IACT,CAACA,eAAemM,OAAf,CAAwB,gBAAgB,KAAKhG,MAAL,CAAY7B,IAA5B,GAAmC,GAAnC,GAAyC,KAAK2F,QAAtE,CADH;;AAGA,UAAOgC,YAAavB,GAAb,EAAkBqB,QAAlB,EAA4BtI,OAAO2I,IAAnC,CAAP;AACA,GArOe;;AAuOhBC,cAAY,oBAAUC,UAAV,EAAuB;;AAElC;AACA,OAAIV,MAAJ;AAAA,OACCW,UAAU;AACTpG,YAAQ,KAAKA,MAAL,CAAY7B,IADX;AAETA,UAAM,KAAK2F,QAFF;AAGT7I,YAAQkL,WAAWlL,MAHV;AAIT2J,aAASuB,WAAWvB,OAJX;AAKTyB,YAAQF,WAAWE,MALV;AAMTpC,cAAUkC,WAAWlC,QANZ;AAOTF,YAAQ,KAAKA,MAPJ;AAQTuC,cAAUH,WAAWG,QAAX,IAAuB,KARxB;AASTpD,aAAS7J,QAAQ,KAAK8I;AATb,IADX;;AAaA,OAAK,CAACgE,WAAWlL,MAAjB,EAA0B;AACzBwK,aAAStL,sBAAT;;AAEA,QAAKsL,MAAL,EAAc;AACbW,aAAQX,MAAR,GAAiBA,MAAjB;AACA;AACD;;AAED5G,uBAAqB,KAArB,EAA4BuH,OAA5B;;AAEA,QAAKvC,UAAL,CAAgB9G,IAAhB,CAAsB;AACrB9B,YAAQ,CAAC,CAACkL,WAAWlL,MADA;AAErB2J,aAASuB,WAAWvB;AAFC,IAAtB;AAIA,GArQe;;AAuQhBlF,eAAa,qBAAUkF,OAAV,EAAmBa,MAAnB,EAA2BY,MAA3B,EAAoC;AAChD,OAAK,EAAG,gBAAgB5D,IAAnB,CAAL,EAAiC;AAChC,UAAM,IAAIrF,KAAJ,CAAW,uDAChBjD,qBAAsB,CAAtB,CADK,CAAN;AAEA;;AAED,OAAIiM,UAAU;AACZpG,YAAQ,KAAKA,MAAL,CAAY7B,IADR;AAEZA,UAAM,KAAK2F,QAFC;AAGZ7I,YAAQ,KAHI;AAIZ2J,aAASA,WAAW,OAJR;AAKZyB,YAAQA,UAAU,IALN;AAMZtC,YAAQ,KAAKA,MAND;AAOZb,aAAS7J,QAAQ,KAAK8I;AAPV,IAAd;;AAUA,OAAKsD,MAAL,EAAc;AACbW,YAAQX,MAAR,GAAiBA,MAAjB;AACA;;AAED5G,uBAAqB,KAArB,EAA4BuH,OAA5B;;AAEA,QAAKvC,UAAL,CAAgB9G,IAAhB,CAAsB;AACrB9B,YAAQ,KADa;AAErB2J,aAASA;AAFY,IAAtB;AAIA,GAjSe;;AAmShBC,kBAAgB,wBAAUL,OAAV,EAAmB+B,KAAnB,EAA2B;AAC1C,OAAIC,IAAJ;AAAA,OAAU5B,OAAV;AAAA,OACC/H,OAAO,IADR;AAEA,OAAK2H,WAAW,IAAhB,EAAuB;AACtBgC,WAAOhC,QAAQgC,IAAf;AACA,QAAKrN,MAAMgD,UAAN,CAAkBqK,IAAlB,MAA6B,UAAlC,EAA+C;AAC9CrN,WAAMyI,IAAN;AACA4E,UAAKzK,IAAL,CACCyI,OADD,EAEC,YAAW;AAAErL,YAAMkI,KAAN;AAAgB,MAF9B,EAGC,UAAUlE,KAAV,EAAkB;AACjByH,gBAAU,uBACP,CAAC2B,KAAD,GAAS,QAAT,GAAoBA,MAAMnM,OAAN,CAAe,OAAf,EAAwB,EAAxB,CADb,IAET,GAFS,GAEHyC,KAAKiH,QAFF,GAEa,IAFb,IAEsB3G,MAAMyH,OAAN,IAAiBzH,KAFvC,CAAV;AAGAN,WAAK6C,WAAL,CAAkBkF,OAAlB,EAA2BpI,kBAAmBW,KAAnB,EAA0B,CAA1B,CAA3B;;AAEA;AACAmH;;AAEA;AACAnL,YAAMkI,KAAN;AACA,MAdF;AAgBA;AACD;AACD,GA5Te;;AA8ThBwE,SAAO,iBAAW;AACjB,OAAIxD,SAAS/E,OAAO+E,MAApB;AAAA,OACCoE,cAAc,0BAA0BC,IAA1B,CAAgCrE,MAAhC,CADf;AAAA,OAECrC,SAAS1C,OAAO0C,MAAP,IAAiB1C,OAAO0C,MAAP,CAAczD,WAAd,EAF3B;AAAA,OAGCoK,WAAa,KAAK3G,MAAL,CAAY7B,IAAZ,GAAmB,IAAnB,GAA0B,KAAK2F,QAH7C;;AAKA,YAAS8C,oBAAT,CAA+BC,UAA/B,EAA4C;AAC3C,QAAIC,iBAAiBD,WAAW1I,IAAX,GAAkB0I,WAAW1I,IAAX,CAAgB5B,WAAhB,EAAlB,GAAkD,IAAvE;AACA,QAAKuK,mBAAmB9G,MAAxB,EAAiC;AAChC,YAAO,IAAP;AACA,KAFD,MAEO,IAAK6G,WAAWhG,YAAhB,EAA+B;AACrC,YAAO+F,qBAAsBC,WAAWhG,YAAjC,CAAP;AACA,KAFM,MAEA;AACN,YAAO,KAAP;AACA;AACD;;AAED,YAASkG,kBAAT,CAA6BF,UAA7B,EAA0C;AACzC,WAAOxL,QAASwL,WAAW9F,QAApB,EAA8BzD,OAAOyD,QAArC,IAAkD,CAAC,CAAnD,IACN8F,WAAWhG,YAAX,IAA2BkG,mBAAoBF,WAAWhG,YAA/B,CAD5B;AAEA;;AAED;AACA,OAAK,KAAKjC,QAAL,IAAiB,KAAKA,QAAL,CAAce,SAApC,EAAgD;AAC/C,WAAO,IAAP;AACA;;AAED,OAAKrC,OAAOyD,QAAP,IAAmBzD,OAAOyD,QAAP,CAAgB5F,MAAhB,GAAyB,CAA5C,IACJ,CAAC4L,mBAAoB,KAAK/G,MAAzB,CADF,EACsC;;AAErC,WAAO,KAAP;AACA;;AAED,OAAK1C,OAAOyG,MAAP,IAAiBzG,OAAOyG,MAAP,CAAc5I,MAAd,GAAuB,CAAxC,IACJE,QAAS,KAAK0I,MAAd,EAAsBzG,OAAOyG,MAA7B,IAAwC,CADzC,EAC6C;;AAE5C,WAAO,KAAP;AACA;;AAED,OAAK/D,UAAU,CAAC4G,qBAAsB,KAAK5G,MAA3B,CAAhB,EAAsD;AACrD,WAAO,KAAP;AACA;;AAED,OAAK,CAACqC,MAAN,EAAe;AACd,WAAO,IAAP;AACA;;AAED,UAAOoE,cACN,KAAKA,WAAL,CAAkB,CAAC,CAACA,YAAa,CAAb,CAApB,EAAsCA,YAAa,CAAb,CAAtC,EAAwDA,YAAa,CAAb,CAAxD,EAA0EE,QAA1E,CADM,GAEN,KAAKK,YAAL,CAAmB3E,MAAnB,EAA2BsE,QAA3B,CAFD;AAGA,GAhXe;;AAkXhBF,eAAa,qBAAUQ,OAAV,EAAmBC,OAAnB,EAA4BC,KAA5B,EAAmCR,QAAnC,EAA8C;AAC1D,OAAIS,QAAQ,IAAIC,MAAJ,CAAYH,OAAZ,EAAqBC,KAArB,CAAZ;AACA,OAAI/K,QAAQgL,MAAMvK,IAAN,CAAY8J,QAAZ,CAAZ;;AAEA,UAAOvK,UAAU6K,OAAjB;AACA,GAvXe;;AAyXhBD,gBAAc,sBAAU3E,MAAV,EAAkBsE,QAAlB,EAA6B;AAC1CtE,YAASA,OAAO9F,WAAP,EAAT;AACAoK,cAAWA,SAASpK,WAAT,EAAX;;AAEA,OAAII,UAAU0F,OAAOiF,MAAP,CAAe,CAAf,MAAuB,GAArC;AACA,OAAK,CAAC3K,OAAN,EAAgB;AACf0F,aAASA,OAAOnH,KAAP,CAAc,CAAd,CAAT;AACA;;AAED;AACA,OAAKyL,SAASnL,OAAT,CAAkB6G,MAAlB,MAA+B,CAAC,CAArC,EAAyC;AACxC,WAAO1F,OAAP;AACA;;AAED;AACA,UAAO,CAACA,OAAR;AACA;AAzYe,EAAjB;;AA4YA;AACA;;;;;AAKAxD,OAAMwM,KAAN,GAAc,YAAW;;AAExB;AACA;AACA,MAAK,CAACjM,QAAQC,QAAd,EAAyB;AACxB;AACA;;AAED,MAAI4N,UAAU7N,QAAQC,QAAR,IAAoBA,SAAS6N,cAA7B,IACZ7N,SAAS6N,cAAT,CAAyB,eAAzB,CADF;;AAGA,MAAKD,OAAL,EAAe;AACdA,WAAQE,SAAR,GAAoBnK,OAAOiK,OAA3B;AACA;AACD,EAdD;;AAgBApO,OAAMuG,WAAN,GAAoB,YAAW;AAC9B,MAAK,CAACvG,MAAMmE,MAAN,CAAakC,OAAnB,EAA6B;AAC5B,SAAM,IAAIpC,KAAJ,CAAW,sDAChBjD,qBAAsB,CAAtB,CADK,CAAN;AAEA;;AAED;AACA,MAAIuN,cAAcvO,MAAMmE,MAAN,CAAakC,OAA/B;;AAEA,SAAOkI,YAAYhI,WAAZ,CAAwBiI,KAAxB,CAA+BD,WAA/B,EAA4CtH,SAA5C,CAAP;AACA,EAVD;;AAYA;AACA;AACA,UAASY,YAAT,CAAuBhB,MAAvB,EAA+B8D,QAA/B,EAA0C;AACzC,MAAI8D,GAAJ;AAAA,MACC7M,IAAI,CADL;AAAA,MAEC8M,OAAO,CAFR;AAAA,MAGCC,MAAM9H,SAAS,MAAT,GAAkB8D,QAHzB;AAAA,MAICiE,MAAMD,IAAI3M,MAJX;;AAMA,SAAQJ,IAAIgN,GAAZ,EAAiBhN,GAAjB,EAAuB;AACtB8M,UAAU,CAAEA,QAAQ,CAAV,IAAgBA,IAAlB,GAA2BC,IAAIE,UAAJ,CAAgBjN,CAAhB,CAAnC;AACA8M,WAAQ,CAAR;AACA;;AAED;AACA;AACAD,QAAM,CAAE,cAAcC,IAAhB,EAAuBtN,QAAvB,CAAiC,EAAjC,CAAN;AACA,MAAKqN,IAAIzM,MAAJ,GAAa,CAAlB,EAAsB;AACrByM,SAAM,YAAYA,GAAlB;AACA;;AAED,SAAOA,IAAI1M,KAAJ,CAAW,CAAC,CAAZ,CAAP;AACA;;AAED,UAAS4K,WAAT,CAAsBlH,QAAtB,EAAgCgH,QAAhC,EAA0CK,IAA1C,EAAiD;AAChD,MAAItD,OAAO,CAACiD,QAAZ;AAAA,MACCqC,KADD;;AAGA,MAAK9O,MAAMgD,UAAN,CAAkByC,QAAlB,MAAiC,OAAtC,EAAgD;AAC/C,UAAQA,SAASzD,MAAjB,EAA0B;AACzB2K,gBAAalH,SAAS9B,KAAT,EAAb;AACA;AACD;AACA;;AAED,MAAK8I,QAAL,EAAgB;AACftI,UAAOC,KAAP,CAAanC,MAAb,CAAqBsI,eAArB,EAAsC,CAAtC,EAAyC9E,QAAzC;AACA,GAFD,MAEO,IAAKqH,IAAL,EAAY;AAClB,OAAK,CAACtC,WAAN,EAAoB;AACnBA,kBAAcuE,qBAAsBjC,IAAtB,CAAd;AACA;;AAED;AACAgC,WAAQE,KAAKC,KAAL,CAAYzE,iBAAkBrG,OAAOC,KAAP,CAAapC,MAAb,GAAsBuI,aAAtB,GAAsC,CAAxD,CAAZ,CAAR;AACApG,UAAOC,KAAP,CAAanC,MAAb,CAAqBsI,gBAAgBuE,KAArC,EAA4C,CAA5C,EAA+CrJ,QAA/C;AACA,GARM,MAQA;AACNtB,UAAOC,KAAP,CAAaR,IAAb,CAAmB6B,QAAnB;AACA;;AAED,MAAKtB,OAAO8F,OAAP,IAAkB,CAAC9F,OAAOE,QAA/B,EAA0C;AACzCkF,WAASC,IAAT;AACA;AACD;;AAED,UAASuF,oBAAT,CAA+BjC,IAA/B,EAAsC;;AAErC;AACA;AACA,MAAIoC,SAASC,SAAUtH,aAAciF,IAAd,CAAV,EAAgC,EAAhC,KAAwC,CAAC,CAAtD;AACA,SAAO,YAAW;AACjBoC,aAAUA,UAAU,EAApB;AACAA,aAAUA,WAAW,EAArB;AACAA,aAAUA,UAAU,CAApB;;AAEA;AACA,OAAKA,SAAS,CAAd,EAAkB;AACjBA,cAAU,WAAV;AACA;;AAED,UAAOA,SAAS,WAAhB;AACA,GAXD;AAYA;;AAED,UAAS/D,UAAT,GAAsB;AACrBhH,SAAO+G,SAAP,GAAmB,EAAnB;;AAEA,MAAK/G,OAAOiL,SAAZ,EAAwB;AACvB,QAAM,IAAI5M,GAAV,IAAiBzC,MAAjB,EAA0B;AACzB,QAAKwB,OAAOqB,IAAP,CAAa7C,MAAb,EAAqByC,GAArB,CAAL,EAAkC;;AAEjC;AACA,SAAK,qBAAqBkB,IAArB,CAA2BlB,GAA3B,CAAL,EAAwC;AACvC;AACA;AACD2B,YAAO+G,SAAP,CAAiBtH,IAAjB,CAAuBpB,GAAvB;AACA;AACD;AACD;AACD;;AAED,UAASoJ,cAAT,GAA0B;AACzB,MAAIyD,UAAJ;AAAA,MACCC,cADD;AAAA,MAECC,MAAMpL,OAAO+G,SAFd;;AAIAC;;AAEAkE,eAAa5N,KAAM0C,OAAO+G,SAAb,EAAwBqE,GAAxB,CAAb;AACA,MAAKF,WAAWrN,MAAX,GAAoB,CAAzB,EAA6B;AAC5BhC,SAAMuG,WAAN,CAAmB,oCAAoC8I,WAAWxL,IAAX,CAAiB,IAAjB,CAAvD;AACA;;AAEDyL,mBAAiB7N,KAAM8N,GAAN,EAAWpL,OAAO+G,SAAlB,CAAjB;AACA,MAAKoE,eAAetN,MAAf,GAAwB,CAA7B,EAAiC;AAChChC,SAAMuG,WAAN,CAAmB,iCAAiC+I,eAAezL,IAAf,CAAqB,IAArB,CAApD;AACA;AACD;;AAED;AACA,UAASkE,SAAT,CAAoB4C,QAApB,EAA8BG,QAA9B,EAAwCrF,QAAxC,EAAmD;AAClD,MAAKwB,UAAUjF,MAAV,KAAqB,CAA1B,EAA8B;AAC7ByD,cAAWqF,QAAX;AACAA,cAAW,IAAX;AACA;;AAED9K,QAAM0D,IAAN,CAAYiH,QAAZ,EAAsBG,QAAtB,EAAgCrF,QAAhC,EAA0C,IAA1C;AACA;;AAED;AACA,UAAS/B,IAAT,CAAeiH,QAAf,EAAyBG,QAAzB,EAAmCrF,QAAnC,EAA6CoF,KAA7C,EAAqD;AACpD,MAAKP,OAAL,EAAgB;AAAE;AAAS;;AAE3B,MAAIkF,OAAJ;;AAEA,MAAKvI,UAAUjF,MAAV,KAAqB,CAA1B,EAA8B;AAC7ByD,cAAWqF,QAAX;AACAA,cAAW,IAAX;AACA;;AAED0E,YAAU,IAAIlG,IAAJ,CAAU;AACnBqB,aAAUA,QADS;AAEnBG,aAAUA,QAFS;AAGnBD,UAAOA,KAHY;AAInBpF,aAAUA;AAJS,GAAV,CAAV;;AAOA+J,UAAQpL,KAAR;AACA;;AAED;AACA,UAAS4D,IAAT,CAAe2C,QAAf,EAA0B;AACzB,MAAKL,OAAL,EAAgB;AAAE;AAAS;;AAE3B,MAAI5G,OAAO,IAAI4F,IAAJ,CAAU;AACpBqB,aAAUA,QADU;AAEpB3C,SAAM;AAFc,GAAV,CAAX;;AAKAtE,OAAKU,KAAL;AACA;;AAED;AACA,UAAS6D,IAAT,CAAe0C,QAAf,EAAyBG,QAAzB,EAAmCrF,QAAnC,EAA6CoF,KAA7C,EAAqD;AACpD,MAAI2E,OAAJ;;AAEA,MAAKlF,OAAL,EAAgB;AAAE;AAAS;;AAE3BtK,QAAMmE,MAAN,CAAaC,KAAb,CAAmBpC,MAAnB,GAA4B,CAA5B;AACAsI,YAAU,IAAV;;AAEA,MAAKrD,UAAUjF,MAAV,KAAqB,CAA1B,EAA8B;AAC7ByD,cAAWqF,QAAX;AACAA,cAAW,IAAX;AACA;;AAED0E,YAAU,IAAIlG,IAAJ,CAAU;AACnBqB,aAAUA,QADS;AAEnBG,aAAUA,QAFS;AAGnBD,UAAOA,KAHY;AAInBpF,aAAUA;AAJS,GAAV,CAAV;;AAOA+J,UAAQpL,KAAR;AACA;;AAED,UAAS4G,MAAT,CAAiByE,WAAjB,EAA+B;AAC9B,OAAK/L,IAAL,GAAY+L,WAAZ;AACA;;AAED;AACAzP,OAAM+K,MAAN,GAAeC,OAAO1J,SAAP,GAAmB;;AAEjC;AACA;AACAoO,UAAQ,gBAAUC,OAAV,EAAoB;AAC3B,OAAK1I,UAAUjF,MAAV,KAAqB,CAA1B,EAA8B;AAC7B,SAAK0B,IAAL,CAAUoH,QAAV,GAAqB6E,OAArB;AACA,IAFD,MAEO;AACN,WAAO,KAAKjM,IAAL,CAAUoH,QAAjB;AACA;AACD,GAVgC;;AAYjC;AACA;AACAD,SAAO,eAAU1C,KAAV,EAAkB;AACxB,OAAIzE,OAAO,KAAKA,IAAhB;AAAA,OACCkM,SAAS,KADV;AAAA,OAECC,kBAAkB1H,KAFnB;;AAIA,OAAK,OAAO0H,eAAP,KAA2B,WAAhC,EAA8C;AAC7CA,sBAAkB,CAAlB;AACA;;AAEDnM,QAAK6E,SAAL,IAAkB,CAAlB;AACA7E,QAAKiG,SAAL,GAAiB,IAAjB;AACAjB;;AAEA,UAAO,SAASkB,IAAT,GAAgB;;AAEtB,QAAKgG,MAAL,EAAc;AACblM,UAAK6C,WAAL,CAAkB,+CAAlB,EACCvF,qBAAsB,CAAtB,CADD;AAEA;AACA;AACD6O,uBAAmB,CAAnB;AACA,QAAKA,kBAAkB,CAAvB,EAA2B;AAC1B;AACA;;AAEDnM,SAAK6E,SAAL,IAAkB,CAAlB;AACAqH,aAAS,IAAT;AACApH;AACA,IAfD;AAgBA,GA3CgC;;AA6CjC;AACA;AACA5E,QAAM,cAAU9B,MAAV,EAAkBoL,MAAlB,EAA0BpC,QAA1B,EAAoCW,OAApC,EAA6C0B,QAA7C,EAAwD;AAC7D,OAAI2C,gBAAgB,gBAAgB9E,MAAhB,GAAyB,IAAzB,GAAgChL,MAAMmE,MAAN,CAAakC,OAAb,CAAqB0E,MAAzE;AACA,UAAO+E,cAAc/C,UAAd,CAA0B;AAChCjL,YAAQA,MADwB;AAEhCoL,YAAQA,MAFwB;AAGhCpC,cAAUA,QAHsB;AAIhCW,aAASA,OAJuB;AAKhC0B,cAAUA;AALsB,IAA1B,CAAP;AAOA,GAxDgC;;AA0DjCJ,cAAY,oBAAUC,UAAV,EAAuB;;AAElC;AACA,OAAIjC,SAAS,IAAb;AAAA,OACCwD,cAAgBxD,kBAAkBC,MAAlB,IAA4BD,OAAOrH,IAArC,IAA+C1D,MAAMmE,MAAN,CAAakC,OAD3E;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAK,CAACkI,WAAN,EAAoB;AACnB,UAAM,IAAItK,KAAJ,CAAW,wCAAwCjD,qBAAsB,CAAtB,CAAnD,CAAN;AACA;;AAED,OAAKuN,YAAY5E,SAAZ,KAA0B,IAA1B,IAAkC4E,YAAYhG,SAAZ,KAA0B,CAAjE,EAAqE;AACpEgG,gBAAYhI,WAAZ,CAAyB,uDAAzB,EACCvF,qBAAsB,CAAtB,CADD;;AAGA;AACA;;AAED,OAAK,EAAG+J,kBAAkBC,MAArB,CAAL,EAAqC;AACpCD,aAASwD,YAAYxD,MAArB;AACA;;AAED,UAAOA,OAAOrH,IAAP,CAAYqJ,UAAZ,CAAwBC,UAAxB,CAAP;AACA,GArFgC;;AAuFjC+C,MAAI,YAAUjO,MAAV,EAAkB2J,OAAlB,EAA4B;AAC/BA,aAAUA,YAAa3J,SAAS,MAAT,GAAkB,kDACxC9B,MAAMgQ,IAAN,CAAWC,KAAX,CAAkBnO,MAAlB,CADS,CAAV;AAEA,QAAKiL,UAAL,CAAiB;AAChBjL,YAAQ,CAAC,CAACA,MADM;AAEhBoL,YAAQpL,MAFQ;AAGhBgJ,cAAU,IAHM;AAIhBW,aAASA;AAJO,IAAjB;AAMA,GAhGgC;;AAkGjCyE,SAAO,eAAUpO,MAAV,EAAkB2J,OAAlB,EAA4B;AAClCA,aAAUA,YAAa,CAAC3J,MAAD,GAAU,MAAV,GAAmB,iDACzC9B,MAAMgQ,IAAN,CAAWC,KAAX,CAAkBnO,MAAlB,CADS,CAAV;AAEA,QAAKiL,UAAL,CAAiB;AAChBjL,YAAQ,CAACA,MADO;AAEhBoL,YAAQpL,MAFQ;AAGhBgJ,cAAU,KAHM;AAIhBW,aAASA;AAJO,IAAjB;AAMA,GA3GgC;;AA6GjC0E,SAAO,eAAUjD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AAC5C;AACA,QAAKsB,UAAL,CAAiB;AAChBjL,YAAQgJ,YAAYoC,MADJ;AAEhBA,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA;AAJO,IAAjB;AAMA,GArHgC;;AAuHjC2E,YAAU,kBAAUlD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AAC/C;AACA,QAAKsB,UAAL,CAAiB;AAChBjL,YAAQgJ,YAAYoC,MADJ;AAEhBA,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA,OAJO;AAKhB0B,cAAU;AALM,IAAjB;AAOA,GAhIgC;;AAkIjCkD,aAAW,mBAAUnD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AAChDyB,YAAS5K,aAAc4K,MAAd,CAAT;AACApC,cAAWxI,aAAcwI,QAAd,CAAX;AACA,QAAKiC,UAAL,CAAiB;AAChBjL,YAAQ9B,MAAMsQ,KAAN,CAAapD,MAAb,EAAqBpC,QAArB,CADQ;AAEhBoC,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA;AAJO,IAAjB;AAMA,GA3IgC;;AA6IjC8E,gBAAc,sBAAUrD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AACnDyB,YAAS5K,aAAc4K,MAAd,CAAT;AACApC,cAAWxI,aAAcwI,QAAd,CAAX;AACA,QAAKiC,UAAL,CAAiB;AAChBjL,YAAQ,CAAC9B,MAAMsQ,KAAN,CAAapD,MAAb,EAAqBpC,QAArB,CADO;AAEhBoC,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA,OAJO;AAKhB0B,cAAU;AALM,IAAjB;AAOA,GAvJgC;;AAyJjCqD,aAAW,mBAAUtD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AAChD,QAAKsB,UAAL,CAAiB;AAChBjL,YAAQ9B,MAAMsQ,KAAN,CAAapD,MAAb,EAAqBpC,QAArB,CADQ;AAEhBoC,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA;AAJO,IAAjB;AAMA,GAhKgC;;AAkKjCgF,gBAAc,sBAAUvD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AACnD,QAAKsB,UAAL,CAAiB;AAChBjL,YAAQ,CAAC9B,MAAMsQ,KAAN,CAAapD,MAAb,EAAqBpC,QAArB,CADO;AAEhBoC,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA,OAJO;AAKhB0B,cAAU;AALM,IAAjB;AAOA,GA1KgC;;AA4KjCuD,eAAa,qBAAUxD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AAClD,QAAKsB,UAAL,CAAiB;AAChBjL,YAAQgJ,aAAaoC,MADL;AAEhBA,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA;AAJO,IAAjB;AAMA,GAnLgC;;AAqLjCkF,kBAAgB,wBAAUzD,MAAV,EAAkBpC,QAAlB,EAA4BW,OAA5B,EAAsC;AACrD,QAAKsB,UAAL,CAAiB;AAChBjL,YAAQgJ,aAAaoC,MADL;AAEhBA,YAAQA,MAFQ;AAGhBpC,cAAUA,QAHM;AAIhBW,aAASA,OAJO;AAKhB0B,cAAU;AALM,IAAjB;AAOA,GA7LgC;;AA+LjC,YAAU,gBAAUyD,KAAV,EAAiB9F,QAAjB,EAA2BW,OAA3B,EAAqC;AAC9C,OAAIyB,MAAJ;AAAA,OAAY2D,YAAZ;AAAA,OACCC,iBAAiBhG,QADlB;AAAA,OAECiF,KAAK,KAFN;AAAA,OAGCxB,cAAgB,gBAAgBvD,MAAhB,IAA0B,KAAKtH,IAAjC,IAA2C1D,MAAMmE,MAAN,CAAakC,OAHvE;;AAKA;AACA,OAAKoF,WAAW,IAAX,IAAmB,OAAOX,QAAP,KAAoB,QAA5C,EAAuD;AACtDW,cAAUX,QAAV;AACAA,eAAW,IAAX;AACA;;AAEDyD,eAAYjI,kBAAZ,GAAiC,IAAjC;AACA,OAAI;AACHsK,UAAMhO,IAAN,CAAY2L,YAAYzH,eAAxB;AACA,IAFD,CAEE,OAAQhG,CAAR,EAAY;AACboM,aAASpM,CAAT;AACA;AACDyN,eAAYjI,kBAAZ,GAAiC,KAAjC;;AAEA,OAAK4G,MAAL,EAAc;AACb2D,mBAAe7Q,MAAMgD,UAAN,CAAkB8H,QAAlB,CAAf;;AAEA;AACA,QAAK,CAACA,QAAN,EAAiB;AAChBiF,UAAK,IAAL;AACAe,sBAAiB,IAAjB;;AAED;AACC,KALD,MAKO,IAAKD,iBAAiB,QAAtB,EAAiC;AACvCd,UAAKjF,SAASpH,IAAT,CAAeqN,YAAa7D,MAAb,CAAf,CAAL;;AAED;AACC,KAJM,MAIA,IAAK2D,iBAAiB,QAAtB,EAAiC;AACvCd,UAAKjF,aAAaiG,YAAa7D,MAAb,CAAlB;;AAED;AACC,KAJM,MAIA,IAAK2D,iBAAiB,UAAjB,IAA+B3D,kBAAkBpC,QAAtD,EAAiE;AACvEiF,UAAK,IAAL;;AAED;AACC,KAJM,MAIA,IAAKc,iBAAiB,QAAtB,EAAiC;AACvCd,UAAK7C,kBAAkBpC,SAASkG,WAA3B,IACJ9D,OAAOlI,IAAP,KAAgB8F,SAAS9F,IADrB,IAEJkI,OAAOzB,OAAP,KAAmBX,SAASW,OAF7B;;AAID;AACC,KANM,MAMA,IAAKoF,iBAAiB,UAAjB,IAA+B/F,SAASlI,IAAT,CAAe,EAAf,EAAmBsK,MAAnB,MAAgC,IAApE,EAA2E;AACjF4D,sBAAiB,IAAjB;AACAf,UAAK,IAAL;AACA;AACD;;AAEDxB,eAAYxD,MAAZ,CAAmBgC,UAAnB,CAA+B;AAC9BjL,YAAQiO,EADsB;AAE9B7C,YAAQA,MAFsB;AAG9BpC,cAAUgG,cAHoB;AAI9BrF,aAASA;AAJqB,IAA/B;AAMA;AA1PgC,EAAlC;;AA6PA;AACA;AACE,cAAW;AACZ;AACAT,SAAO1J,SAAP,CAAiB2P,MAAjB,GAA0BjG,OAAO1J,SAAP,CAAmB,QAAnB,CAA1B,CAFY,CAE6C;AACzD,EAHC,GAAF;;AAKA,UAASyP,WAAT,CAAsB/M,KAAtB,EAA8B;AAC7B,MAAIgB,IAAJ;AAAA,MAAUyG,OAAV;AAAA,MACCyF,oBAAoBlN,MAAM5C,QAAN,EADrB;AAEA,MAAK8P,kBAAkBC,SAAlB,CAA6B,CAA7B,EAAgC,CAAhC,MAAwC,SAA7C,EAAyD;AACxDnM,UAAOhB,MAAMgB,IAAN,GAAahB,MAAMgB,IAAN,CAAW5D,QAAX,EAAb,GAAqC,OAA5C;AACAqK,aAAUzH,MAAMyH,OAAN,GAAgBzH,MAAMyH,OAAN,CAAcrK,QAAd,EAAhB,GAA2C,EAArD;AACA,OAAK4D,QAAQyG,OAAb,EAAuB;AACtB,WAAOzG,OAAO,IAAP,GAAcyG,OAArB;AACA,IAFD,MAEO,IAAKzG,IAAL,EAAY;AAClB,WAAOA,IAAP;AACA,IAFM,MAEA,IAAKyG,OAAL,EAAe;AACrB,WAAOA,OAAP;AACA,IAFM,MAEA;AACN,WAAO,OAAP;AACA;AACD,GAZD,MAYO;AACN,UAAOyF,iBAAP;AACA;AACD;;AAED;AACA;AACAlR,OAAMsQ,KAAN,GAAgB,YAAW;;AAE1B;AACA,MAAIc,UAAU,EAAd;;AAEA;AACA,MAAIC,UAAU,EAAd;AACA,MAAIC,WAAW,EAAf;;AAEA,MAAIC,WAAWlQ,OAAOmQ,cAAP,IAAyB,UAAUjP,GAAV,EAAgB;;AAEvD;AACA,UAAOA,IAAIkP,SAAX;AACA,GAJD;;AAMA,WAASC,iBAAT,CAA4B/P,CAA5B,EAA+BD,CAA/B,EAAmC;;AAElC;AACA;AACA;AACA,OAAK,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAAlB,EAA6B;AAC5BA,QAAIA,EAAEiQ,OAAF,EAAJ;AACA;AACD,OAAK,QAAOhQ,CAAP,yCAAOA,CAAP,OAAa,QAAlB,EAA6B;AAC5BA,QAAIA,EAAEgQ,OAAF,EAAJ;AACA;;AAED,UAAOjQ,MAAMC,CAAb;AACA;;AAED,WAASiQ,mBAAT,CAA8BlQ,CAA9B,EAAiCC,CAAjC,EAAqC;AACpC,OAAIkQ,SAASN,SAAU7P,CAAV,CAAb;AACA,OAAIoQ,SAASP,SAAU5P,CAAV,CAAb;;AAEA;AACA,OAAKD,EAAEsP,WAAF,KAAkBrP,EAAEqP,WAAzB,EAAuC;AACtC,WAAO,IAAP;AACA;;AAED;AACA;AACA;AACA,OAAKa,UAAUA,OAAOb,WAAP,KAAuB,IAAtC,EAA6C;AAC5Ca,aAAS,IAAT;AACA;AACD,OAAKC,UAAUA,OAAOd,WAAP,KAAuB,IAAtC,EAA6C;AAC5Cc,aAAS,IAAT;AACA;;AAED;AACA;AACA,OAAOD,WAAW,IAAX,IAAmBC,WAAWzQ,OAAOC,SAAvC,IACDwQ,WAAW,IAAX,IAAmBD,WAAWxQ,OAAOC,SADzC,EACuD;AACtD,WAAO,IAAP;AACA;;AAED,UAAO,KAAP;AACA;;AAED,WAASyQ,cAAT,CAAyBC,MAAzB,EAAkC;AACjC,UAAO,WAAWA,MAAX,GAAoBA,OAAOhE,KAA3B,GAAmCgE,OAAO5Q,QAAP,GAAkB6B,KAAlB,CAAyB,WAAzB,EAAwC,CAAxC,CAA1C;AACA;;AAED,MAAIiC,YAAY;AACf,aAAUwM,iBADK;AAEf,cAAWA,iBAFI;AAGf,aAAUA,iBAHK;AAIf,WAAQA,iBAJO;AAKf,gBAAaA,iBALE;AAMf,aAAUA,iBANK;AAOf,WAAQA,iBAPO;;AASf,UAAO,eAAW;AACjB,WAAO,IAAP;AACA,IAXc;;AAaf,aAAU,gBAAU/P,CAAV,EAAaD,CAAb,EAAiB;AAC1B,WAAOA,EAAE4K,MAAF,KAAa3K,EAAE2K,MAAf;;AAEN;AACAyF,mBAAgBrQ,CAAhB,MAAwBqQ,eAAgBpQ,CAAhB,CAHzB;AAIA,IAlBc;;AAoBf;AACA;AACA;AACA,eAAY,qBAAW;AACtB,QAAIsQ,SAASb,QAASA,QAAQpP,MAAR,GAAiB,CAA1B,CAAb;AACA,WAAOiQ,WAAW5Q,MAAX,IAAqB,OAAO4Q,MAAP,KAAkB,WAA9C;AACA,IA1Bc;;AA4Bf,YAAS,eAAUtQ,CAAV,EAAaD,CAAb,EAAiB;AACzB,QAAIE,CAAJ,EAAOC,CAAP,EAAU+M,GAAV,EAAesD,IAAf,EAAqBC,SAArB,EAAgCC,SAAhC;;AAEAxD,UAAMlN,EAAEM,MAAR;AACA,QAAK4M,QAAQjN,EAAEK,MAAf,EAAwB;;AAEvB;AACA,YAAO,KAAP;AACA;;AAED;AACAqP,YAAQzN,IAAR,CAAclC,CAAd;AACA4P,aAAS1N,IAAT,CAAejC,CAAf;AACA,SAAMC,IAAI,CAAV,EAAaA,IAAIgN,GAAjB,EAAsBhN,GAAtB,EAA4B;AAC3BsQ,YAAO,KAAP;AACA,UAAMrQ,IAAI,CAAV,EAAaA,IAAIwP,QAAQrP,MAAzB,EAAiCH,GAAjC,EAAuC;AACtCsQ,kBAAYd,QAASxP,CAAT,MAAiBH,EAAGE,CAAH,CAA7B;AACAwQ,kBAAYd,SAAUzP,CAAV,MAAkBF,EAAGC,CAAH,CAA9B;AACA,UAAKuQ,aAAaC,SAAlB,EAA8B;AAC7B,WAAK1Q,EAAGE,CAAH,MAAWD,EAAGC,CAAH,CAAX,IAAqBuQ,aAAaC,SAAvC,EAAmD;AAClDF,eAAO,IAAP;AACA,QAFD,MAEO;AACNb,gBAAQ5J,GAAR;AACA6J,iBAAS7J,GAAT;AACA,eAAO,KAAP;AACA;AACD;AACD;AACD,SAAK,CAACyK,IAAD,IAAS,CAACG,WAAY3Q,EAAGE,CAAH,CAAZ,EAAoBD,EAAGC,CAAH,CAApB,CAAf,EAA8C;AAC7CyP,cAAQ5J,GAAR;AACA6J,eAAS7J,GAAT;AACA,aAAO,KAAP;AACA;AACD;AACD4J,YAAQ5J,GAAR;AACA6J,aAAS7J,GAAT;AACA,WAAO,IAAP;AACA,IAjEc;;AAmEf,UAAO,aAAU9F,CAAV,EAAaD,CAAb,EAAiB;AACvB,QAAI4Q,OAAJ;AAAA,QACCC,UAAU,IADX;;AAGA,QAAK7Q,EAAE8Q,IAAF,KAAW7Q,EAAE6Q,IAAlB,EAAyB;AACxB,YAAO,KAAP;AACA;;AAED9Q,MAAE+Q,OAAF,CAAW,UAAUC,IAAV,EAAiB;AAC3BJ,eAAU,KAAV;;AAEA3Q,OAAE8Q,OAAF,CAAW,UAAUE,IAAV,EAAiB;AAC3B,UAAKN,WAAYM,IAAZ,EAAkBD,IAAlB,CAAL,EAAgC;AAC/BJ,iBAAU,IAAV;AACA;AACD,MAJD;;AAMA,SAAK,CAACA,OAAN,EAAgB;AACfC,gBAAU,KAAV;AACA;AACD,KAZD;;AAcA,WAAOA,OAAP;AACA,IA1Fc;;AA4Ff,UAAO,aAAU5Q,CAAV,EAAaD,CAAb,EAAiB;AACvB,QAAI4Q,OAAJ;AAAA,QACCC,UAAU,IADX;;AAGA,QAAK7Q,EAAE8Q,IAAF,KAAW7Q,EAAE6Q,IAAlB,EAAyB;AACxB,YAAO,KAAP;AACA;;AAED9Q,MAAE+Q,OAAF,CAAW,UAAUC,IAAV,EAAgBE,IAAhB,EAAuB;AACjCN,eAAU,KAAV;;AAEA3Q,OAAE8Q,OAAF,CAAW,UAAUE,IAAV,EAAgBE,IAAhB,EAAuB;AACjC,UAAKR,WAAY,CAAEM,IAAF,EAAQE,IAAR,CAAZ,EAA4B,CAAEH,IAAF,EAAQE,IAAR,CAA5B,CAAL,EAAoD;AACnDN,iBAAU,IAAV;AACA;AACD,MAJD;;AAMA,SAAK,CAACA,OAAN,EAAgB;AACfC,gBAAU,KAAV;AACA;AACD,KAZD;;AAcA,WAAOA,OAAP;AACA,IAnHc;;AAqHf,aAAU,gBAAU5Q,CAAV,EAAaD,CAAb,EAAiB;AAC1B,QAAIE,CAAJ,EAAOC,CAAP,EAAUqQ,IAAV,EAAgBC,SAAhB,EAA2BC,SAA3B;;AAEA;AACA,QAAIU,KAAK,IAAT;AACA,QAAIC,cAAc,EAAlB;AACA,QAAIC,cAAc,EAAlB;;AAEA,QAAKpB,oBAAqBlQ,CAArB,EAAwBC,CAAxB,MAAgC,KAArC,EAA6C;AAC5C,YAAO,KAAP;AACA;;AAED;AACAyP,YAAQxN,IAAR,CAAclC,EAAEsP,WAAhB;;AAEA;AACAK,YAAQzN,IAAR,CAAclC,CAAd;AACA4P,aAAS1N,IAAT,CAAejC,CAAf;;AAEA;AACA,SAAMC,CAAN,IAAWF,CAAX,EAAe;AACdwQ,YAAO,KAAP;AACA,UAAMrQ,IAAI,CAAV,EAAaA,IAAIwP,QAAQrP,MAAzB,EAAiCH,GAAjC,EAAuC;AACtCsQ,kBAAYd,QAASxP,CAAT,MAAiBH,EAAGE,CAAH,CAA7B;AACAwQ,kBAAYd,SAAUzP,CAAV,MAAkBF,EAAGC,CAAH,CAA9B;AACA,UAAKuQ,aAAaC,SAAlB,EAA8B;AAC7B,WAAK1Q,EAAGE,CAAH,MAAWD,EAAGC,CAAH,CAAX,IAAqBuQ,aAAaC,SAAvC,EAAmD;AAClDF,eAAO,IAAP;AACA,QAFD,MAEO;AACNY,aAAK,KAAL;AACA;AACA;AACD;AACD;AACDC,iBAAYnP,IAAZ,CAAkBhC,CAAlB;AACA,SAAK,CAACsQ,IAAD,IAAS,CAACG,WAAY3Q,EAAGE,CAAH,CAAZ,EAAoBD,EAAGC,CAAH,CAApB,CAAf,EAA8C;AAC7CkR,WAAK,KAAL;AACA;AACA;AACD;;AAEDzB,YAAQ5J,GAAR;AACA6J,aAAS7J,GAAT;;AAEA;AACA2J,YAAQ3J,GAAR;;AAEA,SAAM7F,CAAN,IAAWD,CAAX,EAAe;;AAEd;AACAqR,iBAAYpP,IAAZ,CAAkBhC,CAAlB;AACA;;AAED;AACA,WAAOkR,MAAMT,WAAYU,YAAYE,IAAZ,EAAZ,EAAgCD,YAAYC,IAAZ,EAAhC,CAAb;AACA;AA5Kc,GAAhB;;AA+KA,WAASC,SAAT,CAAoBxR,CAApB,EAAuBC,CAAvB,EAA2B;AAC1B,OAAIuB,OAAOlD,MAAMgD,UAAN,CAAkBtB,CAAlB,CAAX;AACA,UAAO1B,MAAMgD,UAAN,CAAkBrB,CAAlB,MAA0BuB,IAA1B,IAAkCgC,UAAWhC,IAAX,EAAmBvB,CAAnB,EAAsBD,CAAtB,CAAzC;AACA;;AAED;AACA,WAAS2Q,UAAT,CAAqB3Q,CAArB,EAAwBC,CAAxB,EAA4B;;AAE3B;AACA,OAAKsF,UAAUjF,MAAV,GAAmB,CAAxB,EAA4B;AAC3B,WAAO,IAAP;AACA;;AAED;AACA,UAAO,CAAEN,MAAMC,CAAN,IAAWuR,UAAWxR,CAAX,EAAcC,CAAd,CAAb;;AAEN;AACEsF,aAAUjF,MAAV,KAAqB,CAArB,IAA0BqQ,WAAW7D,KAAX,CAAkB,IAAlB,EAAwB,GAAGzM,KAAH,CAASa,IAAT,CAAeqE,SAAf,EAA0B,CAA1B,CAAxB,CAHtB,CAAP;AAIA;;AAED,SAAOoL,UAAP;AACA,EAnQe,EAAhB;;AAqQA;AACA;AACArS,OAAMgQ,IAAN,GAAe,YAAW;AACzB,WAASmD,KAAT,CAAgBxE,GAAhB,EAAsB;AACrB,UAAO,OAAOA,IAAIvN,QAAJ,GAAeH,OAAf,CAAwB,KAAxB,EAA+B,MAA/B,EAAwCA,OAAxC,CAAiD,IAAjD,EAAuD,MAAvD,CAAP,GAAyE,IAAhF;AACA;AACD,WAASmS,OAAT,CAAkBC,CAAlB,EAAsB;AACrB,UAAOA,IAAI,EAAX;AACA;AACD,WAASxP,IAAT,CAAeyP,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAAgC;AAC/B,OAAIC,IAAIzD,KAAK0D,SAAL,EAAR;AAAA,OACCC,OAAO3D,KAAK4D,MAAL,EADR;AAAA,OAECC,QAAQ7D,KAAK4D,MAAL,CAAa,CAAb,CAFT;AAGA,OAAKL,IAAI1P,IAAT,EAAgB;AACf0P,UAAMA,IAAI1P,IAAJ,CAAU,MAAM4P,CAAN,GAAUI,KAApB,CAAN;AACA;AACD,OAAK,CAACN,GAAN,EAAY;AACX,WAAOD,MAAME,IAAb;AACA;AACD,UAAO,CAAEF,GAAF,EAAOO,QAAQN,GAAf,EAAoBI,OAAOH,IAA3B,EAAkC3P,IAAlC,CAAwC4P,CAAxC,CAAP;AACA;AACD,WAASrR,KAAT,CAAgBmR,GAAhB,EAAqBhQ,KAArB,EAA6B;AAC5B,OAAI3B,IAAI2R,IAAIvR,MAAZ;AAAA,OACCoE,MAAM,IAAI0N,KAAJ,CAAWlS,CAAX,CADP;;AAGA,OAAKoO,KAAKtL,QAAL,IAAiBsL,KAAKtG,KAAL,GAAasG,KAAKtL,QAAxC,EAAmD;AAClD,WAAO,gBAAP;AACA;;AAED,QAAKqP,EAAL;AACA,UAAQnS,GAAR,EAAc;AACbwE,QAAKxE,CAAL,IAAW,KAAKqO,KAAL,CAAYsD,IAAK3R,CAAL,CAAZ,EAAsBnB,SAAtB,EAAiC8C,KAAjC,CAAX;AACA;AACD,QAAKyQ,IAAL;AACA,UAAOnQ,KAAM,GAAN,EAAWuC,GAAX,EAAgB,GAAhB,CAAP;AACA;;AAED,MAAI6N,SAAS,iBAAb;AAAA,MACCjE,OAAO;;AAEN;AACAC,UAAO,eAAU1N,GAAV,EAAe2R,OAAf,EAAwB3Q,KAAxB,EAAgC;AACtCA,YAAQA,SAAS,EAAjB;AACA,QAAI4Q,GAAJ;AAAA,QAASC,MAAT;AAAA,QAAiBC,UAAjB;AAAA,QACCC,UAAUpS,QAASK,GAAT,EAAcgB,KAAd,CADX;;AAGA,QAAK+Q,YAAY,CAAC,CAAlB,EAAsB;AACrB,YAAO,gBAAiBA,UAAU/Q,MAAMvB,MAAjC,IAA4C,GAAnD;AACA;;AAEDkS,cAAUA,WAAW,KAAKK,MAAL,CAAahS,GAAb,CAArB;AACA6R,aAAS,KAAKI,OAAL,CAAcN,OAAd,CAAT;AACAG,wBAAoBD,MAApB,yCAAoBA,MAApB;;AAEA,QAAKC,eAAe,UAApB,EAAiC;AAChC9Q,WAAMK,IAAN,CAAYrB,GAAZ;AACA4R,WAAMC,OAAOxR,IAAP,CAAa,IAAb,EAAmBL,GAAnB,EAAwBgB,KAAxB,CAAN;AACAA,WAAMkE,GAAN;AACA,YAAO0M,GAAP;AACA;AACD,WAASE,eAAe,QAAjB,GAA8BD,MAA9B,GAAuC,KAAKI,OAAL,CAAaxQ,KAA3D;AACA,IAvBK;AAwBNuQ,WAAQ,gBAAUhS,GAAV,EAAgB;AACvB,QAAIW,IAAJ;AACA,QAAKX,QAAQ,IAAb,EAAoB;AACnBW,YAAO,MAAP;AACA,KAFD,MAEO,IAAK,OAAOX,GAAP,KAAe,WAApB,EAAkC;AACxCW,YAAO,WAAP;AACA,KAFM,MAEA,IAAKlD,MAAM2C,EAAN,CAAU,QAAV,EAAoBJ,GAApB,CAAL,EAAiC;AACvCW,YAAO,QAAP;AACA,KAFM,MAEA,IAAKlD,MAAM2C,EAAN,CAAU,MAAV,EAAkBJ,GAAlB,CAAL,EAA+B;AACrCW,YAAO,MAAP;AACA,KAFM,MAEA,IAAKlD,MAAM2C,EAAN,CAAU,UAAV,EAAsBJ,GAAtB,CAAL,EAAmC;AACzCW,YAAO,UAAP;AACA,KAFM,MAEA,IAAKX,IAAIkS,WAAJ,KAAoBhU,SAApB,IACV8B,IAAI/B,QAAJ,KAAiBC,SADP,IAEV8B,IAAImS,QAAJ,KAAiBjU,SAFZ,EAEwB;AAC9ByC,YAAO,QAAP;AACA,KAJM,MAIA,IAAKX,IAAImS,QAAJ,KAAiB,CAAtB,EAA0B;AAChCxR,YAAO,UAAP;AACA,KAFM,MAEA,IAAKX,IAAImS,QAAT,EAAoB;AAC1BxR,YAAO,MAAP;AACA,KAFM,MAEA;;AAEN;AACA9B,aAASwB,IAAT,CAAeL,GAAf,MAAyB,gBAAzB;;AAEA;AACE,WAAOA,IAAIP,MAAX,KAAsB,QAAtB,IAAkCO,IAAIoS,IAAJ,KAAalU,SAA/C,KACA8B,IAAIP,MAAJ,GAAaO,IAAIoS,IAAJ,CAAU,CAAV,MAAkBpS,IAAK,CAAL,CAA/B,GAA4CA,IAAIoS,IAAJ,CAAU,CAAV,MAAkB,IAAlB,IAC9CpS,IAAK,CAAL,MAAa9B,SAFX,CANI,EASL;AACDyC,YAAO,OAAP;AACA,KAXM,MAWA,IAAKX,IAAIyO,WAAJ,KAAoB/M,MAAM3C,SAAN,CAAgB0P,WAAzC,EAAuD;AAC7D9N,YAAO,OAAP;AACA,KAFM,MAEA;AACNA,mBAAcX,GAAd,yCAAcA,GAAd;AACA;AACD,WAAOW,IAAP;AACA,IA7DK;;AA+DNwQ,cAAW,qBAAW;AACrB,WAAO,KAAKkB,SAAL,GAAiB,KAAKC,IAAL,GAAY,QAAZ,GAAuB,IAAxC,GAA+C,KAAKA,IAAL,GAAY,QAAZ,GAAuB,GAA7E;AACA,IAjEK;;AAmEN;AACAjB,WAAQ,gBAAUkB,KAAV,EAAkB;AACzB,QAAK,CAAC,KAAKF,SAAX,EAAuB;AACtB,YAAO,EAAP;AACA;AACD,QAAIG,MAAM,KAAKC,UAAf;AACA,QAAK,KAAKH,IAAV,EAAiB;AAChBE,WAAMA,IAAI9T,OAAJ,CAAa,KAAb,EAAoB,KAApB,EAA4BA,OAA5B,CAAqC,IAArC,EAA2C,QAA3C,CAAN;AACA;AACD,WAAO,IAAI6S,KAAJ,CAAW,KAAKpK,KAAL,IAAeoL,SAAS,CAAxB,CAAX,EAAyCjR,IAAzC,CAA+CkR,GAA/C,CAAP;AACA,IA7EK;AA8ENhB,OAAI,YAAUrS,CAAV,EAAc;AACjB,SAAKgI,KAAL,IAAchI,KAAK,CAAnB;AACA,IAhFK;AAiFNsS,SAAM,cAAUtS,CAAV,EAAc;AACnB,SAAKgI,KAAL,IAAchI,KAAK,CAAnB;AACA,IAnFK;AAoFNuT,cAAW,mBAAUjQ,IAAV,EAAgBoP,MAAhB,EAAyB;AACnC,SAAKI,OAAL,CAAcxP,IAAd,IAAuBoP,MAAvB;AACA,IAtFK;;AAwFN;AACAjB,UAAOA,KAzFD;AA0FNC,YAASA,OA1FH;AA2FNvP,SAAMA,IA3FA;AA4FN6F,UAAO,CA5FD;AA6FNhF,aAAU1E,MAAMmE,MAAN,CAAaO,QA7FjB;;AA+FN;AACA8P,YAAS;AACRlU,YAAQ,UADA;AAERE,cAAU,YAFF;AAGRwD,WAAO,eAAUA,MAAV,EAAkB;AACxB,YAAO,aAAaA,OAAMyH,OAAnB,GAA6B,KAApC;AACA,KALO;AAMRyJ,aAAS,WAND;AAOR,YAAQ,MAPA;AAQR,iBAAa,WARL;AASR,gBAAY,mBAAUC,EAAV,EAAe;AAC1B,SAAI/O,MAAM,UAAV;;;AAEC;AACApB,YAAO,UAAUmQ,EAAV,GAAeA,GAAGnQ,IAAlB,GAAyB,CAAEiP,OAAO1G,IAAP,CAAa4H,EAAb,KAAqB,EAAvB,EAA6B,CAA7B,CAHjC;;AAKA,SAAKnQ,IAAL,EAAY;AACXoB,aAAO,MAAMpB,IAAb;AACA;AACDoB,YAAO,GAAP;;AAEAA,WAAM,CAAEA,GAAF,EAAO4J,KAAKC,KAAL,CAAYkF,EAAZ,EAAgB,cAAhB,CAAP,EAAyC,IAAzC,EAAgDtR,IAAhD,CAAsD,EAAtD,CAAN;AACA,YAAOA,KAAMuC,GAAN,EAAW4J,KAAKC,KAAL,CAAYkF,EAAZ,EAAgB,cAAhB,CAAX,EAA6C,GAA7C,CAAP;AACA,KAtBO;AAuBR/S,WAAOA,KAvBC;AAwBRgT,cAAUhT,KAxBF;AAyBR,iBAAaA,KAzBL;AA0BRiT,YAAQ,gBAAUC,GAAV,EAAe/R,KAAf,EAAuB;AAC9B,SAAIgS,IAAJ;AAAA,SAAU/S,GAAV;AAAA,SAAeC,GAAf;AAAA,SAAoBb,CAApB;AAAA,SAAuB4T,uBAAvB;AAAA,SACCpP,MAAM,EADP;;AAGA,SAAK4J,KAAKtL,QAAL,IAAiBsL,KAAKtG,KAAL,GAAasG,KAAKtL,QAAxC,EAAmD;AAClD,aAAO,iBAAP;AACA;;AAEDsL,UAAK+D,EAAL;AACAwB,YAAO,EAAP;AACA,UAAM/S,GAAN,IAAa8S,GAAb,EAAmB;AAClBC,WAAK3R,IAAL,CAAWpB,GAAX;AACA;;AAED;AACAgT,+BAA0B,CAAE,SAAF,EAAa,MAAb,CAA1B;AACA,UAAM5T,CAAN,IAAW4T,uBAAX,EAAqC;AACpChT,YAAMgT,wBAAyB5T,CAAzB,CAAN;AACA,UAAKY,OAAO8S,GAAP,IAAcpT,QAASM,GAAT,EAAc+S,IAAd,IAAuB,CAA1C,EAA8C;AAC7CA,YAAK3R,IAAL,CAAWpB,GAAX;AACA;AACD;AACD+S,UAAKtC,IAAL;AACA,UAAMrR,IAAI,CAAV,EAAaA,IAAI2T,KAAKvT,MAAtB,EAA8BJ,GAA9B,EAAoC;AACnCY,YAAM+S,KAAM3T,CAAN,CAAN;AACAa,YAAM6S,IAAK9S,GAAL,CAAN;AACA4D,UAAIxC,IAAJ,CAAUoM,KAAKC,KAAL,CAAYzN,GAAZ,EAAiB,KAAjB,IAA2B,IAA3B,GACTwN,KAAKC,KAAL,CAAYxN,GAAZ,EAAiBhC,SAAjB,EAA4B8C,KAA5B,CADD;AAEA;AACDyM,UAAKgE,IAAL;AACA,YAAOnQ,KAAM,GAAN,EAAWuC,GAAX,EAAgB,GAAhB,CAAP;AACA,KAzDO;AA0DRqP,UAAM,cAAUA,KAAV,EAAiB;AACtB,SAAI7G,GAAJ;AAAA,SAAShN,CAAT;AAAA,SAAYa,GAAZ;AAAA,SACCiT,OAAO1F,KAAK6E,IAAL,GAAY,MAAZ,GAAqB,GAD7B;AAAA,SAECc,QAAQ3F,KAAK6E,IAAL,GAAY,MAAZ,GAAqB,GAF9B;AAAA,SAGCe,MAAMH,MAAKI,QAAL,CAAczS,WAAd,EAHP;AAAA,SAICgD,MAAMsP,OAAOE,GAJd;AAAA,SAKCE,QAAQL,MAAKM,UALd;;AAOA,SAAKD,KAAL,EAAa;AACZ,WAAMlU,IAAI,CAAJ,EAAOgN,MAAMkH,MAAM9T,MAAzB,EAAiCJ,IAAIgN,GAArC,EAA0ChN,GAA1C,EAAgD;AAC/Ca,aAAMqT,MAAOlU,CAAP,EAAWoU,SAAjB;;AAEA;AACA;AACA;AACA,WAAKvT,OAAOA,QAAQ,SAApB,EAAgC;AAC/B2D,eAAO,MAAM0P,MAAOlU,CAAP,EAAWiU,QAAjB,GAA4B,GAA5B,GACN7F,KAAKC,KAAL,CAAYxN,GAAZ,EAAiB,WAAjB,CADD;AAEA;AACD;AACD;AACD2D,YAAOuP,KAAP;;AAEA;AACA,SAAKF,MAAKf,QAAL,KAAkB,CAAlB,IAAuBe,MAAKf,QAAL,KAAkB,CAA9C,EAAkD;AACjDtO,aAAOqP,MAAKO,SAAZ;AACA;;AAED,YAAO5P,MAAMsP,IAAN,GAAa,GAAb,GAAmBE,GAAnB,GAAyBD,KAAhC;AACA,KAvFO;;AAyFR;AACAM,kBAAc,sBAAUd,EAAV,EAAe;AAC5B,SAAIxP,IAAJ;AAAA,SACCN,IAAI8P,GAAGnT,MADR;;AAGA,SAAK,CAACqD,CAAN,EAAU;AACT,aAAO,EAAP;AACA;;AAEDM,YAAO,IAAImO,KAAJ,CAAWzO,CAAX,CAAP;AACA,YAAQA,GAAR,EAAc;;AAEb;AACAM,WAAMN,CAAN,IAAY6Q,OAAOC,YAAP,CAAqB,KAAK9Q,CAA1B,CAAZ;AACA;AACD,YAAO,MAAMM,KAAK9B,IAAL,CAAW,IAAX,CAAN,GAA0B,GAAjC;AACA,KAzGO;;AA2GR;AACArB,SAAK2Q,KA5GG;;AA8GR;AACAiD,kBAAc,QA/GN;;AAiHR;AACAC,eAAWlD,KAlHH;AAmHRmD,YAAQnD,KAnHA;AAoHRoD,UAAMpD,KApHE;AAqHRnB,YAAQoB,OArHA;AAsHRoD,YAAQpD,OAtHA;AAuHR,eAAWA;AAvHH,IAhGH;;AA0NN;AACAyB,SAAM,KA3NA;;AA6NN;AACAG,eAAY,IA9NN;;AAgON;AACAJ,cAAW;AAjOL,GADR;;AAqOA,SAAO5E,IAAP;AACA,EAzQc,EAAf;;AA2QA;AACAhQ,OAAMyW,MAAN,GAAezW,MAAMgQ,IAArB;;AAEA;AACA;AACE,cAAW;AACZ,MAAIpO,CAAJ;AAAA,MACC8I,aAAaM,OAAO1J,SADrB;;AAGA,WAASoV,YAAT,CAAuBrQ,OAAvB,EAAiC;AAChC,UAAO,YAAW;AACjB,QAAI0E,SAAS,IAAIC,MAAJ,CAAYhL,MAAMmE,MAAN,CAAakC,OAAzB,CAAb;AACAA,YAAQmI,KAAR,CAAezD,MAAf,EAAuB9D,SAAvB;AACA,IAHD;AAIA;;AAED,OAAMrF,CAAN,IAAW8I,UAAX,EAAwB;AACvB1K,SAAO4B,CAAP,IAAa8U,aAAchM,WAAY9I,CAAZ,CAAd,CAAb;AACA;AACD,EAdC,GAAF;;AAgBA;AACA,KAAKrB,QAAQC,QAAb,EAAwB;;AAErB,eAAW;AACZ,OAAIoB,CAAJ;AAAA,OAAOyD,CAAP;AAAA,OACCkQ,OAAO,CACN,MADM,EAEN,QAFM,EAGN,QAHM,EAIN,WAJM,EAKN,OALM,EAMN,MANM,EAON,IAPM,EAQN,OARM,EASN,OATM,EAUN,UAVM,EAWN,WAXM,EAYN,cAZM,EAaN,WAbM,EAcN,cAdM,EAeN,aAfM,EAgBN,gBAhBM,EAiBN,QAjBM,EAkBN,QAlBM,CADR;;AAsBA,QAAM3T,IAAI,CAAJ,EAAOyD,IAAIkQ,KAAKvT,MAAtB,EAA8BJ,IAAIyD,CAAlC,EAAqCzD,GAArC,EAA2C;AAC1CtB,WAAQiV,KAAM3T,CAAN,CAAR,IAAsB5B,MAAOuV,KAAM3T,CAAN,CAAP,CAAtB;AACA;AACD,GA1BC,GAAF;;AA4BAtB,SAAON,KAAP,GAAeA,KAAf;AACA;;AAED;AACA,KAAK,OAAO6G,MAAP,KAAkB,WAAlB,IAAiCA,MAAjC,IAA2CA,OAAO8P,OAAvD,EAAiE;AAChE9P,SAAO8P,OAAP,GAAiB3W,KAAjB;;AAEA;AACA6G,SAAO8P,OAAP,CAAe3W,KAAf,GAAuBA,KAAvB;AACA;;AAED;AACA,KAAK,OAAO2W,OAAP,KAAmB,WAAnB,IAAkCA,OAAvC,EAAiD;AAChDA,UAAQ3W,KAAR,GAAgBA,KAAhB;AACA;;AAED,KAAK,OAAO4W,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA5C,EAAkD;AACjDD,SAAQ,YAAW;AAClB,UAAO5W,KAAP;AACA,GAFD;AAGAA,QAAMmE,MAAN,CAAakE,SAAb,GAAyB,KAAzB;AACA;;AAED;AACC,CAtsEC,EAssEG,YAAW;AACf,QAAO,IAAP;AACA,CAFI,EAtsEH,CAAF;;AA0sEE,aAAW;;AAEb;AACA,KAAI3B,WAAW,OAAOpG,MAAP,KAAkB,WAAlB,IAAiCA,OAAOoG,QAAvD;AACA,KAAK,CAACA,QAAN,EAAiB;AAChB;AACA;;AAED,KAAIoQ,YAAYC,cAAhB;;AAEA/W,OAAM8W,SAAN,GAAkBA,SAAlB;;AAEA;AACA9W,OAAMmE,MAAN,CAAayD,QAAb,GAAwB,GAAGoP,MAAH,CAAWF,UAAUlP,QAAV,IAAsB,EAAjC,CAAxB;AACA5H,OAAMmE,MAAN,CAAayG,MAAb,GAAsB,GAAGoM,MAAH,CAAWF,UAAUlM,MAAV,IAAoB,EAA/B,CAAtB;;AAEA;AACA5K,OAAMmE,MAAN,CAAa0C,MAAb,GAAsBiQ,UAAUjQ,MAAhC;;AAEA;AACA7G,OAAMmE,MAAN,CAAa+E,MAAb,GAAsB4N,UAAU5N,MAAhC;;AAEA;AACA,KAAK4N,UAAUhK,IAAV,KAAmB,IAAxB,EAA+B;;AAE9B;AACA9M,QAAMmE,MAAN,CAAa2I,IAAb,GAAoBkC,KAAKiI,MAAL,GAAc7V,QAAd,CAAwB,EAAxB,EAA6BW,KAA7B,CAAoC,CAApC,CAApB;AACA,EAJD,MAIO,IAAK+U,UAAUhK,IAAf,EAAsB;AAC5B9M,QAAMmE,MAAN,CAAa2I,IAAb,GAAoBgK,UAAUhK,IAA9B;AACA;;AAED;AACA9M,OAAMmE,MAAN,CAAaS,SAAb,CAAuBhB,IAAvB,CACC;AACCsT,MAAI,YADL;AAECC,SAAO,mBAFR;AAGCC,WAAS;AAHV,EADD,EAMC;AACCF,MAAI,WADL;AAECC,SAAO,mBAFR;AAGCC,WAAS,0EACR;AAJF,EAND,EAYC;AACCF,MAAI,YADL;AAECC,SAAO,cAFR;AAGCC,WAAS,gFACR;AAJF,EAZD;;AAoBApX,OAAMmJ,KAAN,CAAa,YAAW;AACvB,MAAIvH,CAAJ;AAAA,MAAOyV,MAAP;AAAA,MACCzS,YAAY5E,MAAMmE,MAAN,CAAaS,SAD1B;;AAGA,OAAMhD,IAAI,CAAV,EAAaA,IAAIgD,UAAU5C,MAA3B,EAAmCJ,GAAnC,EAAyC;;AAExC;AACAyV,YAASrX,MAAMmE,MAAN,CAAaS,SAAb,CAAwBhD,CAAxB,CAAT;AACA,OAAK,OAAOyV,MAAP,KAAkB,QAAvB,EAAkC;AACjCA,aAASA,OAAOH,EAAhB;AACA;;AAED,OAAKlX,MAAMmE,MAAN,CAAckT,MAAd,MAA2B5W,SAAhC,EAA4C;AAC3CT,UAAMmE,MAAN,CAAckT,MAAd,IAAyBP,UAAWO,MAAX,CAAzB;AACA;AACD;AACD,EAhBD;;AAkBA,UAASN,YAAT,GAAwB;AACvB,MAAInV,CAAJ,EAAO0V,KAAP,EAActS,IAAd,EAAoBuS,KAApB;AACA,MAAIT,YAAY,EAAhB;AACA,MAAIU,SAAS9Q,SAAS+Q,MAAT,CAAgB1V,KAAhB,CAAuB,CAAvB,EAA2B0B,KAA3B,CAAkC,GAAlC,CAAb;AACA,MAAIzB,SAASwV,OAAOxV,MAApB;;AAEA,OAAMJ,IAAI,CAAV,EAAaA,IAAII,MAAjB,EAAyBJ,GAAzB,EAA+B;AAC9B,OAAK4V,OAAQ5V,CAAR,CAAL,EAAmB;AAClB0V,YAAQE,OAAQ5V,CAAR,EAAY6B,KAAZ,CAAmB,GAAnB,CAAR;AACAuB,WAAO0S,mBAAoBJ,MAAO,CAAP,CAApB,CAAP;;AAEA;AACAC,YAAQD,MAAMtV,MAAN,KAAiB,CAAjB,IACP0V,mBAAoBJ,MAAMvV,KAAN,CAAa,CAAb,EAAiB8B,IAAjB,CAAuB,GAAvB,CAApB,CADD;AAEA,QAAKiT,UAAW9R,IAAX,CAAL,EAAyB;AACxB8R,eAAW9R,IAAX,IAAoB,GAAGgS,MAAH,CAAWF,UAAW9R,IAAX,CAAX,EAA8BuS,KAA9B,CAApB;AACA,KAFD,MAEO;AACNT,eAAW9R,IAAX,IAAoBuS,KAApB;AACA;AACD;AACD;;AAED,SAAOT,SAAP;AACA;;AAED;AACA,KAAK,OAAOxW,MAAP,KAAkB,WAAlB,IAAiC,CAACA,OAAOE,QAA9C,EAAyD;AACxD;AACA;;AAED;AACA;AACAR,OAAM2X,IAAN,GAAa,YAAW;AACvB,MAAIxT,SAASnE,MAAMmE,MAAnB;;AAEAA,SAAOyE,KAAP,GAAe,EAAEC,KAAK,CAAP,EAAUC,KAAK,CAAf,EAAf;AACA3E,SAAO4E,WAAP,GAAqB,EAAEF,KAAK,CAAP,EAAUC,KAAK,CAAf,EAArB;AACA3E,SAAO6E,OAAP,GAAiB,CAAjB;AACA7E,SAAO8E,UAAP,GAAoB,IAApB;AACA9E,SAAOE,QAAP,GAAkB,KAAlB;AACAF,SAAOkE,SAAP,GAAmB,IAAnB;AACAlE,SAAO8F,OAAP,GAAiB,KAAjB;AACA9F,SAAO+E,MAAP,GAAgB,EAAhB;AACA/E,SAAOC,KAAP,GAAe,EAAf;;AAEAwT;AACA,EAdD;;AAgBA,KAAIzT,SAASnE,MAAMmE,MAAnB;AAAA,KACC3D,WAAWF,OAAOE,QADnB;AAAA,KAECqX,eAAe,KAFhB;AAAA,KAGCtW,SAASF,OAAOC,SAAP,CAAiBE,cAH3B;AAAA,KAICsW,gBAAgBC,OAAQ,EAAE7O,QAAQzI,SAAV,EAAqBoG,QAAQpG,SAA7B;AACvBmH,YAAUnH,SADa,EACFmK,QAAQnK,SADN,EAAR,CAJjB;AAAA,KAMCF,UAAU;AACTG,kBAAkB,YAAW;AAC5B,OAAIC,IAAI,mBAAR;AACA,OAAI;AACHD,mBAAeE,OAAf,CAAwBD,CAAxB,EAA2BA,CAA3B;AACAD,mBAAeG,UAAf,CAA2BF,CAA3B;AACA,WAAO,IAAP;AACA,IAJD,CAIE,OAAQG,CAAR,EAAY;AACb,WAAO,KAAP;AACA;AACD,GATiB;AADT,EANX;AAAA,KAkBCkX,cAAc,EAlBf;;AAoBA;;;AAGA,UAASC,UAAT,CAAqBxE,CAArB,EAAyB;AACxB,MAAK,CAACA,CAAN,EAAU;AACT,UAAO,EAAP;AACA;AACDA,MAAIA,IAAI,EAAR;;AAEA;AACA,SAAOA,EAAExS,OAAF,CAAW,UAAX,EAAuB,UAAUwS,CAAV,EAAc;AAC3C,WAASA,CAAT;AACA,SAAK,GAAL;AACC,YAAO,QAAP;AACD,SAAK,IAAL;AACC,YAAO,QAAP;AACD,SAAK,GAAL;AACC,YAAO,MAAP;AACD,SAAK,GAAL;AACC,YAAO,MAAP;AACD,SAAK,GAAL;AACC,YAAO,OAAP;AAVD;AAYA,GAbM,CAAP;AAcA;;AAED;;;;;AAKA,UAASyE,QAAT,CAAmB/V,IAAnB,EAAyBe,IAAzB,EAA+BiS,EAA/B,EAAoC;AACnC,MAAKhT,KAAKgW,gBAAV,EAA6B;;AAE5B;AACAhW,QAAKgW,gBAAL,CAAuBjV,IAAvB,EAA6BiS,EAA7B,EAAiC,KAAjC;AACA,GAJD,MAIO,IAAKhT,KAAKiW,WAAV,EAAwB;;AAE9B;AACAjW,QAAKiW,WAAL,CAAkB,OAAOlV,IAAzB,EAA+B,YAAW;AACzC,QAAImV,QAAQ/X,OAAO+X,KAAnB;AACA,QAAK,CAACA,MAAMC,MAAZ,EAAqB;AACpBD,WAAMC,MAAN,GAAeD,MAAME,UAAN,IAAoB/X,QAAnC;AACA;;AAED2U,OAAGvS,IAAH,CAAST,IAAT,EAAekW,KAAf;AACA,IAPD;AAQA;AACD;;AAED;;;;;AAKA,UAASG,SAAT,CAAoBC,KAApB,EAA2BvV,IAA3B,EAAiCiS,EAAjC,EAAsC;AACrC,MAAIvT,IAAI6W,MAAMzW,MAAd;AACA,SAAQJ,GAAR,EAAc;AACbsW,YAAUO,MAAO7W,CAAP,CAAV,EAAsBsB,IAAtB,EAA4BiS,EAA5B;AACA;AACD;;AAED,UAASuD,QAAT,CAAmBvW,IAAnB,EAAyB6C,IAAzB,EAAgC;AAC/B,SAAO,CAAE,MAAM7C,KAAKwW,SAAX,GAAuB,GAAzB,EAA+BtW,OAA/B,CAAwC,MAAM2C,IAAN,GAAa,GAArD,KAA8D,CAArE;AACA;;AAED,UAAS4T,QAAT,CAAmBzW,IAAnB,EAAyB6C,IAAzB,EAAgC;AAC/B,MAAK,CAAC0T,SAAUvW,IAAV,EAAgB6C,IAAhB,CAAN,EAA+B;AAC9B7C,QAAKwW,SAAL,IAAkB,CAAExW,KAAKwW,SAAL,GAAiB,GAAjB,GAAuB,EAAzB,IAAgC3T,IAAlD;AACA;AACD;;AAED,UAAS6T,WAAT,CAAsB1W,IAAtB,EAA4B6C,IAA5B,EAAkC8T,KAAlC,EAA0C;AACzC,MAAKA,SAAS,OAAOA,KAAP,KAAiB,WAAjB,IAAgC,CAACJ,SAAUvW,IAAV,EAAgB6C,IAAhB,CAA/C,EAAwE;AACvE4T,YAAUzW,IAAV,EAAgB6C,IAAhB;AACA,GAFD,MAEO;AACN+T,eAAa5W,IAAb,EAAmB6C,IAAnB;AACA;AACD;;AAED,UAAS+T,WAAT,CAAsB5W,IAAtB,EAA4B6C,IAA5B,EAAmC;AAClC,MAAIgU,MAAM,MAAM7W,KAAKwW,SAAX,GAAuB,GAAjC;;AAEA;AACA,SAAQK,IAAI3W,OAAJ,CAAa,MAAM2C,IAAN,GAAa,GAA1B,KAAmC,CAA3C,EAA+C;AAC9CgU,SAAMA,IAAI/X,OAAJ,CAAa,MAAM+D,IAAN,GAAa,GAA1B,EAA+B,GAA/B,CAAN;AACA;;AAED;AACA7C,OAAKwW,SAAL,GAAiB,OAAOK,IAAIC,IAAX,KAAoB,UAApB,GAAiCD,IAAIC,IAAJ,EAAjC,GAA8CD,IAAI/X,OAAJ,CAAa,YAAb,EAA2B,EAA3B,CAA/D;AACA;;AAED,UAASiW,EAAT,CAAalS,IAAb,EAAoB;AACnB,SAAOxE,SAAS6N,cAAT,IAA2B7N,SAAS6N,cAAT,CAAyBrJ,IAAzB,CAAlC;AACA;;AAED,UAASkU,gBAAT,GAA4B;AAC3B,MAAItX,CAAJ;AAAA,MAAOC,CAAP;AAAA,MAAUY,GAAV;AAAA,MACC0W,OADD;AAAA,MACUC,cADV;AAAA,MAECC,YAAY,KAFb;AAAA,MAGCzU,YAAYT,OAAOS,SAHpB;AAAA,MAIC0U,gBAAgB,EAJjB;;AAMA,OAAM1X,IAAI,CAAV,EAAaA,IAAIgD,UAAU5C,MAA3B,EAAmCJ,GAAnC,EAAyC;;AAExC;AACAa,SAAM0B,OAAOS,SAAP,CAAkBhD,CAAlB,CAAN;AACA,OAAK,OAAOa,GAAP,KAAe,QAApB,EAA+B;AAC9BA,UAAM;AACLyU,SAAIzU,GADC;AAEL0U,YAAO1U;AAFF,KAAN;AAIA;;AAED0W,aAAUlB,WAAYxV,IAAIyU,EAAhB,CAAV;AACAkC,oBAAiBnB,WAAYxV,IAAI2U,OAAhB,CAAjB;;AAEA,OAAK,CAAC3U,IAAI8U,KAAL,IAAc,OAAO9U,IAAI8U,KAAX,KAAqB,QAAxC,EAAmD;AAClD+B,qBAAiB,gCAAgCH,OAAhC,GAChB,UADgB,GACHA,OADG,GACO,mBADP,IAEd1W,IAAI8U,KAAJ,GAAY,aAAaU,WAAYxV,IAAI8U,KAAhB,CAAb,GAAuC,GAAnD,GAAyD,EAF3C,KAGdpT,OAAQ1B,IAAIyU,EAAZ,IAAmB,oBAAnB,GAA0C,EAH5B,IAIhB,UAJgB,GAIHkC,cAJG,GAIc,kCAJd,GAImDD,OAJnD,GAKhB,WALgB,GAKFC,cALE,GAKe,IALf,GAKsB3W,IAAI0U,KAL1B,GAKkC,UALnD;AAMA,IAPD,MAOO;AACNmC,qBAAiB,iCAAiCH,OAAjC,GAChB,WADgB,GACFC,cADE,GACe,IADf,GACsB3W,IAAI0U,KAD1B,GAEhB,wCAFgB,GAE2BgC,OAF3B,GAGhB,UAHgB,GAGHA,OAHG,GAGO,WAHP,GAGqBC,cAHrB,GAGsC,qBAHvD;;AAKA,QAAKpZ,MAAM2C,EAAN,CAAU,OAAV,EAAmBF,IAAI8U,KAAvB,CAAL,EAAsC;AACrC,UAAM1V,IAAI,CAAV,EAAaA,IAAIY,IAAI8U,KAAJ,CAAUvV,MAA3B,EAAmCH,GAAnC,EAAyC;AACxCsX,gBAAUlB,WAAYxV,IAAI8U,KAAJ,CAAW1V,CAAX,CAAZ,CAAV;AACAyX,uBAAiB,oBAAoBH,OAApB,GAA8B,GAA9B,IACdhV,OAAQ1B,IAAIyU,EAAZ,MAAqBzU,IAAI8U,KAAJ,CAAW1V,CAAX,CAArB,GACD,CAAEwX,YAAY,IAAd,KAAwB,sBADvB,GACgD,EAFlC,IAGhB,GAHgB,GAGVF,OAHU,GAGA,WAHjB;AAIA;AACD,KARD,MAQO;AACN,UAAMtX,CAAN,IAAWY,IAAI8U,KAAf,EAAuB;AACtB,UAAKhW,OAAOqB,IAAP,CAAaH,IAAI8U,KAAjB,EAAwB1V,CAAxB,CAAL,EAAmC;AAClCyX,wBAAiB,oBAAoBrB,WAAYpW,CAAZ,CAApB,GAAsC,GAAtC,IACdsC,OAAQ1B,IAAIyU,EAAZ,MAAqBrV,CAArB,GACD,CAAEwX,YAAY,IAAd,KAAwB,sBADvB,GACgD,EAFlC,IAGhB,GAHgB,GAGVpB,WAAYxV,IAAI8U,KAAJ,CAAW1V,CAAX,CAAZ,CAHU,GAGqB,WAHtC;AAIA;AACD;AACD;AACD,QAAKsC,OAAQ1B,IAAIyU,EAAZ,KAAoB,CAACmC,SAA1B,EAAsC;AACrCF,eAAUlB,WAAY9T,OAAQ1B,IAAIyU,EAAZ,CAAZ,CAAV;AACAoC,sBAAiB,oBAAoBH,OAApB,GAChB,4CADgB,GAC+BA,OAD/B,GACyC,WAD1D;AAEA;AACDG,qBAAiB,WAAjB;AACA;AACD;;AAED,SAAOA,aAAP;AACA;;AAED;AACA;AACA,UAASC,cAAT,GAA0B;AACzB,MAAIC,UAAJ;AAAA,MAAgBjC,KAAhB;AAAA,MAAuBtS,KAAvB;AAAA,MACCwU,QAAQ,IADT;AAAA,MAECjC,SAAS,EAFV;;AAIA;AACA,MAAK,mBAAmBiC,KAAxB,EAAgC;AAC/BlC,WAAQkC,MAAMC,OAAN,CAAeD,MAAME,aAArB,EAAqCpC,KAArC,IAA8C9W,SAAtD;AACA,GAFD,MAEO;AACN8W,WAAQkC,MAAMG,OAAN,GAAkBH,MAAMI,YAAN,IAAsB,IAAxC,GAAiDpZ,SAAzD;AACA;;AAED+W,SAAQiC,MAAMzU,IAAd,IAAuBuS,KAAvB;AACAiC,eAAazB,OAAQP,MAAR,CAAb;;AAEA;AACA,MAAK,iBAAiBiC,MAAMzU,IAAvB,IAA+B,kBAAkB1E,OAAOwZ,OAA7D,EAAuE;AACtE9Z,SAAM8W,SAAN,CAAiB2C,MAAMzU,IAAvB,IAAgCuS,KAAhC;AACApT,UAAQsV,MAAMzU,IAAd,IAAuBuS,SAAS,KAAhC;AACAtS,WAAQiS,GAAI,aAAJ,CAAR;AACA,OAAKjS,KAAL,EAAa;AACZ4T,gBAAa5T,KAAb,EAAoB,UAApB,EAAgCsS,SAAS,KAAzC;AACA;AACDjX,UAAOwZ,OAAP,CAAeC,YAAf,CAA6B,IAA7B,EAAmC,EAAnC,EAAuCP,UAAvC;AACA,GARD,MAQO;AACNlZ,UAAOoG,QAAP,GAAkB8S,UAAlB;AACA;AACD;;AAED,UAASzB,MAAT,CAAiBP,MAAjB,EAA0B;AACzB,MAAIhV,GAAJ;AAAA,MAASwX,QAAT;AAAA,MAAmBpY,CAAnB;AAAA,MACCqY,cAAc,GADf;AAAA,MAECvT,WAAWpG,OAAOoG,QAFnB;;AAIA8Q,WAASxX,MAAM6C,MAAN,CAAc7C,MAAM6C,MAAN,CAAc,EAAd,EAAkB7C,MAAM8W,SAAxB,CAAd,EAAmDU,MAAnD,CAAT;;AAEA,OAAMhV,GAAN,IAAagV,MAAb,EAAsB;;AAErB;AACA,OAAKjW,OAAOqB,IAAP,CAAa4U,MAAb,EAAqBhV,GAArB,KAA8BgV,OAAQhV,GAAR,MAAkB/B,SAArD,EAAiE;;AAEhE;AACAuZ,eAAW,GAAGhD,MAAH,CAAWQ,OAAQhV,GAAR,CAAX,CAAX;AACA,SAAMZ,IAAI,CAAV,EAAaA,IAAIoY,SAAShY,MAA1B,EAAkCJ,GAAlC,EAAwC;AACvCqY,oBAAeC,mBAAoB1X,GAApB,CAAf;AACA,SAAKwX,SAAUpY,CAAV,MAAkB,IAAvB,EAA8B;AAC7BqY,qBAAe,MAAMC,mBAAoBF,SAAUpY,CAAV,CAApB,CAArB;AACA;AACDqY,oBAAe,GAAf;AACA;AACD;AACD;AACD,SAAOvT,SAASC,QAAT,GAAoB,IAApB,GAA2BD,SAASyT,IAApC,GACNzT,SAAS0T,QADH,GACcH,YAAYlY,KAAZ,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,CADrB;AAEA;;AAED,UAASsY,cAAT,GAA0B;AACzB,MAAIC,cAAJ;AAAA,MACCtC,cAAcd,GAAI,oBAAJ,CADf;AAAA,MAEChO,SAASgO,GAAI,oBAAJ,EAA2BK,KAFrC;;AAIA+C,mBAAiBtC,cAChBN,mBAAoBM,YAAY0B,OAAZ,CAAqB1B,YAAY2B,aAAjC,EAAiDpC,KAArE,CADgB,GAEhB9W,SAFD;;AAIAH,SAAOoG,QAAP,GAAkBqR,OAAQ;AACzBlR,WAAUyT,mBAAmB,EAArB,GAA4B7Z,SAA5B,GAAwC6Z,cADvB;AAEzBpR,WAAUA,WAAW,EAAb,GAAoBzI,SAApB,GAAgCyI,MAFf;;AAIzB;AACAtB,aAAUnH,SALe;AAMzBmK,WAAQnK;AANiB,GAAR,CAAlB;AAQA;;AAED,UAAS8Z,yBAAT,GAAqC;AACpC,MAAIC,qBAAqBha,SAASia,aAAT,CAAwB,MAAxB,CAAzB;;AAEAD,qBAAmBlM,SAAnB,GAA+B4K,kBAA/B;AACAN,WAAU4B,kBAAV,EAA8B,kBAA9B;;AAEA;AACA;AACA;AACAhC,YAAWgC,mBAAmBE,oBAAnB,CAAyC,OAAzC,CAAX,EAA+D,OAA/D,EAAwEnB,cAAxE;AACAf,YAAWgC,mBAAmBE,oBAAnB,CAAyC,QAAzC,CAAX,EAAgE,QAAhE,EAA0EnB,cAA1E;;AAEA,SAAOiB,kBAAP;AACA;;AAED,UAASG,kBAAT,GAA8B;AAC7B,MAAIzR,SAAS1I,SAASia,aAAT,CAAwB,MAAxB,CAAb;AAAA,MACCtD,QAAQ3W,SAASia,aAAT,CAAwB,OAAxB,CADT;AAAA,MAECG,QAAQpa,SAASia,aAAT,CAAwB,OAAxB,CAFT;AAAA,MAGCI,SAASra,SAASia,aAAT,CAAwB,QAAxB,CAHV;;AAKA7B,WAAU1P,MAAV,EAAkB,cAAlB;;AAEAiO,QAAM7I,SAAN,GAAkB,UAAlB;;AAEAsM,QAAM1X,IAAN,GAAa,MAAb;AACA0X,QAAMrD,KAAN,GAAcpT,OAAO+E,MAAP,IAAiB,EAA/B;AACA0R,QAAM5V,IAAN,GAAa,QAAb;AACA4V,QAAM1D,EAAN,GAAW,oBAAX;;AAEA2D,SAAOvM,SAAP,GAAmB,IAAnB;;AAEA6I,QAAM2D,WAAN,CAAmBF,KAAnB;;AAEA1R,SAAO4R,WAAP,CAAoB3D,KAApB;AACAjO,SAAO4R,WAAP,CAAoBD,MAApB;AACA3C,WAAUhP,MAAV,EAAkB,QAAlB,EAA4B,UAAU6R,EAAV,EAAe;AAC1CV;;AAEA,OAAKU,MAAMA,GAAGC,cAAd,EAA+B;AAC9BD,OAAGC,cAAH;AACA;;AAED,UAAO,KAAP;AACA,GARD;;AAUA,SAAO9R,MAAP;AACA;;AAED,UAAS+R,uBAAT,GAAmC;AAClC,MAAIrZ,CAAJ;AAAA,MACCsZ,mBAAmB,EADpB;;AAGA,MAAK,CAAClD,YAAYhW,MAAlB,EAA2B;AAC1B,UAAO,KAAP;AACA;;AAEDkZ,sBAAoB,qDACnB,uEADmB,IAEjBlb,MAAM8W,SAAN,CAAgBjQ,MAAhB,KAA2BpG,SAA3B,GAAuC,qBAAvC,GAA+D,EAF9C,IAGnB,2BAHD;;AAKA,OAAMmB,IAAI,CAAV,EAAaA,IAAIoW,YAAYhW,MAA7B,EAAqCJ,GAArC,EAA2C;AAC1CsZ,uBAAoB,oBACnBjD,WAAYiC,mBAAoBlC,YAAapW,CAAb,CAApB,CAAZ,CADmB,GACoC,IADpC,IAEjB5B,MAAM8W,SAAN,CAAgBjQ,MAAhB,KAA2BmR,YAAapW,CAAb,CAA3B,GAA8C,qBAA9C,GAAsE,EAFrD,IAGnB,GAHmB,GAGbqW,WAAYD,YAAapW,CAAb,CAAZ,CAHa,GAGoB,WAHxC;AAIA;AACDsZ,sBAAoB,WAApB;;AAEA,SAAOA,gBAAP;AACA;;AAED,UAASC,mBAAT,GAA+B;AAC9B,MAAIC,UAAUlE,GAAI,0BAAJ,CAAd;AAAA,MACCmE,eAAe7a,SAASia,aAAT,CAAwB,MAAxB,CADhB;AAAA,MAECS,mBAAmBD,yBAFpB;;AAIA,MAAK,CAACG,OAAD,IAAY,CAACF,gBAAlB,EAAqC;AACpC,UAAO,KAAP;AACA;;AAEDG,eAAaC,YAAb,CAA2B,IAA3B,EAAiC,8BAAjC;AACAD,eAAa/M,SAAb,GAAyB4M,gBAAzB;;AAEAhD,WAAUmD,aAAaE,SAAvB,EAAkC,QAAlC,EAA4ClB,cAA5C;;AAEAe,UAAQN,WAAR,CAAqBO,YAArB;AACA;;AAED,UAASG,aAAT,GAAyB;AACxB,MAAIJ,UAAUlE,GAAI,0BAAJ,CAAd;;AAEA,MAAKkE,OAAL,EAAe;AACdA,WAAQN,WAAR,CAAqBP,2BAArB;AACAa,WAAQN,WAAR,CAAqBH,oBAArB;AACAQ;AACA;AACD;;AAED,UAASM,YAAT,GAAwB;AACvB,MAAIC,SAASxE,GAAI,cAAJ,CAAb;;AAEA,MAAKwE,MAAL,EAAc;AACbA,UAAOpN,SAAP,GAAmB,cAAc2J,WAAYH,aAAZ,CAAd,GAA4C,IAA5C,GAAmD4D,OAAOpN,SAA1D,GAClB,OADD;AAEA;AACD;;AAED,UAASqN,YAAT,GAAwB;AACvB,MAAIC,SAAS1E,GAAI,cAAJ,CAAb;;AAEA,MAAK0E,MAAL,EAAc;AACbA,UAAOjD,SAAP,GAAmB,EAAnB;AACA;AACD;;AAED,UAASkD,iBAAT,GAA6B;AAC5B,MAAI5W,QAAQiS,GAAI,aAAJ,CAAZ;AAAA,MACCpV,SAASoV,GAAI,kBAAJ,CADV;;AAGA,MAAKpV,MAAL,EAAc;AACbA,UAAOga,UAAP,CAAkBC,WAAlB,CAA+Bja,MAA/B;AACA;;AAED,MAAKmD,KAAL,EAAa;AACZA,SAAMqJ,SAAN,GAAkB,EAAlB;AACAxM,YAAStB,SAASia,aAAT,CAAwB,GAAxB,CAAT;AACA3Y,UAAOoV,EAAP,GAAY,kBAAZ;AACApV,UAAO6W,SAAP,GAAmB,QAAnB;AACA1T,SAAM6W,UAAN,CAAiBE,YAAjB,CAA+Bla,MAA/B,EAAuCmD,KAAvC;AACAnD,UAAOwM,SAAP,GAAmB,wBAAnB;AACA;AACD;;AAED,UAAS2N,YAAT,GAAwB;AACvB,MAAI7N,UAAU8I,GAAI,eAAJ,CAAd;AACA,MAAK9I,OAAL,EAAe;AACdjK,UAAOiK,OAAP,GAAiBA,QAAQE,SAAzB;AACA;AACD;;AAED,UAAS4N,kBAAT,GAA8B;AAC7B,MAAItR,SAAS5K,MAAMmE,MAAN,CAAayG,MAA1B;AACA,MAAK,CAACA,MAAD,IAAWA,OAAO5I,MAAP,IAAiB,CAAjC,EAAqC;AACpC,UAAO,EAAP;AACA;AACD,SAAO,4DACNiW,WAAYrN,OAAO/G,IAAP,CAAa,IAAb,CAAZ,CADM,GAEN,mCAFM,GAGNoU,WAAYH,aAAZ,CAHM,GAIN,2BAJD;AAKA;;AAED,UAASqE,eAAT,GAA2B;AAC1B,MAAIC,YAAYlF,GAAI,iBAAJ,CAAhB;;AAEA,MAAKkF,SAAL,EAAiB;AAChBA,aAAU9N,SAAV,GAAsB,EAAtB;AACA8N,aAAUtB,WAAV,CACCta,SAAS6b,cAAT,CACC,WAAWrc,MAAM4G,OAAjB,GAA2B,IAA3B,GAAkC0V,UAAUF,SAD7C,CADD;AAKA;AACD;;AAED,UAASxE,eAAT,GAA2B;AAC1B,MAAI2E,QAAQrF,GAAI,OAAJ,CAAZ;;AAEA,MAAKqF,KAAL,EAAa;AACZA,SAAMjO,SAAN,GACC,2BAA2B2J,WAAYzX,SAASgc,KAArB,CAA3B,GAA0D,OAA1D,GACA,6BADA,GAEA,2CAFA,GAGAN,oBAHA,GAIA,gCAJA,GAKA,4BAND;AAOA;;AAEDT;AACAE;AACAE;AACAM;AACAX;AACA;;AAED,UAASiB,eAAT,CAA0B5X,OAA1B,EAAoC;AACnC,MAAIjD,CAAJ,EAAOyD,CAAP,EAAU1E,CAAV,EAAa+b,CAAb,EAAgBhZ,IAAhB,EAAsBiZ,SAAtB;;AAEA,OAAM/a,IAAI,CAAJ,EAAOyD,IAAIR,QAAQ7C,MAAzB,EAAiCJ,IAAIyD,CAArC,EAAwCzD,GAAxC,EAA8C;AAC7C+a,eAAY9X,QAASjD,CAAT,CAAZ;;AAEA,QAAMjB,IAAI,CAAJ,EAAO+b,IAAIC,UAAU1X,KAAV,CAAgBjD,MAAjC,EAAyCrB,IAAI+b,CAA7C,EAAgD/b,GAAhD,EAAsD;AACrD+C,WAAOiZ,UAAU1X,KAAV,CAAiBtE,CAAjB,CAAP;;AAEAic,eAAYlZ,KAAKsB,IAAjB,EAAuBtB,KAAKkH,MAA5B,EAAoC+R,UAAU3X,IAA9C;AACA;AACD;AACD;;AAED,UAAS4X,UAAT,CAAqB5X,IAArB,EAA2B4F,MAA3B,EAAmCjD,UAAnC,EAAgD;AAC/C,MAAI6U,KAAJ;AAAA,MAAWK,YAAX;AAAA,MAAyBC,SAAzB;AAAA,MAAoCC,UAApC;AAAA,MACC9X,QAAQiS,GAAI,aAAJ,CADT;;AAGA,MAAK,CAACjS,KAAN,EAAc;AACb;AACA;;AAEDuX,UAAQhc,SAASia,aAAT,CAAwB,QAAxB,CAAR;AACA+B,QAAMlO,SAAN,GAAkB0O,YAAahY,IAAb,EAAmB2C,UAAnB,CAAlB;;AAEAkV,iBAAerc,SAASia,aAAT,CAAwB,GAAxB,CAAf;AACAoC,eAAavO,SAAb,GAAyB,OAAzB;AACAuO,eAAaI,IAAb,GAAoBlF,OAAQ,EAAEnN,QAAQA,MAAV,EAAR,CAApB;;AAEAkS,cAAYtc,SAASia,aAAT,CAAwB,IAAxB,CAAZ;AACAqC,YAAUhC,WAAV,CAAuB0B,KAAvB;AACAM,YAAUhC,WAAV,CAAuB+B,YAAvB;AACAC,YAAU5F,EAAV,GAAe,uBAAuBtM,MAAtC;;AAEAmS,eAAavc,SAASia,aAAT,CAAwB,IAAxB,CAAb;AACAsC,aAAWpE,SAAX,GAAuB,mBAAvB;;AAEAmE,YAAUhC,WAAV,CAAuBiC,UAAvB;;AAEA9X,QAAM6V,WAAN,CAAmBgC,SAAnB;AACA;;AAED;AACA9c,OAAMmJ,KAAN,CAAa,UAAU8D,OAAV,EAAoB;AAChC,MAAIrL,CAAJ,EAAO+a,SAAP,EAAkB1X,KAAlB;;AAEA;AACA,OAAMrD,IAAI,CAAV,EAAaA,IAAIqL,QAAQpI,OAAR,CAAgB7C,MAAjC,EAAyCJ,GAAzC,EAA+C;AAC9C+a,eAAY1P,QAAQpI,OAAR,CAAiBjD,CAAjB,CAAZ;AACA,OAAK+a,UAAU3X,IAAf,EAAsB;AACrBgT,gBAAYpU,IAAZ,CAAkB+Y,UAAU3X,IAA5B;AACA;AACD;AACDgT,cAAY/E,IAAZ,CAAkB,UAAUvR,CAAV,EAAaC,CAAb,EAAiB;AAClC,UAAOD,EAAEwb,aAAF,CAAiBvb,CAAjB,CAAP;AACA,GAFD;;AAIA;AACAsa;;AAEA;AACArE;AACA6E,kBAAiBxP,QAAQpI,OAAzB;AACAI,UAAQiS,GAAI,aAAJ,CAAR;AACA,MAAKjS,SAASd,OAAOgZ,UAArB,EAAkC;AACjCvE,YAAU3T,KAAV,EAAiB,UAAjB;AACA;AACD,EAxBD;;AA0BAjF,OAAM4J,IAAN,CAAY,UAAUqD,OAAV,EAAoB;AAC/B,MAAIrL,CAAJ;AAAA,MAAOY,GAAP;AAAA,MACCoZ,SAAS1E,GAAI,cAAJ,CADV;AAAA,MAECjS,QAAQiS,GAAI,aAAJ,CAFT;AAAA,MAGCkG,OAAO,CACN,qBADM,EAENnQ,QAAQlD,OAFF,EAGN,sBAHM,EAIN,uBAJM,EAKNkD,QAAQjD,MALF,EAMN,4CANM,EAONiD,QAAQ7C,KAPF,EAQN,uCARM,EASN6C,QAAQ9C,MATF,EAUN,iBAVM,EAWLtG,IAXK,CAWC,EAXD,CAHR;;AAgBA,MAAK+X,MAAL,EAAc;AACbA,UAAOjD,SAAP,GAAmB1L,QAAQ9C,MAAR,GAAiB,YAAjB,GAAgC,YAAnD;AACA;;AAED,MAAKlF,KAAL,EAAa;AACZiS,MAAI,kBAAJ,EAAyB5I,SAAzB,GAAqC8O,IAArC;AACA;;AAED,MAAKjZ,OAAOI,UAAP,IAAqB/D,SAASgc,KAAnC,EAA2C;;AAE1C;AACA;AACAhc,YAASgc,KAAT,GAAiB,CACdvP,QAAQ9C,MAAR,GAAiB,QAAjB,GAA4B,QADd,EAEhB3J,SAASgc,KAAT,CAAevb,OAAf,CAAwB,mBAAxB,EAA6C,EAA7C,CAFgB,EAGf4C,IAHe,CAGT,GAHS,CAAjB;AAIA;;AAED;AACA,MAAKM,OAAOG,OAAP,IAAkB/D,QAAQG,cAA1B,IAA4CuM,QAAQ9C,MAAR,KAAmB,CAApE,EAAwE;AACvE,QAAMvI,IAAI,CAAV,EAAaA,IAAIlB,eAAesB,MAAhC,EAAwCJ,GAAxC,EAA8C;AAC7CY,UAAM9B,eAAe8B,GAAf,CAAoBZ,GAApB,CAAN;AACA,QAAKY,IAAIH,OAAJ,CAAa,aAAb,MAAiC,CAAtC,EAA0C;AACzC3B,oBAAeG,UAAf,CAA2B2B,GAA3B;AACA;AACD;AACD;;AAED;AACA,MAAK2B,OAAOM,SAAP,IAAoBnE,OAAO+c,QAAhC,EAA2C;AAC1C/c,UAAO+c,QAAP,CAAiB,CAAjB,EAAoB,CAApB;AACA;AACD,EAjDD;;AAmDA,UAASL,WAAT,CAAsBhY,IAAtB,EAA4B6B,MAA5B,EAAqC;AACpC,MAAIyW,WAAW,EAAf;;AAEA,MAAKzW,MAAL,EAAc;AACbyW,cAAW,+BAA+BrF,WAAYpR,MAAZ,CAA/B,GAAsD,WAAjE;AACA;;AAEDyW,cAAY,6BAA6BrF,WAAYjT,IAAZ,CAA7B,GAAkD,SAA9D;;AAEA,SAAOsY,QAAP;AACA;;AAEDtd,OAAMud,SAAN,CAAiB,UAAUtQ,OAAV,EAAoB;AACpC,MAAIuQ,OAAJ,EAAaV,SAAb,EAAwBhU,GAAxB;;AAEAgU,cAAY5F,GAAI,uBAAuBjK,QAAQrC,MAAnC,CAAZ;AACA,MAAKkS,SAAL,EAAiB;AAChBA,aAAUnE,SAAV,GAAsB,SAAtB;AACA,GAFD,MAEO;;AAEN;AACAiE,cAAY3P,QAAQjI,IAApB,EAA0BiI,QAAQrC,MAAlC,EAA0CqC,QAAQpG,MAAlD;AACA;;AAED2W,YAAUtG,GAAI,kBAAJ,CAAV;AACA,MAAKsG,OAAL,EAAe;AACd1U,SAAM9I,MAAMmE,MAAN,CAAaG,OAAb,IAAwB/D,QAAQG,cAAhC,IACL,CAACA,eAAemM,OAAf,CAAwB,gBAAgBI,QAAQpG,MAAxB,GAAiC,GAAjC,GAAuCoG,QAAQjI,IAAvE,CADF;;AAGAwY,WAAQlP,SAAR,GAAoB,CAAExF,MACrB,0CADqB,GAErB,iBAFmB,IAGnBkU,YAAa/P,QAAQjI,IAArB,EAA2BiI,QAAQpG,MAAnC,CAHD;AAIA;AAED,EAvBD;;AAyBA,UAAS4W,SAAT,CAAoBnH,MAApB,EAA6B;;AAE5B;AACA,SAAOA,OAAOrV,OAAP,CAAgB,iBAAhB,EAAmC,EAAnC,EAAwCA,OAAxC,CAAiD,UAAjD,EAA6D,EAA7D,EAAkEA,OAAlE,CAA2E,MAA3E,EAAmF,EAAnF,CAAP;AACA;;AAEDjB,OAAM0d,GAAN,CAAW,UAAUzQ,OAAV,EAAoB;AAC9B,MAAI8P,UAAJ;AAAA,MAAgBY,QAAhB;AAAA,MACClS,OADD;AAAA,MACUX,QADV;AAAA,MACoBoC,MADpB;AAAA,MAC4BzL,IAD5B;AAAA,MAECmc,WAAW,KAFZ;AAAA,MAGCC,WAAW3G,GAAI,uBAAuBjK,QAAQrC,MAAnC,CAHZ;;AAKA,MAAK,CAACiT,QAAN,EAAiB;AAChB;AACA;;AAEDpS,YAAUwM,WAAYhL,QAAQxB,OAApB,MAAmCwB,QAAQnL,MAAR,GAAiB,MAAjB,GAA0B,QAA7D,CAAV;AACA2J,YAAU,gCAAgCA,OAAhC,GAA0C,SAApD;AACAA,aAAW,6BAA6BwB,QAAQlD,OAArC,GAA+C,YAA1D;;AAEA;AACA;AACA;AACA,MAAK,CAACkD,QAAQnL,MAAT,IAAmBP,OAAOqB,IAAP,CAAaqK,OAAb,EAAsB,UAAtB,CAAxB,EAA6D;AAC5D,OAAKA,QAAQE,QAAb,EAAwB;AACvBrC,eAAW,SAAS9K,MAAMgQ,IAAN,CAAWC,KAAX,CAAkBhD,QAAQnC,QAA1B,CAApB;AACA,IAFD,MAEO;AACNA,eAAW9K,MAAMgQ,IAAN,CAAWC,KAAX,CAAkBhD,QAAQnC,QAA1B,CAAX;AACA;;AAEDoC,YAASlN,MAAMgQ,IAAN,CAAWC,KAAX,CAAkBhD,QAAQC,MAA1B,CAAT;AACAzB,cAAW,kEACVwM,WAAYnN,QAAZ,CADU,GAEV,kBAFD;;AAIA,OAAKoC,WAAWpC,QAAhB,EAA2B;;AAE1BW,eAAW,uDACVwM,WAAY/K,MAAZ,CADU,GACa,kBADxB;;AAGA;AACA,QAAK,CAAG,iBAAiBxJ,IAAjB,CAAuBwJ,MAAvB,CAAH,IACH,CAAG,iBAAiBxJ,IAAjB,CAAuBoH,QAAvB,CADL,EAC2C;AAC1CrJ,YAAOzB,MAAMyB,IAAN,CAAYqJ,QAAZ,EAAsBoC,MAAtB,CAAP;AACA0Q,gBAAWH,UAAWhc,IAAX,EAAkBO,MAAlB,KACVyb,UAAW3S,QAAX,EAAsB9I,MAAtB,GACAyb,UAAWvQ,MAAX,EAAoBlL,MAFrB;AAGA;;AAED;AACA,QAAK4b,QAAL,EAAgB;AACfnS,gBAAW,mDACVhK,IADU,GACH,kBADR;AAEA;AACD,IAnBD,MAmBO,IAAKqJ,SAASzI,OAAT,CAAkB,gBAAlB,MAAyC,CAAC,CAA1C,IACVyI,SAASzI,OAAT,CAAkB,iBAAlB,MAA0C,CAAC,CADtC,EAC0C;AAChDoJ,eAAW,oDACV,yEADU,GAEVzL,MAAMmE,MAAN,CAAaO,QAFH,GAEc,qDAFd,GAGV,2CAHU,GAIVuT,WAAYF,OAAQ,EAAErT,UAAU,CAAC,CAAb,EAAR,CAAZ,CAJU,GAIiC,IAJjC,GAKV,4CALD;AAMA,IARM,MAQA;AACN+G,eAAW,oDACV,uEADU,GAEV,0BAFD;AAGA;;AAED,OAAKwB,QAAQX,MAAb,EAAsB;AACrBb,eAAW,uDACVwM,WAAYhL,QAAQX,MAApB,CADU,GACqB,kBADhC;AAEA;;AAEDb,cAAW,UAAX;;AAED;AACC,GArDD,MAqDO,IAAK,CAACwB,QAAQnL,MAAT,IAAmBmL,QAAQX,MAAhC,EAAyC;AAC/Cb,cAAW,YACV,oDADU,GAEVwM,WAAYhL,QAAQX,MAApB,CAFU,GAEqB,kBAFrB,GAGV,UAHD;AAIA;;AAEDyQ,eAAac,SAASnD,oBAAT,CAA+B,IAA/B,EAAuC,CAAvC,CAAb;;AAEAiD,aAAWnd,SAASia,aAAT,CAAwB,IAAxB,CAAX;AACAkD,WAAShF,SAAT,GAAqB1L,QAAQnL,MAAR,GAAiB,MAAjB,GAA0B,MAA/C;AACA6b,WAASrP,SAAT,GAAqB7C,OAArB;AACAsR,aAAWjC,WAAX,CAAwB6C,QAAxB;AACA,EAnFD;;AAqFA3d,OAAM8d,QAAN,CAAgB,UAAU7Q,OAAV,EAAoB;AACnC,MAAI8Q,SAAJ;AAAA,MAAeC,IAAf;AAAA,MAAqBH,QAArB;AAAA,MAA+Bd,UAA/B;AAAA,MACCkB,IADD;AAAA,MACOnV,GADP;AAAA,MACYoV,UADZ;AAAA,MACwB7R,OADxB;AAAA,MACiC8R,UADjC;AAAA,MAEClZ,QAAQiS,GAAI,aAAJ,CAFT;;AAIA,MAAK,CAACjS,KAAN,EAAc;AACb;AACA;;AAED4Y,aAAW3G,GAAI,uBAAuBjK,QAAQrC,MAAnC,CAAX;;AAEAmS,eAAac,SAASnD,oBAAT,CAA+B,IAA/B,EAAuC,CAAvC,CAAb;;AAEAuD,SAAOhR,QAAQjD,MAAf;AACAlB,QAAMmE,QAAQ9C,MAAd;;AAEA;AACA,MAAKhG,OAAOG,OAAP,IAAkB/D,QAAQG,cAA/B,EAAgD;AAC/C,OAAKoI,GAAL,EAAW;AACVpI,mBAAeE,OAAf,CAAwB,gBAAgBqM,QAAQpG,MAAxB,GAAiC,GAAjC,GAAuCoG,QAAQjI,IAAvE,EAA6E8D,GAA7E;AACA,IAFD,MAEO;AACNpI,mBAAeG,UAAf,CAA2B,gBAAgBoM,QAAQpG,MAAxB,GAAiC,GAAjC,GAAuCoG,QAAQjI,IAA1E;AACA;AACD;;AAED,MAAK8D,QAAQ,CAAb,EAAiB;;AAEhB;AACA8P,YAAUmE,UAAV,EAAsB,iBAAtB;AACA,GAJD,MAIO,IAAKjU,OAAO3E,OAAOK,QAAd,IAA0B,CAACqT,YAAhC,EAA+C;;AAErD;AACAA,kBAAe,IAAf;AACA,GAJM,MAIA;;AAEN;AACAe,YAAUmE,UAAV,EAAsB,iBAAtB;AACA;;AAED;AACAgB,cAAYF,SAASO,UAArB;;AAEAF,eAAapV,MACZ,uBAAuBA,GAAvB,GAA6B,QAA7B,GAAwC,oBAAxC,GAA+DmV,IAA/D,GAAsE,QAD1D,GAEZ,EAFD;;AAIAF,YAAUzP,SAAV,IAAuB,yBAAyB4P,UAAzB,GACtBjR,QAAQvC,UAAR,CAAmB1I,MADG,GACM,OAD7B;;AAGA,MAAKiL,QAAQZ,OAAb,EAAuB;AACtBwR,YAASlF,SAAT,GAAqB,SAArB;AACAtM,aAAU7L,SAASia,aAAT,CAAwB,IAAxB,CAAV;AACApO,WAAQsM,SAAR,GAAoB,qBAApB;AACAtM,WAAQiC,SAAR,GAAoB,SAApB;AACAuP,YAAS7B,YAAT,CAAuB3P,OAAvB,EAAgC0R,SAAhC;AACA,GAND,MAMO;AACN7F,YAAU6F,SAAV,EAAqB,OAArB,EAA8B,YAAW;AACxClF,gBAAakE,UAAb,EAAyB,iBAAzB;AACA,IAFD;;AAIAc,YAASlF,SAAT,GAAqB7P,MAAM,MAAN,GAAe,MAApC;;AAEAkV,UAAOxd,SAASia,aAAT,CAAwB,MAAxB,CAAP;AACAuD,QAAKrF,SAAL,GAAiB,SAAjB;AACAqF,QAAK1P,SAAL,GAAiBrB,QAAQlD,OAAR,GAAkB,KAAnC;AACA8T,YAAS7B,YAAT,CAAuBgC,IAAvB,EAA6BjB,UAA7B;AACA;;AAED;AACA,MAAK9P,QAAQX,MAAb,EAAsB;AACrB6R,gBAAa3d,SAASia,aAAT,CAAwB,GAAxB,CAAb;AACA0D,cAAW7P,SAAX,GAAuB,8BAA8BrB,QAAQX,MAA7D;AACAsM,YAAUuF,UAAV,EAAsB,cAAtB;AACA,OAAKrV,QAAQ,CAAb,EAAiB;AAChB8P,aAAUuF,UAAV,EAAsB,iBAAtB;AACA;AACDjG,YAAU6F,SAAV,EAAqB,OAArB,EAA8B,YAAW;AACxClF,gBAAasF,UAAb,EAAyB,iBAAzB;AACA,IAFD;AAGAN,YAAS/C,WAAT,CAAsBqD,UAAtB;AACA;AACD,EAjFD;;AAmFA;AACA;AACA,KAAIE,aAAe,UAAUC,CAAV,EAAc;AAChC,SAAO,EAAGA,KAAKA,EAAE1X,OAAP,IAAkB0X,EAAE1X,OAAF,CAAU2X,KAAV,GAAkB,CAAvC,CAAP;AACA,EAFgB,CAEZje,OAAOke,OAFK,CAAjB;;AAIA,KAAKH,cAAc7d,SAASie,UAAT,KAAwB,UAA3C,EAAwD;AACvDze,QAAM2I,IAAN;AACA,EAFD,MAEO;AACNuP,WAAU5X,MAAV,EAAkB,MAAlB,EAA0BN,MAAM2I,IAAhC;AACA;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA3I,OAAMyB,IAAN,GAAe,YAAW;AACzB,WAASid,cAAT,GAA0B,CACzB;;AAED;;AAEA;;;;;AAKA,MAAIC,cAAc,CAAC,CAAnB;AAAA,MACCC,cAAc,CADf;AAAA,MAECC,aAAa,CAFd;;AAIA;;;;;;;;;;AAUAH,iBAAepd,SAAf,CAAyBwd,QAAzB,GAAoC,UAAUC,KAAV,EAAiBC,KAAjB,EAAwBC,aAAxB,EAAwC;AAC3E,OAAIC,QAAJ,EAAcC,UAAd,EAA0BC,YAA1B,EACCC,YADD,EACeC,YADf,EAC6BC,KAD7B;;AAGA;AACAL,cAAa,IAAIjf,IAAJ,EAAF,CAAeE,OAAf,KAA2B,IAAtC;;AAEA;AACA,OAAK4e,UAAU,IAAV,IAAkBC,UAAU,IAAjC,EAAwC;AACvC,UAAM,IAAI/a,KAAJ,CAAW,wBAAX,CAAN;AACA;;AAED;AACA,OAAK8a,UAAUC,KAAf,EAAuB;AACtB,QAAKD,KAAL,EAAa;AACZ,YAAO,CACN,CAAEF,UAAF,EAAcE,KAAd,CADM,CAAP;AAGA;AACD,WAAO,EAAP;AACA;;AAED,OAAK,OAAOE,aAAP,KAAyB,WAA9B,EAA4C;AAC3CA,oBAAgB,IAAhB;AACA;;AAEDE,gBAAaF,aAAb;;AAEA;AACAG,kBAAe,KAAKI,gBAAL,CAAuBT,KAAvB,EAA8BC,KAA9B,CAAf;AACAK,kBAAeN,MAAM5N,SAAN,CAAiB,CAAjB,EAAoBiO,YAApB,CAAf;AACAL,WAAQA,MAAM5N,SAAN,CAAiBiO,YAAjB,CAAR;AACAJ,WAAQA,MAAM7N,SAAN,CAAiBiO,YAAjB,CAAR;;AAEA;AACAA,kBAAe,KAAKK,gBAAL,CAAuBV,KAAvB,EAA8BC,KAA9B,CAAf;AACAM,kBAAeP,MAAM5N,SAAN,CAAiB4N,MAAM/c,MAAN,GAAeod,YAAhC,CAAf;AACAL,WAAQA,MAAM5N,SAAN,CAAiB,CAAjB,EAAoB4N,MAAM/c,MAAN,GAAeod,YAAnC,CAAR;AACAJ,WAAQA,MAAM7N,SAAN,CAAiB,CAAjB,EAAoB6N,MAAMhd,MAAN,GAAeod,YAAnC,CAAR;;AAEA;AACAG,WAAQ,KAAKG,WAAL,CAAkBX,KAAlB,EAAyBC,KAAzB,EAAgCG,UAAhC,EAA4CD,QAA5C,CAAR;;AAEA;AACA,OAAKG,YAAL,EAAoB;AACnBE,UAAMI,OAAN,CAAe,CAAEd,UAAF,EAAcQ,YAAd,CAAf;AACA;AACD,OAAKC,YAAL,EAAoB;AACnBC,UAAM3b,IAAN,CAAY,CAAEib,UAAF,EAAcS,YAAd,CAAZ;AACA;AACD,QAAKM,gBAAL,CAAuBL,KAAvB;AACA,UAAOA,KAAP;AACA,GApDD;;AAsDA;;;;AAIAb,iBAAepd,SAAf,CAAyBue,qBAAzB,GAAiD,UAAUN,KAAV,EAAkB;AAClE,OAAIO,OAAJ,EAAaC,UAAb,EAAyBC,gBAAzB,EAA2CC,YAA3C,EACCC,OADD,EACUC,MADV,EACkBC,MADlB,EAC0BC,OAD1B,EACmCC,OADnC;AAEAR,aAAU,KAAV;AACAC,gBAAa,EAAb,CAJkE,CAIjD;AACjBC,sBAAmB,CAAnB,CALkE,CAK5C;AACtB;AACAC,kBAAe,IAAf;;AAEA;AACAC,aAAU,CAAV,CAVkE,CAUrD;;AAEb;AACAC,YAAS,KAAT;;AAEA;AACAC,YAAS,KAAT;;AAEA;AACAC,aAAU,KAAV;;AAEA;AACAC,aAAU,KAAV;AACA,UAAQJ,UAAUX,MAAMvd,MAAxB,EAAiC;;AAEhC;AACA,QAAKud,MAAOW,OAAP,EAAkB,CAAlB,MAA0BrB,UAA/B,EAA4C;AAC3C,SAAKU,MAAOW,OAAP,EAAkB,CAAlB,EAAsBle,MAAtB,GAA+B,CAA/B,KAAsCqe,WAAWC,OAAjD,CAAL,EAAkE;;AAEjE;AACAP,iBAAYC,kBAAZ,IAAmCE,OAAnC;AACAC,eAASE,OAAT;AACAD,eAASE,OAAT;AACAL,qBAAeV,MAAOW,OAAP,EAAkB,CAAlB,CAAf;AACA,MAPD,MAOO;;AAEN;AACAF,yBAAmB,CAAnB;AACAC,qBAAe,IAAf;AACA;AACDI,eAAUC,UAAU,KAApB;;AAED;AACC,KAjBD,MAiBO;;AAEN,SAAKf,MAAOW,OAAP,EAAkB,CAAlB,MAA0BvB,WAA/B,EAA6C;AAC5C2B,gBAAU,IAAV;AACA,MAFD,MAEO;AACND,gBAAU,IAAV;AACA;;AAED;;;;;;;;AAQA,SAAKJ,iBAAoBE,UAAUC,MAAV,IAAoBC,OAApB,IAA+BC,OAAjC,IACjBL,aAAaje,MAAb,GAAsB,CAAxB,IACAme,SAASC,MAAT,GAAkBC,OAAlB,GAA4BC,OAA9B,KAA4C,CAFzC,CAAL,EAEsD;;AAErD;AACAf,YAAMtd,MAAN,CACC8d,WAAYC,mBAAmB,CAA/B,CADD,EAEC,CAFD,EAGC,CAAErB,WAAF,EAAesB,YAAf,CAHD;;AAMA;AACAV,YAAOQ,WAAYC,mBAAmB,CAA/B,IAAqC,CAA5C,EAAiD,CAAjD,IAAuDpB,WAAvD;AACAoB,yBAXqD,CAWjC;AACpBC,qBAAe,IAAf;AACA,UAAKE,UAAUC,MAAf,EAAwB;;AAEvB;AACAC,iBAAUC,UAAU,IAApB;AACAN,0BAAmB,CAAnB;AACA,OALD,MAKO;AACNA,0BADM,CACc;AACpBE,iBAAUF,mBAAmB,CAAnB,GAAuBD,WAAYC,mBAAmB,CAA/B,CAAvB,GAA4D,CAAC,CAAvE;AACAK,iBAAUC,UAAU,KAApB;AACA;AACDR,gBAAU,IAAV;AACA;AACD;AACDI;AACA;;AAED,OAAKJ,OAAL,EAAe;AACd,SAAKF,gBAAL,CAAuBL,KAAvB;AACA;AACD,GA7FD;;AA+FA;;;;;;AAMAb,iBAAepd,SAAf,CAAyBif,cAAzB,GAA0C,UAAUhB,KAAV,EAAkB;AAC3D,OAAIiB,EAAJ;AAAA,OAAQC,IAAR;AAAA,OAAc9f,CAAd;AAAA,OACCyc,OAAO,EADR;AAEA,QAAMzc,IAAI,CAAV,EAAaA,IAAI4e,MAAMvd,MAAvB,EAA+BrB,GAA/B,EAAqC;AACpC6f,SAAKjB,MAAO5e,CAAP,EAAY,CAAZ,CAAL,CADoC,CACd;AACtB8f,WAAOlB,MAAO5e,CAAP,EAAY,CAAZ,CAAP,CAFoC,CAEZ;AACxB,YAAS6f,EAAT;AACA,UAAK5B,WAAL;AACCxB,WAAMzc,CAAN,IAAY,UAAUsX,WAAYwI,IAAZ,CAAV,GAA+B,QAA3C;AACA;AACD,UAAK9B,WAAL;AACCvB,WAAMzc,CAAN,IAAY,UAAUsX,WAAYwI,IAAZ,CAAV,GAA+B,QAA3C;AACA;AACD,UAAK5B,UAAL;AACCzB,WAAMzc,CAAN,IAAY,WAAWsX,WAAYwI,IAAZ,CAAX,GAAgC,SAA5C;AACA;AATD;AAWA;AACD,UAAOrD,KAAKvZ,IAAL,CAAW,EAAX,CAAP;AACA,GAnBD;;AAqBA;;;;;;;AAOA6a,iBAAepd,SAAf,CAAyBke,gBAAzB,GAA4C,UAAUT,KAAV,EAAiBC,KAAjB,EAAyB;AACpE,OAAI0B,UAAJ,EAAgBC,UAAhB,EAA4BC,UAA5B,EAAwCC,YAAxC;;AAEA;AACA,OAAK,CAAC9B,KAAD,IAAU,CAACC,KAAX,IAAoBD,MAAM5Q,MAAN,CAAc,CAAd,MAAsB6Q,MAAM7Q,MAAN,CAAc,CAAd,CAA/C,EAAmE;AAClE,WAAO,CAAP;AACA;;AAED;AACA;AACAyS,gBAAa,CAAb;AACAD,gBAAa3R,KAAK8R,GAAL,CAAU/B,MAAM/c,MAAhB,EAAwBgd,MAAMhd,MAA9B,CAAb;AACA0e,gBAAaC,UAAb;AACAE,kBAAe,CAAf;AACA,UAAQD,aAAaF,UAArB,EAAkC;AACjC,QAAK3B,MAAM5N,SAAN,CAAiB0P,YAAjB,EAA+BH,UAA/B,MACH1B,MAAM7N,SAAN,CAAiB0P,YAAjB,EAA+BH,UAA/B,CADF,EACgD;AAC/CE,kBAAaF,UAAb;AACAG,oBAAeD,UAAf;AACA,KAJD,MAIO;AACND,kBAAaD,UAAb;AACA;AACDA,iBAAa1R,KAAKC,KAAL,CAAY,CAAE0R,aAAaC,UAAf,IAA8B,CAA9B,GAAkCA,UAA9C,CAAb;AACA;AACD,UAAOF,UAAP;AACA,GAzBD;;AA2BA;;;;;;AAMAhC,iBAAepd,SAAf,CAAyBme,gBAAzB,GAA4C,UAAUV,KAAV,EAAiBC,KAAjB,EAAyB;AACpE,OAAI0B,UAAJ,EAAgBC,UAAhB,EAA4BC,UAA5B,EAAwCG,UAAxC;;AAEA;AACA,OAAK,CAAChC,KAAD,IACH,CAACC,KADE,IAEHD,MAAM5Q,MAAN,CAAc4Q,MAAM/c,MAAN,GAAe,CAA7B,MAAqCgd,MAAM7Q,MAAN,CAAc6Q,MAAMhd,MAAN,GAAe,CAA7B,CAFvC,EAE0E;AACzE,WAAO,CAAP;AACA;;AAED;AACA;AACA4e,gBAAa,CAAb;AACAD,gBAAa3R,KAAK8R,GAAL,CAAU/B,MAAM/c,MAAhB,EAAwBgd,MAAMhd,MAA9B,CAAb;AACA0e,gBAAaC,UAAb;AACAI,gBAAa,CAAb;AACA,UAAQH,aAAaF,UAArB,EAAkC;AACjC,QAAK3B,MAAM5N,SAAN,CAAiB4N,MAAM/c,MAAN,GAAe0e,UAAhC,EAA4C3B,MAAM/c,MAAN,GAAe+e,UAA3D,MACH/B,MAAM7N,SAAN,CAAiB6N,MAAMhd,MAAN,GAAe0e,UAAhC,EAA4C1B,MAAMhd,MAAN,GAAe+e,UAA3D,CADF,EAC4E;AAC3EH,kBAAaF,UAAb;AACAK,kBAAaH,UAAb;AACA,KAJD,MAIO;AACND,kBAAaD,UAAb;AACA;AACDA,iBAAa1R,KAAKC,KAAL,CAAY,CAAE0R,aAAaC,UAAf,IAA8B,CAA9B,GAAkCA,UAA9C,CAAb;AACA;AACD,UAAOF,UAAP;AACA,GA3BD;;AA6BA;;;;;;;;;;;;AAYAhC,iBAAepd,SAAf,CAAyBoe,WAAzB,GAAuC,UAAUX,KAAV,EAAiBC,KAAjB,EAAwBG,UAAxB,EAAoCD,QAApC,EAA+C;AACrF,OAAIK,KAAJ,EAAWyB,QAAX,EAAqBC,SAArB,EAAgCrf,CAAhC,EAAmCsf,EAAnC,EACCC,MADD,EACSC,MADT,EACiBC,MADjB,EACyBC,MADzB,EAECC,SAFD,EAEYC,MAFZ,EAEoBC,MAFpB;;AAIA,OAAK,CAAC1C,KAAN,EAAc;;AAEb;AACA,WAAO,CACN,CAAEH,WAAF,EAAeI,KAAf,CADM,CAAP;AAGA;;AAED,OAAK,CAACA,KAAN,EAAc;;AAEb;AACA,WAAO,CACN,CAAEL,WAAF,EAAeI,KAAf,CADM,CAAP;AAGA;;AAEDiC,cAAWjC,MAAM/c,MAAN,GAAegd,MAAMhd,MAArB,GAA8B+c,KAA9B,GAAsCC,KAAjD;AACAiC,eAAYlC,MAAM/c,MAAN,GAAegd,MAAMhd,MAArB,GAA8Bgd,KAA9B,GAAsCD,KAAlD;AACAnd,OAAIof,SAAS3e,OAAT,CAAkB4e,SAAlB,CAAJ;AACA,OAAKrf,MAAM,CAAC,CAAZ,EAAgB;;AAEf;AACA2d,YAAQ,CACP,CAAEX,WAAF,EAAeoC,SAAS7P,SAAT,CAAoB,CAApB,EAAuBvP,CAAvB,CAAf,CADO,EAEP,CAAEid,UAAF,EAAcoC,SAAd,CAFO,EAGP,CAAErC,WAAF,EAAeoC,SAAS7P,SAAT,CAAoBvP,IAAIqf,UAAUjf,MAAlC,CAAf,CAHO,CAAR;;AAMA;AACA,QAAK+c,MAAM/c,MAAN,GAAegd,MAAMhd,MAA1B,EAAmC;AAClCud,WAAO,CAAP,EAAY,CAAZ,IAAkBA,MAAO,CAAP,EAAY,CAAZ,IAAkBZ,WAApC;AACA;AACD,WAAOY,KAAP;AACA;;AAED,OAAK0B,UAAUjf,MAAV,KAAqB,CAA1B,EAA8B;;AAE7B;AACA;AACA,WAAO,CACN,CAAE2c,WAAF,EAAeI,KAAf,CADM,EAEN,CAAEH,WAAF,EAAeI,KAAf,CAFM,CAAP;AAIA;;AAED;AACAkC,QAAK,KAAKQ,aAAL,CAAoB3C,KAApB,EAA2BC,KAA3B,CAAL;AACA,OAAKkC,EAAL,EAAU;;AAET;AACAC,aAASD,GAAI,CAAJ,CAAT;AACAG,aAASH,GAAI,CAAJ,CAAT;AACAE,aAASF,GAAI,CAAJ,CAAT;AACAI,aAASJ,GAAI,CAAJ,CAAT;AACAK,gBAAYL,GAAI,CAAJ,CAAZ;;AAEA;AACAM,aAAS,KAAK1C,QAAL,CAAeqC,MAAf,EAAuBC,MAAvB,EAA+BjC,UAA/B,EAA2CD,QAA3C,CAAT;AACAuC,aAAS,KAAK3C,QAAL,CAAeuC,MAAf,EAAuBC,MAAvB,EAA+BnC,UAA/B,EAA2CD,QAA3C,CAAT;;AAEA;AACA,WAAOsC,OAAOxK,MAAP,CAAe,CACrB,CAAE6H,UAAF,EAAc0C,SAAd,CADqB,CAAf,EAEJE,MAFI,CAAP;AAGA;;AAED,OAAKtC,cAAcJ,MAAM/c,MAAN,GAAe,GAA7B,IAAoCgd,MAAMhd,MAAN,GAAe,GAAxD,EAA8D;AAC7D,WAAO,KAAK2f,YAAL,CAAmB5C,KAAnB,EAA0BC,KAA1B,EAAiCE,QAAjC,CAAP;AACA;;AAED,UAAO,KAAK0C,UAAL,CAAiB7C,KAAjB,EAAwBC,KAAxB,EAA+BE,QAA/B,CAAP;AACA,GA5ED;;AA8EA;;;;;;;;;;;AAWAR,iBAAepd,SAAf,CAAyBogB,aAAzB,GAAyC,UAAU3C,KAAV,EAAiBC,KAAjB,EAAyB;AACjE,OAAIgC,QAAJ,EAAcC,SAAd,EAAyBY,GAAzB,EACCV,MADD,EACSG,MADT,EACiBF,MADjB,EACyBC,MADzB,EACiCE,SADjC,EAECO,GAFD,EAEMC,GAFN,EAEWb,EAFX;;AAIAF,cAAWjC,MAAM/c,MAAN,GAAegd,MAAMhd,MAArB,GAA8B+c,KAA9B,GAAsCC,KAAjD;AACAiC,eAAYlC,MAAM/c,MAAN,GAAegd,MAAMhd,MAArB,GAA8Bgd,KAA9B,GAAsCD,KAAlD;AACA,OAAKiC,SAAShf,MAAT,GAAkB,CAAlB,IAAuBif,UAAUjf,MAAV,GAAmB,CAAnB,GAAuBgf,SAAShf,MAA5D,EAAqE;AACpE,WAAO,IAAP,CADoE,CACvD;AACb;AACD6f,SAAM,IAAN,CAViE,CAUrD;;AAEZ;;;;;;;;;;;;AAYA,YAASG,cAAT,CAAyBhB,QAAzB,EAAmCC,SAAnC,EAA8Crf,CAA9C,EAAkD;AACjD,QAAIkL,IAAJ,EAAUjL,CAAV,EAAaogB,UAAb,EAAyBC,YAAzB,EAAuCC,YAAvC,EACCC,aADD,EACgBC,aADhB,EAC+BC,cAD/B,EAC+CC,cAD/C;;AAGA;AACAzV,WAAOkU,SAAS7P,SAAT,CAAoBvP,CAApB,EAAuBA,IAAIoN,KAAKC,KAAL,CAAY+R,SAAShf,MAAT,GAAkB,CAA9B,CAA3B,CAAP;AACAH,QAAI,CAAC,CAAL;AACAogB,iBAAa,EAAb;AACA,WAAQ,CAAEpgB,IAAIof,UAAU5e,OAAV,CAAmByK,IAAnB,EAAyBjL,IAAI,CAA7B,CAAN,MAA6C,CAAC,CAAtD,EAA0D;AACzDqgB,oBAAeL,IAAIrC,gBAAJ,CAAsBwB,SAAS7P,SAAT,CAAoBvP,CAApB,CAAtB,EACdqf,UAAU9P,SAAV,CAAqBtP,CAArB,CADc,CAAf;AAEAsgB,oBAAeN,IAAIpC,gBAAJ,CAAsBuB,SAAS7P,SAAT,CAAoB,CAApB,EAAuBvP,CAAvB,CAAtB,EACdqf,UAAU9P,SAAV,CAAqB,CAArB,EAAwBtP,CAAxB,CADc,CAAf;AAEA,SAAKogB,WAAWjgB,MAAX,GAAoBmgB,eAAeD,YAAxC,EAAuD;AACtDD,mBAAahB,UAAU9P,SAAV,CAAqBtP,IAAIsgB,YAAzB,EAAuCtgB,CAAvC,IACZof,UAAU9P,SAAV,CAAqBtP,CAArB,EAAwBA,IAAIqgB,YAA5B,CADD;AAEAE,sBAAgBpB,SAAS7P,SAAT,CAAoB,CAApB,EAAuBvP,IAAIugB,YAA3B,CAAhB;AACAE,sBAAgBrB,SAAS7P,SAAT,CAAoBvP,IAAIsgB,YAAxB,CAAhB;AACAI,uBAAiBrB,UAAU9P,SAAV,CAAqB,CAArB,EAAwBtP,IAAIsgB,YAA5B,CAAjB;AACAI,uBAAiBtB,UAAU9P,SAAV,CAAqBtP,IAAIqgB,YAAzB,CAAjB;AACA;AACD;AACD,QAAKD,WAAWjgB,MAAX,GAAoB,CAApB,IAAyBgf,SAAShf,MAAvC,EAAgD;AAC/C,YAAO,CAAEogB,aAAF,EAAiBC,aAAjB,EACNC,cADM,EACUC,cADV,EAC0BN,UAD1B,CAAP;AAGA,KAJD,MAIO;AACN,YAAO,IAAP;AACA;AACD;;AAED;AACAH,SAAME,eAAgBhB,QAAhB,EAA0BC,SAA1B,EACLjS,KAAKwT,IAAL,CAAWxB,SAAShf,MAAT,GAAkB,CAA7B,CADK,CAAN;;AAGA;AACA+f,SAAMC,eAAgBhB,QAAhB,EAA0BC,SAA1B,EACLjS,KAAKwT,IAAL,CAAWxB,SAAShf,MAAT,GAAkB,CAA7B,CADK,CAAN;AAEA,OAAK,CAAC8f,GAAD,IAAQ,CAACC,GAAd,EAAoB;AACnB,WAAO,IAAP;AACA,IAFD,MAEO,IAAK,CAACA,GAAN,EAAY;AAClBb,SAAKY,GAAL;AACA,IAFM,MAEA,IAAK,CAACA,GAAN,EAAY;AAClBZ,SAAKa,GAAL;AACA,IAFM,MAEA;;AAEN;AACAb,SAAKY,IAAK,CAAL,EAAS9f,MAAT,GAAkB+f,IAAK,CAAL,EAAS/f,MAA3B,GAAoC8f,GAApC,GAA0CC,GAA/C;AACA;;AAED;AACAZ,WAAQE,MAAR,EAAgBD,MAAhB,EAAwBE,MAAxB;AACA,OAAKvC,MAAM/c,MAAN,GAAegd,MAAMhd,MAA1B,EAAmC;AAClCmf,aAASD,GAAI,CAAJ,CAAT;AACAG,aAASH,GAAI,CAAJ,CAAT;AACAE,aAASF,GAAI,CAAJ,CAAT;AACAI,aAASJ,GAAI,CAAJ,CAAT;AACA,IALD,MAKO;AACNE,aAASF,GAAI,CAAJ,CAAT;AACAI,aAASJ,GAAI,CAAJ,CAAT;AACAC,aAASD,GAAI,CAAJ,CAAT;AACAG,aAASH,GAAI,CAAJ,CAAT;AACA;AACDK,eAAYL,GAAI,CAAJ,CAAZ;AACA,UAAO,CAAEC,MAAF,EAAUE,MAAV,EAAkBD,MAAlB,EAA0BE,MAA1B,EAAkCC,SAAlC,CAAP;AACA,GAzFD;;AA2FA;;;;;;;;;;AAUA7C,iBAAepd,SAAf,CAAyBqgB,YAAzB,GAAwC,UAAU5C,KAAV,EAAiBC,KAAjB,EAAwBE,QAAxB,EAAmC;AAC1E,OAAIxd,CAAJ,EAAO6d,KAAP,EAAckD,SAAd,EAAyBvC,OAAzB,EAAkCwC,WAAlC,EACCC,WADD,EACcC,UADd,EAC0BC,UAD1B,EACsChhB,CADtC;;AAGA;AACAH,OAAI,KAAKohB,gBAAL,CAAuB/D,KAAvB,EAA8BC,KAA9B,CAAJ;AACAD,WAAQrd,EAAEqhB,MAAV;AACA/D,WAAQtd,EAAEshB,MAAV;AACAP,eAAY/gB,EAAEuhB,SAAd;;AAEA1D,WAAQ,KAAKT,QAAL,CAAeC,KAAf,EAAsBC,KAAtB,EAA6B,KAA7B,EAAoCE,QAApC,CAAR;;AAEA;AACA,QAAKgE,gBAAL,CAAuB3D,KAAvB,EAA8BkD,SAA9B;;AAEA;AACA,QAAKU,mBAAL,CAA0B5D,KAA1B;;AAEA;AACA;AACAA,SAAM3b,IAAN,CAAY,CAAEib,UAAF,EAAc,EAAd,CAAZ;AACAqB,aAAU,CAAV;AACAyC,iBAAc,CAAd;AACAD,iBAAc,CAAd;AACAG,gBAAa,EAAb;AACAD,gBAAa,EAAb;AACA,UAAQ1C,UAAUX,MAAMvd,MAAxB,EAAiC;AAChC,YAASud,MAAOW,OAAP,EAAkB,CAAlB,CAAT;AACA,UAAKtB,WAAL;AACC8D;AACAE,oBAAcrD,MAAOW,OAAP,EAAkB,CAAlB,CAAd;AACA;AACD,UAAKvB,WAAL;AACCgE;AACAE,oBAActD,MAAOW,OAAP,EAAkB,CAAlB,CAAd;AACA;AACD,UAAKrB,UAAL;;AAEC;AACA,UAAK8D,eAAe,CAAf,IAAoBD,eAAe,CAAxC,EAA4C;;AAE3C;AACAnD,aAAMtd,MAAN,CAAcie,UAAUyC,WAAV,GAAwBD,WAAtC,EACCC,cAAcD,WADf;AAEAxC,iBAAUA,UAAUyC,WAAV,GAAwBD,WAAlC;AACAhhB,WAAI,KAAKod,QAAL,CAAe+D,UAAf,EAA2BD,UAA3B,EAAuC,KAAvC,EAA8C1D,QAA9C,CAAJ;AACA,YAAMrd,IAAIH,EAAEM,MAAF,GAAW,CAArB,EAAwBH,KAAK,CAA7B,EAAgCA,GAAhC,EAAsC;AACrC0d,cAAMtd,MAAN,CAAcie,OAAd,EAAuB,CAAvB,EAA0Bxe,EAAGG,CAAH,CAA1B;AACA;AACDqe,iBAAUA,UAAUxe,EAAEM,MAAtB;AACA;AACD0gB,oBAAc,CAAd;AACAC,oBAAc,CAAd;AACAE,mBAAa,EAAb;AACAD,mBAAa,EAAb;AACA;AA5BD;AA8BA1C;AACA;AACDX,SAAM9X,GAAN,GA3D0E,CA2D7D;;AAEb,UAAO8X,KAAP;AACA,GA9DD;;AAgEA;;;;;;;;;;AAUAb,iBAAepd,SAAf,CAAyBsgB,UAAzB,GAAsC,UAAU7C,KAAV,EAAiBC,KAAjB,EAAwBE,QAAxB,EAAmC;AACxE,OAAIkE,WAAJ,EAAiBC,WAAjB,EAA8BC,IAA9B,EAAoCC,OAApC,EAA6CC,OAA7C,EACCC,EADD,EACKC,EADL,EACS/iB,CADT,EACYgjB,KADZ,EACmBC,KADnB,EAC0BC,OAD1B,EACmCC,KADnC,EAC0CC,OAD1C,EAECC,KAFD,EAEQC,QAFR,EAEkBC,QAFlB,EAE4BC,EAF5B,EAEgCC,EAFhC,EAEoCC,EAFpC,EAEwCC,EAFxC,EAE4CC,CAF5C,EAE+CC,EAF/C,EAEmDC,EAFnD;;AAIA;AACArB,iBAAcrE,MAAM/c,MAApB;AACAqhB,iBAAcrE,MAAMhd,MAApB;AACAshB,UAAOtU,KAAKwT,IAAL,CAAW,CAAEY,cAAcC,WAAhB,IAAgC,CAA3C,CAAP;AACAE,aAAUD,IAAV;AACAE,aAAU,IAAIF,IAAd;AACAG,QAAK,IAAI3P,KAAJ,CAAW0P,OAAX,CAAL;AACAE,QAAK,IAAI5P,KAAJ,CAAW0P,OAAX,CAAL;;AAEA;AACA;AACA,QAAM7iB,IAAI,CAAV,EAAaA,IAAI6iB,OAAjB,EAA0B7iB,GAA1B,EAAgC;AAC/B8iB,OAAI9iB,CAAJ,IAAU,CAAC,CAAX;AACA+iB,OAAI/iB,CAAJ,IAAU,CAAC,CAAX;AACA;AACD8iB,MAAIF,UAAU,CAAd,IAAoB,CAApB;AACAG,MAAIH,UAAU,CAAd,IAAoB,CAApB;AACAI,WAAQP,cAAcC,WAAtB;;AAEA;AACA;AACAO,WAAUD,QAAQ,CAAR,KAAc,CAAxB;;AAEA;AACA;AACAE,aAAU,CAAV;AACAC,WAAQ,CAAR;AACAC,aAAU,CAAV;AACAC,WAAQ,CAAR;AACA,QAAMO,IAAI,CAAV,EAAaA,IAAIjB,IAAjB,EAAuBiB,GAAvB,EAA6B;;AAE5B;AACA,QAAO,IAAItkB,IAAJ,EAAF,CAAeE,OAAf,KAA2B+e,QAAhC,EAA2C;AAC1C;AACA;;AAED;AACA,SAAMsF,KAAK,CAACD,CAAD,GAAKV,OAAhB,EAAyBW,MAAMD,IAAIT,KAAnC,EAA0CU,MAAM,CAAhD,EAAoD;AACnDN,gBAAWX,UAAUiB,EAArB;AACA,SAAKA,OAAO,CAACD,CAAR,IAAeC,OAAOD,CAAP,IAAYd,GAAIS,WAAW,CAAf,IAAqBT,GAAIS,WAAW,CAAf,CAArD,EAA4E;AAC3EC,WAAKV,GAAIS,WAAW,CAAf,CAAL;AACA,MAFD,MAEO;AACNC,WAAKV,GAAIS,WAAW,CAAf,IAAqB,CAA1B;AACA;AACDG,UAAKF,KAAKK,EAAV;AACA,YAAQL,KAAKf,WAAL,IAAoBiB,KAAKhB,WAAzB,IACPtE,MAAM5Q,MAAN,CAAcgW,EAAd,MAAuBnF,MAAM7Q,MAAN,CAAckW,EAAd,CADxB,EAC6C;AAC5CF;AACAE;AACA;AACDZ,QAAIS,QAAJ,IAAiBC,EAAjB;AACA,SAAKA,KAAKf,WAAV,EAAwB;;AAEvB;AACAU,eAAS,CAAT;AACA,MAJD,MAIO,IAAKO,KAAKhB,WAAV,EAAwB;;AAE9B;AACAQ,iBAAW,CAAX;AACA,MAJM,MAIA,IAAKD,KAAL,EAAa;AACnBK,iBAAWV,UAAUI,KAAV,GAAkBa,EAA7B;AACA,UAAKP,YAAY,CAAZ,IAAiBA,WAAWT,OAA5B,IAAuCE,GAAIO,QAAJ,MAAmB,CAAC,CAAhE,EAAoE;;AAEnE;AACAG,YAAKhB,cAAcM,GAAIO,QAAJ,CAAnB;AACA,WAAKE,MAAMC,EAAX,EAAgB;;AAEf;AACA,eAAO,KAAKM,eAAL,CAAsB3F,KAAtB,EAA6BC,KAA7B,EAAoCmF,EAApC,EAAwCE,EAAxC,EAA4CnF,QAA5C,CAAP;AACA;AACD;AACD;AACD;;AAED;AACA,SAAMuF,KAAK,CAACF,CAAD,GAAKR,OAAhB,EAAyBU,MAAMF,IAAIP,KAAnC,EAA0CS,MAAM,CAAhD,EAAoD;AACnDR,gBAAWV,UAAUkB,EAArB;AACA,SAAKA,OAAO,CAACF,CAAR,IAAeE,OAAOF,CAAP,IAAYb,GAAIO,WAAW,CAAf,IAAqBP,GAAIO,WAAW,CAAf,CAArD,EAA4E;AAC3EG,WAAKV,GAAIO,WAAW,CAAf,CAAL;AACA,MAFD,MAEO;AACNG,WAAKV,GAAIO,WAAW,CAAf,IAAqB,CAA1B;AACA;AACDK,UAAKF,KAAKK,EAAV;AACA,YAAQL,KAAKhB,WAAL,IAAoBkB,KAAKjB,WAAzB,IACPtE,MAAM5Q,MAAN,CAAciV,cAAcgB,EAAd,GAAmB,CAAjC,MACApF,MAAM7Q,MAAN,CAAckV,cAAciB,EAAd,GAAmB,CAAjC,CAFD,EAEwC;AACvCF;AACAE;AACA;AACDZ,QAAIO,QAAJ,IAAiBG,EAAjB;AACA,SAAKA,KAAKhB,WAAV,EAAwB;;AAEvB;AACAY,eAAS,CAAT;AACA,MAJD,MAIO,IAAKM,KAAKjB,WAAV,EAAwB;;AAE9B;AACAU,iBAAW,CAAX;AACA,MAJM,MAIA,IAAK,CAACH,KAAN,EAAc;AACpBM,iBAAWX,UAAUI,KAAV,GAAkBc,EAA7B;AACA,UAAKP,YAAY,CAAZ,IAAiBA,WAAWV,OAA5B,IAAuCC,GAAIS,QAAJ,MAAmB,CAAC,CAAhE,EAAoE;AACnEC,YAAKV,GAAIS,QAAJ,CAAL;AACAG,YAAKd,UAAUY,EAAV,GAAeD,QAApB;;AAEA;AACAE,YAAKhB,cAAcgB,EAAnB;AACA,WAAKD,MAAMC,EAAX,EAAgB;;AAEf;AACA,eAAO,KAAKM,eAAL,CAAsB3F,KAAtB,EAA6BC,KAA7B,EAAoCmF,EAApC,EAAwCE,EAAxC,EAA4CnF,QAA5C,CAAP;AACA;AACD;AACD;AACD;AACD;;AAED;AACA;AACA,UAAO,CACN,CAAEP,WAAF,EAAeI,KAAf,CADM,EAEN,CAAEH,WAAF,EAAeI,KAAf,CAFM,CAAP;AAIA,GA/HD;;AAiIA;;;;;;;;;;;AAWAN,iBAAepd,SAAf,CAAyBojB,eAAzB,GAA2C,UAAU3F,KAAV,EAAiBC,KAAjB,EAAwBre,CAAxB,EAA2BgkB,CAA3B,EAA8BzF,QAA9B,EAAyC;AACnF,OAAI0F,MAAJ,EAAYC,MAAZ,EAAoBC,MAApB,EAA4BC,MAA5B,EAAoCxF,KAApC,EAA2CyF,MAA3C;AACAJ,YAAS7F,MAAM5N,SAAN,CAAiB,CAAjB,EAAoBxQ,CAApB,CAAT;AACAmkB,YAAS9F,MAAM7N,SAAN,CAAiB,CAAjB,EAAoBwT,CAApB,CAAT;AACAE,YAAS9F,MAAM5N,SAAN,CAAiBxQ,CAAjB,CAAT;AACAokB,YAAS/F,MAAM7N,SAAN,CAAiBwT,CAAjB,CAAT;;AAEA;AACApF,WAAQ,KAAKT,QAAL,CAAe8F,MAAf,EAAuBE,MAAvB,EAA+B,KAA/B,EAAsC5F,QAAtC,CAAR;AACA8F,YAAS,KAAKlG,QAAL,CAAe+F,MAAf,EAAuBE,MAAvB,EAA+B,KAA/B,EAAsC7F,QAAtC,CAAT;;AAEA,UAAOK,MAAMvI,MAAN,CAAcgO,MAAd,CAAP;AACA,GAZD;;AAcA;;;;AAIAtG,iBAAepd,SAAf,CAAyB6hB,mBAAzB,GAA+C,UAAU5D,KAAV,EAAkB;AAChE,OAAIO,OAAJ,EAAaC,UAAb,EAAyBC,gBAAzB,EAA2CC,YAA3C,EACCC,OADD,EACU+E,iBADV,EAC6BC,gBAD7B,EAC+CC,iBAD/C,EAECC,gBAFD,EAEmBC,QAFnB,EAE6BC,SAF7B,EAEwCC,cAFxC,EAEwDC,cAFxD;AAGA1F,aAAU,KAAV;AACAC,gBAAa,EAAb,CALgE,CAK/C;AACjBC,sBAAmB,CAAnB,CANgE,CAM1C;AACtB;AACAC,kBAAe,IAAf;;AAEA;AACAC,aAAU,CAAV,CAXgE,CAWnD;;AAEb;AACAiF,uBAAoB,CAApB;AACAC,sBAAmB,CAAnB;;AAEA;AACAH,uBAAoB,CAApB;AACAC,sBAAmB,CAAnB;AACA,UAAQhF,UAAUX,MAAMvd,MAAxB,EAAiC;AAChC,QAAKud,MAAOW,OAAP,EAAkB,CAAlB,MAA0BrB,UAA/B,EAA4C;AAAE;AAC7CkB,gBAAYC,kBAAZ,IAAmCE,OAAnC;AACAiF,yBAAoBF,iBAApB;AACAG,wBAAmBF,gBAAnB;AACAD,yBAAoB,CAApB;AACAC,wBAAmB,CAAnB;AACAjF,oBAAeV,MAAOW,OAAP,EAAkB,CAAlB,CAAf;AACA,KAPD,MAOO;AAAE;AACR,SAAKX,MAAOW,OAAP,EAAkB,CAAlB,MAA0BtB,WAA/B,EAA6C;AAC5CqG,2BAAqB1F,MAAOW,OAAP,EAAkB,CAAlB,EAAsBle,MAA3C;AACA,MAFD,MAEO;AACNkjB,0BAAoB3F,MAAOW,OAAP,EAAkB,CAAlB,EAAsBle,MAA1C;AACA;;AAED;AACA;AACA,SAAKie,gBAAkBA,aAAaje,MAAb,IACrBgN,KAAKyW,GAAL,CAAUN,iBAAV,EAA6BC,gBAA7B,CADG,IAEDnF,aAAaje,MAAb,IAAuBgN,KAAKyW,GAAL,CAAUR,iBAAV,EACxBC,gBADwB,CAF3B,EAG0B;;AAEzB;AACA3F,YAAMtd,MAAN,CACC8d,WAAYC,mBAAmB,CAA/B,CADD,EAEC,CAFD,EAGC,CAAErB,WAAF,EAAesB,YAAf,CAHD;;AAMA;AACAV,YAAOQ,WAAYC,mBAAmB,CAA/B,IAAqC,CAA5C,EAAiD,CAAjD,IAAuDpB,WAAvD;;AAEA;AACAoB;;AAEA;AACAA;AACAE,gBAAUF,mBAAmB,CAAnB,GAAuBD,WAAYC,mBAAmB,CAA/B,CAAvB,GAA4D,CAAC,CAAvE;;AAEA;AACAmF,0BAAoB,CAApB;AACAC,yBAAmB,CAAnB;AACAH,0BAAoB,CAApB;AACAC,yBAAmB,CAAnB;AACAjF,qBAAe,IAAf;AACAH,gBAAU,IAAV;AACA;AACD;AACDI;AACA;;AAED;AACA,OAAKJ,OAAL,EAAe;AACd,SAAKF,gBAAL,CAAuBL,KAAvB;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACAW,aAAU,CAAV;AACA,UAAQA,UAAUX,MAAMvd,MAAxB,EAAiC;AAChC,QAAKud,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,MAA8BvB,WAA9B,IACHY,MAAOW,OAAP,EAAkB,CAAlB,MAA0BtB,WAD5B,EAC0C;AACzCyG,gBAAW9F,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,CAAX;AACAoF,iBAAY/F,MAAOW,OAAP,EAAkB,CAAlB,CAAZ;AACAqF,sBAAiB,KAAKG,iBAAL,CAAwBL,QAAxB,EAAkCC,SAAlC,CAAjB;AACAE,sBAAiB,KAAKE,iBAAL,CAAwBJ,SAAxB,EAAmCD,QAAnC,CAAjB;AACA,SAAKE,kBAAkBC,cAAvB,EAAwC;AACvC,UAAKD,kBAAkBF,SAASrjB,MAAT,GAAkB,CAApC,IACHujB,kBAAkBD,UAAUtjB,MAAV,GAAmB,CADvC,EAC2C;;AAE1C;AACAud,aAAMtd,MAAN,CACCie,OADD,EAEC,CAFD,EAGC,CAAErB,UAAF,EAAcyG,UAAUnU,SAAV,CAAqB,CAArB,EAAwBoU,cAAxB,CAAd,CAHD;AAKAhG,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,IACCmF,SAASlU,SAAT,CAAoB,CAApB,EAAuBkU,SAASrjB,MAAT,GAAkBujB,cAAzC,CADD;AAEAhG,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,IAA4BoF,UAAUnU,SAAV,CAAqBoU,cAArB,CAA5B;AACArF;AACA;AACD,MAfD,MAeO;AACN,UAAKsF,kBAAkBH,SAASrjB,MAAT,GAAkB,CAApC,IACHwjB,kBAAkBF,UAAUtjB,MAAV,GAAmB,CADvC,EAC2C;;AAE1C;AACA;AACAud,aAAMtd,MAAN,CACCie,OADD,EAEC,CAFD,EAGC,CAAErB,UAAF,EAAcwG,SAASlU,SAAT,CAAoB,CAApB,EAAuBqU,cAAvB,CAAd,CAHD;;AAMAjG,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,IAA4BtB,WAA5B;AACAW,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,IACCoF,UAAUnU,SAAV,CAAqB,CAArB,EAAwBmU,UAAUtjB,MAAV,GAAmBwjB,cAA3C,CADD;AAEAjG,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,IAA4BvB,WAA5B;AACAY,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,IACCmF,SAASlU,SAAT,CAAoBqU,cAApB,CADD;AAEAtF;AACA;AACD;AACDA;AACA;AACDA;AACA;AACD,GAlID;;AAoIA;;;;;;;;AAQAxB,iBAAepd,SAAf,CAAyBokB,iBAAzB,GAA6C,UAAU3G,KAAV,EAAiBC,KAAjB,EAAyB;AACrE,OAAIoE,WAAJ,EAAiBC,WAAjB,EAA8BsC,UAA9B,EACCC,IADD,EACO5jB,MADP,EACe+L,OADf,EACwB8X,KADxB;;AAGA;AACAzC,iBAAcrE,MAAM/c,MAApB;AACAqhB,iBAAcrE,MAAMhd,MAApB;;AAEA;AACA,OAAKohB,gBAAgB,CAAhB,IAAqBC,gBAAgB,CAA1C,EAA8C;AAC7C,WAAO,CAAP;AACA;;AAED;AACA,OAAKD,cAAcC,WAAnB,EAAiC;AAChCtE,YAAQA,MAAM5N,SAAN,CAAiBiS,cAAcC,WAA/B,CAAR;AACA,IAFD,MAEO,IAAKD,cAAcC,WAAnB,EAAiC;AACvCrE,YAAQA,MAAM7N,SAAN,CAAiB,CAAjB,EAAoBiS,WAApB,CAAR;AACA;AACDuC,gBAAa3W,KAAK8R,GAAL,CAAUsC,WAAV,EAAuBC,WAAvB,CAAb;;AAEA;AACA,OAAKtE,UAAUC,KAAf,EAAuB;AACtB,WAAO2G,UAAP;AACA;;AAED;AACA;AACA;AACAC,UAAO,CAAP;AACA5jB,YAAS,CAAT;AACA,UAAQ,IAAR,EAAe;AACd+L,cAAUgR,MAAM5N,SAAN,CAAiBwU,aAAa3jB,MAA9B,CAAV;AACA6jB,YAAQ7G,MAAM3c,OAAN,CAAe0L,OAAf,CAAR;AACA,QAAK8X,UAAU,CAAC,CAAhB,EAAoB;AACnB,YAAOD,IAAP;AACA;AACD5jB,cAAU6jB,KAAV;AACA,QAAKA,UAAU,CAAV,IAAe9G,MAAM5N,SAAN,CAAiBwU,aAAa3jB,MAA9B,MAClBgd,MAAM7N,SAAN,CAAiB,CAAjB,EAAoBnP,MAApB,CADF,EACiC;AAChC4jB,YAAO5jB,MAAP;AACAA;AACA;AACD;AACD,GA5CD;;AA8CA;;;;;;;;;;;AAWA0c,iBAAepd,SAAf,CAAyBwhB,gBAAzB,GAA4C,UAAU/D,KAAV,EAAiBC,KAAjB,EAAyB;AACpE,OAAIiE,SAAJ,EAAe6C,QAAf,EAAyB/C,MAAzB,EAAiCC,MAAjC;AACAC,eAAY,EAAZ,CAFoE,CAEpD;AAChB6C,cAAW,EAAX,CAHoE,CAGpD;;AAEhB;AACA;AACA7C,aAAW,CAAX,IAAiB,EAAjB;;AAEA;;;;;;;;AAQA,YAAS8C,qBAAT,CAAgCC,IAAhC,EAAuC;AACtC,QAAIC,KAAJ,EAAWC,SAAX,EAAsBC,OAAtB,EAA+BC,eAA/B,EAAgDriB,IAAhD;AACAkiB,YAAQ,EAAR;;AAEA;AACA;AACA;AACAC,gBAAY,CAAZ;AACAC,cAAU,CAAC,CAAX;;AAEA;AACAC,sBAAkBnD,UAAUjhB,MAA5B;AACA,WAAQmkB,UAAUH,KAAKhkB,MAAL,GAAc,CAAhC,EAAoC;AACnCmkB,eAAUH,KAAK3jB,OAAL,CAAc,IAAd,EAAoB6jB,SAApB,CAAV;AACA,SAAKC,YAAY,CAAC,CAAlB,EAAsB;AACrBA,gBAAUH,KAAKhkB,MAAL,GAAc,CAAxB;AACA;AACD+B,YAAOiiB,KAAK7U,SAAL,CAAgB+U,SAAhB,EAA2BC,UAAU,CAArC,CAAP;AACAD,iBAAYC,UAAU,CAAtB;;AAEA,SAAKL,SAAStkB,cAAT,GAA0BskB,SAAStkB,cAAT,CAAyBuC,IAAzB,CAA1B,GACA+hB,SAAU/hB,IAAV,MAAqBtD,SAD1B,EACwC;AACvCwlB,eAAS/P,OAAOC,YAAP,CAAqB2P,SAAU/hB,IAAV,CAArB,CAAT;AACA,MAHD,MAGO;AACNkiB,eAAS/P,OAAOC,YAAP,CAAqBiQ,eAArB,CAAT;AACAN,eAAU/hB,IAAV,IAAmBqiB,eAAnB;AACAnD,gBAAWmD,iBAAX,IAAiCriB,IAAjC;AACA;AACD;AACD,WAAOkiB,KAAP;AACA;;AAEDlD,YAASgD,sBAAuBhH,KAAvB,CAAT;AACAiE,YAAS+C,sBAAuB/G,KAAvB,CAAT;AACA,UAAO;AACN+D,YAAQA,MADF;AAENC,YAAQA,MAFF;AAGNC,eAAWA;AAHL,IAAP;AAKA,GAxDD;;AA0DA;;;;;;;AAOAvE,iBAAepd,SAAf,CAAyB4hB,gBAAzB,GAA4C,UAAU3D,KAAV,EAAiB0D,SAAjB,EAA6B;AACxE,OAAItiB,CAAJ,EAAOslB,KAAP,EAAcD,IAAd,EAAoBrB,CAApB;AACA,QAAMhkB,IAAI,CAAV,EAAaA,IAAI4e,MAAMvd,MAAvB,EAA+BrB,GAA/B,EAAqC;AACpCslB,YAAQ1G,MAAO5e,CAAP,EAAY,CAAZ,CAAR;AACAqlB,WAAO,EAAP;AACA,SAAMrB,IAAI,CAAV,EAAaA,IAAIsB,MAAMjkB,MAAvB,EAA+B2iB,GAA/B,EAAqC;AACpCqB,UAAMrB,CAAN,IAAY1B,UAAWgD,MAAMpX,UAAN,CAAkB8V,CAAlB,CAAX,CAAZ;AACA;AACDpF,UAAO5e,CAAP,EAAY,CAAZ,IAAkBqlB,KAAKniB,IAAL,CAAW,EAAX,CAAlB;AACA;AACD,GAVD;;AAYA;;;;;AAKA6a,iBAAepd,SAAf,CAAyBse,gBAAzB,GAA4C,UAAUL,KAAV,EAAkB;AAC7D,OAAIW,OAAJ,EAAayC,WAAb,EAA0BD,WAA1B,EAAuCE,UAAvC,EAAmDC,UAAnD,EACCzD,YADD,EACeU,OADf,EACwBuG,WADxB,EACqCC,QADrC;AAEA/G,SAAM3b,IAAN,CAAY,CAAEib,UAAF,EAAc,EAAd,CAAZ,EAH6D,CAG3B;AAClCqB,aAAU,CAAV;AACAyC,iBAAc,CAAd;AACAD,iBAAc,CAAd;AACAG,gBAAa,EAAb;AACAD,gBAAa,EAAb;AACAxD;AACA,UAAQc,UAAUX,MAAMvd,MAAxB,EAAiC;AAChC,YAASud,MAAOW,OAAP,EAAkB,CAAlB,CAAT;AACA,UAAKtB,WAAL;AACC8D;AACAE,oBAAcrD,MAAOW,OAAP,EAAkB,CAAlB,CAAd;AACAA;AACA;AACD,UAAKvB,WAAL;AACCgE;AACAE,oBAActD,MAAOW,OAAP,EAAkB,CAAlB,CAAd;AACAA;AACA;AACD,UAAKrB,UAAL;;AAEC;AACA,UAAK8D,cAAcD,WAAd,GAA4B,CAAjC,EAAqC;AACpC,WAAKC,gBAAgB,CAAhB,IAAqBD,gBAAgB,CAA1C,EAA8C;;AAE7C;AACAtD,uBAAe,KAAKI,gBAAL,CAAuBoD,UAAvB,EAAmCC,UAAnC,CAAf;AACA,YAAKzD,iBAAiB,CAAtB,EAA0B;AACzB,aAAOc,UAAUyC,WAAV,GAAwBD,WAA1B,GAA0C,CAA1C,IACHnD,MAAOW,UAAUyC,WAAV,GAAwBD,WAAxB,GAAsC,CAA7C,EAAkD,CAAlD,MACA7D,UAFF,EAEe;AACdU,gBAAOW,UAAUyC,WAAV,GAAwBD,WAAxB,GAAsC,CAA7C,EAAkD,CAAlD,KACCE,WAAWzR,SAAX,CAAsB,CAAtB,EAAyBiO,YAAzB,CADD;AAEA,UALD,MAKO;AACNG,gBAAMtd,MAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAAE4c,UAAF,EACnB+D,WAAWzR,SAAX,CAAsB,CAAtB,EAAyBiO,YAAzB,CADmB,CAApB;AAGAc;AACA;AACD0C,sBAAaA,WAAWzR,SAAX,CAAsBiO,YAAtB,CAAb;AACAyD,sBAAaA,WAAW1R,SAAX,CAAsBiO,YAAtB,CAAb;AACA;;AAED;AACAA,uBAAe,KAAKK,gBAAL,CAAuBmD,UAAvB,EAAmCC,UAAnC,CAAf;AACA,YAAKzD,iBAAiB,CAAtB,EAA0B;AACzBG,eAAOW,OAAP,EAAkB,CAAlB,IAAwB0C,WAAWzR,SAAX,CAAsByR,WAAW5gB,MAAX,GAC5Cod,YADsB,IACLG,MAAOW,OAAP,EAAkB,CAAlB,CADnB;AAEA0C,sBAAaA,WAAWzR,SAAX,CAAsB,CAAtB,EAAyByR,WAAW5gB,MAAX,GACrCod,YADY,CAAb;AAEAyD,sBAAaA,WAAW1R,SAAX,CAAsB,CAAtB,EAAyB0R,WAAW7gB,MAAX,GACrCod,YADY,CAAb;AAEA;AACD;;AAED;AACA,WAAKuD,gBAAgB,CAArB,EAAyB;AACxBpD,cAAMtd,MAAN,CAAcie,UAAUwC,WAAxB,EACCC,cAAcD,WADf,EAC4B,CAAE9D,WAAF,EAAegE,UAAf,CAD5B;AAEA,QAHD,MAGO,IAAKF,gBAAgB,CAArB,EAAyB;AAC/BnD,cAAMtd,MAAN,CAAcie,UAAUyC,WAAxB,EACCA,cAAcD,WADf,EAC4B,CAAE/D,WAAF,EAAekE,UAAf,CAD5B;AAEA,QAHM,MAGA;AACNtD,cAAMtd,MAAN,CACCie,UAAUyC,WAAV,GAAwBD,WADzB,EAECC,cAAcD,WAFf,EAGC,CAAE/D,WAAF,EAAekE,UAAf,CAHD,EAG8B,CAAEjE,WAAF,EAAegE,UAAf,CAH9B;AAKA;AACD1C,iBAAUA,UAAUyC,WAAV,GAAwBD,WAAxB,IACPC,cAAc,CAAd,GAAkB,CADX,KACmBD,cAAc,CAAd,GAAkB,CADrC,IAC2C,CADrD;AAEA,OAjDD,MAiDO,IAAKxC,YAAY,CAAZ,IAAiBX,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,MAA8BrB,UAApD,EAAiE;;AAEvE;AACAU,aAAOW,UAAU,CAAjB,EAAsB,CAAtB,KAA6BX,MAAOW,OAAP,EAAkB,CAAlB,CAA7B;AACAX,aAAMtd,MAAN,CAAcie,OAAd,EAAuB,CAAvB;AACA,OALM,MAKA;AACNA;AACA;AACDwC,oBAAc,CAAd;AACAC,oBAAc,CAAd;AACAE,mBAAa,EAAb;AACAD,mBAAa,EAAb;AACA;AA3ED;AA6EA;AACD,OAAKrD,MAAOA,MAAMvd,MAAN,GAAe,CAAtB,EAA2B,CAA3B,MAAmC,EAAxC,EAA6C;AAC5Cud,UAAM9X,GAAN,GAD4C,CAC/B;AACb;;AAED;AACA;AACA;AACAqY,aAAU,KAAV;AACAI,aAAU,CAAV;;AAEA;AACA,UAAQA,UAAUX,MAAMvd,MAAN,GAAe,CAAjC,EAAqC;AACpC,QAAKud,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,MAA8BrB,UAA9B,IACHU,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,MAA8BrB,UADhC,EAC6C;;AAE5CwH,mBAAc9G,MAAOW,OAAP,EAAkB,CAAlB,CAAd;AACAoG,gBAAWD,YAAYlV,SAAZ,CACVkV,YAAYrkB,MAAZ,GAAqBud,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,EAA0Ble,MADrC,CAAX;;AAIA;AACA,SAAKskB,aAAa/G,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,CAAlB,EAA8C;;AAE7C;AACAX,YAAOW,OAAP,EAAkB,CAAlB,IAAwBX,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,IACvBX,MAAOW,OAAP,EAAkB,CAAlB,EAAsB/O,SAAtB,CAAiC,CAAjC,EAAoCoO,MAAOW,OAAP,EAAkB,CAAlB,EAAsBle,MAAtB,GACnCud,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,EAA0Ble,MAD3B,CADD;AAGAud,YAAOW,UAAU,CAAjB,EAAsB,CAAtB,IACCX,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,IAA4BX,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,CAD7B;AAEAX,YAAMtd,MAAN,CAAcie,UAAU,CAAxB,EAA2B,CAA3B;AACAJ,gBAAU,IAAV;AACA,MAVD,MAUO,IAAKuG,YAAYlV,SAAZ,CAAuB,CAAvB,EAA0BoO,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,EAA0Ble,MAApD,MACVud,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,CADK,EACuB;;AAE7B;AACAX,YAAOW,UAAU,CAAjB,EAAsB,CAAtB,KAA6BX,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,CAA7B;AACAX,YAAOW,OAAP,EAAkB,CAAlB,IACCX,MAAOW,OAAP,EAAkB,CAAlB,EAAsB/O,SAAtB,CAAiCoO,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,EAA0Ble,MAA3D,IACAud,MAAOW,UAAU,CAAjB,EAAsB,CAAtB,CAFD;AAGAX,YAAMtd,MAAN,CAAcie,UAAU,CAAxB,EAA2B,CAA3B;AACAJ,gBAAU,IAAV;AACA;AACD;AACDI;AACA;;AAED;AACA,OAAKJ,OAAL,EAAe;AACd,SAAKF,gBAAL,CAAuBL,KAAvB;AACA;AACD,GA3ID;;AA6IA,SAAO,UAAUlM,CAAV,EAAakT,CAAb,EAAiB;AACvB,OAAI9kB,IAAJ,EAAU+kB,MAAV,EAAkBR,IAAlB;AACAvkB,UAAO,IAAIid,cAAJ,EAAP;AACA8H,YAAS/kB,KAAKqd,QAAL,CAAezL,CAAf,EAAkBkT,CAAlB,CAAT;AACA9kB,QAAKoe,qBAAL,CAA4B2G,MAA5B;AACAR,UAAOvkB,KAAK8e,cAAL,CAAqBiG,MAArB,CAAP;;AAEA,UAAOR,IAAP;AACA,GARD;AASA,EAjnCc,EAAf;AAmnCC,CAxhEC,GAAF","file":"qunit-1.23.1.js","sourcesContent":["/*!\n * QUnit 1.23.1\n * https://qunitjs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2016-04-12T17:29Z\n */\n\n( function( global ) {\n\nvar QUnit = {};\n\nvar Date = global.Date;\nvar now = Date.now || function() {\n\treturn new Date().getTime();\n};\n\nvar setTimeout = global.setTimeout;\nvar clearTimeout = global.clearTimeout;\n\n// Store a local window from the global to allow direct references.\nvar window = global.window;\n\nvar defined = {\n\tdocument: window && window.document !== undefined,\n\tsetTimeout: setTimeout !== undefined,\n\tsessionStorage: ( function() {\n\t\tvar x = \"qunit-test-string\";\n\t\ttry {\n\t\t\tsessionStorage.setItem( x, x );\n\t\t\tsessionStorage.removeItem( x );\n\t\t\treturn true;\n\t\t} catch ( e ) {\n\t\t\treturn false;\n\t\t}\n\t}() )\n};\n\nvar fileName = ( sourceFromStacktrace( 0 ) || \"\" ).replace( /(:\\d+)+\\)?/, \"\" ).replace( /.+\\//, \"\" );\nvar globalStartCalled = false;\nvar runStarted = false;\n\nvar toString = Object.prototype.toString,\n\thasOwn = Object.prototype.hasOwnProperty;\n\n// Returns a new Array with the elements that are in a but not in b\nfunction diff( a, b ) {\n\tvar i, j,\n\t\tresult = a.slice();\n\n\tfor ( i = 0; i < result.length; i++ ) {\n\t\tfor ( j = 0; j < b.length; j++ ) {\n\t\t\tif ( result[ i ] === b[ j ] ) {\n\t\t\t\tresult.splice( i, 1 );\n\t\t\t\ti--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n// From jquery.js\nfunction inArray( elem, array ) {\n\tif ( array.indexOf ) {\n\t\treturn array.indexOf( elem );\n\t}\n\n\tfor ( var i = 0, length = array.length; i < length; i++ ) {\n\t\tif ( array[ i ] === elem ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n/**\n * Makes a clone of an object using only Array or Object as base,\n * and copies over the own enumerable properties.\n *\n * @param {Object} obj\n * @return {Object} New object with only the own properties (recursively).\n */\nfunction objectValues ( obj ) {\n\tvar key, val,\n\t\tvals = QUnit.is( \"array\", obj ) ? [] : {};\n\tfor ( key in obj ) {\n\t\tif ( hasOwn.call( obj, key ) ) {\n\t\t\tval = obj[ key ];\n\t\t\tvals[ key ] = val === Object( val ) ? objectValues( val ) : val;\n\t\t}\n\t}\n\treturn vals;\n}\n\nfunction extend( a, b, undefOnly ) {\n\tfor ( var prop in b ) {\n\t\tif ( hasOwn.call( b, prop ) ) {\n\n\t\t\t// Avoid \"Member not found\" error in IE8 caused by messing with window.constructor\n\t\t\t// This block runs on every environment, so `global` is being used instead of `window`\n\t\t\t// to avoid errors on node.\n\t\t\tif ( prop !== \"constructor\" || a !== global ) {\n\t\t\t\tif ( b[ prop ] === undefined ) {\n\t\t\t\t\tdelete a[ prop ];\n\t\t\t\t} else if ( !( undefOnly && typeof a[ prop ] !== \"undefined\" ) ) {\n\t\t\t\t\ta[ prop ] = b[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a;\n}\n\nfunction objectType( obj ) {\n\tif ( typeof obj === \"undefined\" ) {\n\t\treturn \"undefined\";\n\t}\n\n\t// Consider: typeof null === object\n\tif ( obj === null ) {\n\t\treturn \"null\";\n\t}\n\n\tvar match = toString.call( obj ).match( /^\\[object\\s(.*)\\]$/ ),\n\t\ttype = match && match[ 1 ];\n\n\tswitch ( type ) {\n\t\tcase \"Number\":\n\t\t\tif ( isNaN( obj ) ) {\n\t\t\t\treturn \"nan\";\n\t\t\t}\n\t\t\treturn \"number\";\n\t\tcase \"String\":\n\t\tcase \"Boolean\":\n\t\tcase \"Array\":\n\t\tcase \"Set\":\n\t\tcase \"Map\":\n\t\tcase \"Date\":\n\t\tcase \"RegExp\":\n\t\tcase \"Function\":\n\t\tcase \"Symbol\":\n\t\t\treturn type.toLowerCase();\n\t}\n\tif ( typeof obj === \"object\" ) {\n\t\treturn \"object\";\n\t}\n}\n\n// Safe object type checking\nfunction is( type, obj ) {\n\treturn QUnit.objectType( obj ) === type;\n}\n\n// Doesn't support IE6 to IE9, it will return undefined on these browsers\n// See also https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error/Stack\nfunction extractStacktrace( e, offset ) {\n\toffset = offset === undefined ? 4 : offset;\n\n\tvar stack, include, i;\n\n\tif ( e.stack ) {\n\t\tstack = e.stack.split( \"\\n\" );\n\t\tif ( /^error$/i.test( stack[ 0 ] ) ) {\n\t\t\tstack.shift();\n\t\t}\n\t\tif ( fileName ) {\n\t\t\tinclude = [];\n\t\t\tfor ( i = offset; i < stack.length; i++ ) {\n\t\t\t\tif ( stack[ i ].indexOf( fileName ) !== -1 ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tinclude.push( stack[ i ] );\n\t\t\t}\n\t\t\tif ( include.length ) {\n\t\t\t\treturn include.join( \"\\n\" );\n\t\t\t}\n\t\t}\n\t\treturn stack[ offset ];\n\n\t// Support: Safari <=6 only\n\t} else if ( e.sourceURL ) {\n\n\t\t// Exclude useless self-reference for generated Error objects\n\t\tif ( /qunit.js$/.test( e.sourceURL ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// For actual exceptions, this is useful\n\t\treturn e.sourceURL + \":\" + e.line;\n\t}\n}\n\nfunction sourceFromStacktrace( offset ) {\n\tvar error = new Error();\n\n\t// Support: Safari <=7 only, IE <=10 - 11 only\n\t// Not all browsers generate the `stack` property for `new Error()`, see also #636\n\tif ( !error.stack ) {\n\t\ttry {\n\t\t\tthrow error;\n\t\t} catch ( err ) {\n\t\t\terror = err;\n\t\t}\n\t}\n\n\treturn extractStacktrace( error, offset );\n}\n\n/**\n * Config object: Maintain internal state\n * Later exposed as QUnit.config\n * `config` initialized at top of scope\n */\nvar config = {\n\n\t// The queue of tests to run\n\tqueue: [],\n\n\t// Block until document ready\n\tblocking: true,\n\n\t// By default, run previously failed tests first\n\t// very useful in combination with \"Hide passed tests\" checked\n\treorder: true,\n\n\t// By default, modify document.title when suite is done\n\taltertitle: true,\n\n\t// HTML Reporter: collapse every test except the first failing test\n\t// If false, all failing tests will be expanded\n\tcollapse: true,\n\n\t// By default, scroll to top of the page when suite is done\n\tscrolltop: true,\n\n\t// Depth up-to which object will be dumped\n\tmaxDepth: 5,\n\n\t// When enabled, all tests must call expect()\n\trequireExpects: false,\n\n\t// Placeholder for user-configurable form-exposed URL parameters\n\turlConfig: [],\n\n\t// Set of all modules.\n\tmodules: [],\n\n\t// Stack of nested modules\n\tmoduleStack: [],\n\n\t// The first unnamed module\n\tcurrentModule: {\n\t\tname: \"\",\n\t\ttests: []\n\t},\n\n\tcallbacks: {}\n};\n\n// Push a loose unnamed module to the modules collection\nconfig.modules.push( config.currentModule );\n\nvar loggingCallbacks = {};\n\n// Register logging callbacks\nfunction registerLoggingCallbacks( obj ) {\n\tvar i, l, key,\n\t\tcallbackNames = [ \"begin\", \"done\", \"log\", \"testStart\", \"testDone\",\n\t\t\t\"moduleStart\", \"moduleDone\" ];\n\n\tfunction registerLoggingCallback( key ) {\n\t\tvar loggingCallback = function( callback ) {\n\t\t\tif ( objectType( callback ) !== \"function\" ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"QUnit logging methods require a callback function as their first parameters.\"\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconfig.callbacks[ key ].push( callback );\n\t\t};\n\n\t\t// DEPRECATED: This will be removed on QUnit 2.0.0+\n\t\t// Stores the registered functions allowing restoring\n\t\t// at verifyLoggingCallbacks() if modified\n\t\tloggingCallbacks[ key ] = loggingCallback;\n\n\t\treturn loggingCallback;\n\t}\n\n\tfor ( i = 0, l = callbackNames.length; i < l; i++ ) {\n\t\tkey = callbackNames[ i ];\n\n\t\t// Initialize key collection of logging callback\n\t\tif ( objectType( config.callbacks[ key ] ) === \"undefined\" ) {\n\t\t\tconfig.callbacks[ key ] = [];\n\t\t}\n\n\t\tobj[ key ] = registerLoggingCallback( key );\n\t}\n}\n\nfunction runLoggingCallbacks( key, args ) {\n\tvar i, l, callbacks;\n\n\tcallbacks = config.callbacks[ key ];\n\tfor ( i = 0, l = callbacks.length; i < l; i++ ) {\n\t\tcallbacks[ i ]( args );\n\t}\n}\n\n// DEPRECATED: This will be removed on 2.0.0+\n// This function verifies if the loggingCallbacks were modified by the user\n// If so, it will restore it, assign the given callback and print a console warning\nfunction verifyLoggingCallbacks() {\n\tvar loggingCallback, userCallback;\n\n\tfor ( loggingCallback in loggingCallbacks ) {\n\t\tif ( QUnit[ loggingCallback ] !== loggingCallbacks[ loggingCallback ] ) {\n\n\t\t\tuserCallback = QUnit[ loggingCallback ];\n\n\t\t\t// Restore the callback function\n\t\t\tQUnit[ loggingCallback ] = loggingCallbacks[ loggingCallback ];\n\n\t\t\t// Assign the deprecated given callback\n\t\t\tQUnit[ loggingCallback ]( userCallback );\n\n\t\t\tif ( global.console && global.console.warn ) {\n\t\t\t\tglobal.console.warn(\n\t\t\t\t\t\"QUnit.\" + loggingCallback + \" was replaced with a new value.\\n\" +\n\t\t\t\t\t\"Please, check out the documentation on how to apply logging callbacks.\\n\" +\n\t\t\t\t\t\"Reference: https://api.qunitjs.com/category/callbacks/\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n}\n\n( function() {\n\tif ( !defined.document ) {\n\t\treturn;\n\t}\n\n\t// `onErrorFnPrev` initialized at top of scope\n\t// Preserve other handlers\n\tvar onErrorFnPrev = window.onerror;\n\n\t// Cover uncaught exceptions\n\t// Returning true will suppress the default browser handler,\n\t// returning false will let it run.\n\twindow.onerror = function( error, filePath, linerNr ) {\n\t\tvar ret = false;\n\t\tif ( onErrorFnPrev ) {\n\t\t\tret = onErrorFnPrev( error, filePath, linerNr );\n\t\t}\n\n\t\t// Treat return value as window.onerror itself does,\n\t\t// Only do our handling if not suppressed.\n\t\tif ( ret !== true ) {\n\t\t\tif ( QUnit.config.current ) {\n\t\t\t\tif ( QUnit.config.current.ignoreGlobalErrors ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tQUnit.pushFailure( error, filePath + \":\" + linerNr );\n\t\t\t} else {\n\t\t\t\tQUnit.test( \"global failure\", extend( function() {\n\t\t\t\t\tQUnit.pushFailure( error, filePath + \":\" + linerNr );\n\t\t\t\t}, { validTest: true } ) );\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ret;\n\t};\n}() );\n\n// Figure out if we're running the tests from a server or not\nQUnit.isLocal = !( defined.document && window.location.protocol !== \"file:\" );\n\n// Expose the current QUnit version\nQUnit.version = \"1.23.1\";\n\nextend( QUnit, {\n\n\t// Call on start of module test to prepend name to all tests\n\tmodule: function( name, testEnvironment, executeNow ) {\n\t\tvar module, moduleFns;\n\t\tvar currentModule = config.currentModule;\n\n\t\tif ( arguments.length === 2 ) {\n\t\t\tif ( objectType( testEnvironment ) === \"function\" ) {\n\t\t\t\texecuteNow = testEnvironment;\n\t\t\t\ttestEnvironment = undefined;\n\t\t\t}\n\t\t}\n\n\t\t// DEPRECATED: handles setup/teardown functions,\n\t\t// beforeEach and afterEach should be used instead\n\t\tif ( testEnvironment && testEnvironment.setup ) {\n\t\t\ttestEnvironment.beforeEach = testEnvironment.setup;\n\t\t\tdelete testEnvironment.setup;\n\t\t}\n\t\tif ( testEnvironment && testEnvironment.teardown ) {\n\t\t\ttestEnvironment.afterEach = testEnvironment.teardown;\n\t\t\tdelete testEnvironment.teardown;\n\t\t}\n\n\t\tmodule = createModule();\n\n\t\tmoduleFns = {\n\t\t\tbeforeEach: setHook( module, \"beforeEach\" ),\n\t\t\tafterEach: setHook( module, \"afterEach\" )\n\t\t};\n\n\t\tif ( objectType( executeNow ) === \"function\" ) {\n\t\t\tconfig.moduleStack.push( module );\n\t\t\tsetCurrentModule( module );\n\t\t\texecuteNow.call( module.testEnvironment, moduleFns );\n\t\t\tconfig.moduleStack.pop();\n\t\t\tmodule = module.parentModule || currentModule;\n\t\t}\n\n\t\tsetCurrentModule( module );\n\n\t\tfunction createModule() {\n\t\t\tvar parentModule = config.moduleStack.length ?\n\t\t\t\tconfig.moduleStack.slice( -1 )[ 0 ] : null;\n\t\t\tvar moduleName = parentModule !== null ?\n\t\t\t\t[ parentModule.name, name ].join( \" > \" ) : name;\n\t\t\tvar module = {\n\t\t\t\tname: moduleName,\n\t\t\t\tparentModule: parentModule,\n\t\t\t\ttests: [],\n\t\t\t\tmoduleId: generateHash( moduleName )\n\t\t\t};\n\n\t\t\tvar env = {};\n\t\t\tif ( parentModule ) {\n\t\t\t\textend( env, parentModule.testEnvironment );\n\t\t\t\tdelete env.beforeEach;\n\t\t\t\tdelete env.afterEach;\n\t\t\t}\n\t\t\textend( env, testEnvironment );\n\t\t\tmodule.testEnvironment = env;\n\n\t\t\tconfig.modules.push( module );\n\t\t\treturn module;\n\t\t}\n\n\t\tfunction setCurrentModule( module ) {\n\t\t\tconfig.currentModule = module;\n\t\t}\n\n\t},\n\n\t// DEPRECATED: QUnit.asyncTest() will be removed in QUnit 2.0.\n\tasyncTest: asyncTest,\n\n\ttest: test,\n\n\tskip: skip,\n\n\tonly: only,\n\n\t// DEPRECATED: The functionality of QUnit.start() will be altered in QUnit 2.0.\n\t// In QUnit 2.0, invoking it will ONLY affect the `QUnit.config.autostart` blocking behavior.\n\tstart: function( count ) {\n\t\tvar globalStartAlreadyCalled = globalStartCalled;\n\n\t\tif ( !config.current ) {\n\t\t\tglobalStartCalled = true;\n\n\t\t\tif ( runStarted ) {\n\t\t\t\tthrow new Error( \"Called start() outside of a test context while already started\" );\n\t\t\t} else if ( globalStartAlreadyCalled || count > 1 ) {\n\t\t\t\tthrow new Error( \"Called start() outside of a test context too many times\" );\n\t\t\t} else if ( config.autostart ) {\n\t\t\t\tthrow new Error( \"Called start() outside of a test context when \" +\n\t\t\t\t\t\"QUnit.config.autostart was true\" );\n\t\t\t} else if ( !config.pageLoaded ) {\n\n\t\t\t\t// The page isn't completely loaded yet, so bail out and let `QUnit.load` handle it\n\t\t\t\tconfig.autostart = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\n\t\t\t// If a test is running, adjust its semaphore\n\t\t\tconfig.current.semaphore -= count || 1;\n\n\t\t\t// If semaphore is non-numeric, throw error\n\t\t\tif ( isNaN( config.current.semaphore ) ) {\n\t\t\t\tconfig.current.semaphore = 0;\n\n\t\t\t\tQUnit.pushFailure(\n\t\t\t\t\t\"Called start() with a non-numeric decrement.\",\n\t\t\t\t\tsourceFromStacktrace( 2 )\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't start until equal number of stop-calls\n\t\t\tif ( config.current.semaphore > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Throw an Error if start is called more often than stop\n\t\t\tif ( config.current.semaphore < 0 ) {\n\t\t\t\tconfig.current.semaphore = 0;\n\n\t\t\t\tQUnit.pushFailure(\n\t\t\t\t\t\"Called start() while already started (test's semaphore was 0 already)\",\n\t\t\t\t\tsourceFromStacktrace( 2 )\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tresumeProcessing();\n\t},\n\n\t// DEPRECATED: QUnit.stop() will be removed in QUnit 2.0.\n\tstop: function( count ) {\n\n\t\t// If there isn't a test running, don't allow QUnit.stop() to be called\n\t\tif ( !config.current ) {\n\t\t\tthrow new Error( \"Called stop() outside of a test context\" );\n\t\t}\n\n\t\t// If a test is running, adjust its semaphore\n\t\tconfig.current.semaphore += count || 1;\n\n\t\tpauseProcessing();\n\t},\n\n\tconfig: config,\n\n\tis: is,\n\n\tobjectType: objectType,\n\n\textend: extend,\n\n\tload: function() {\n\t\tconfig.pageLoaded = true;\n\n\t\t// Initialize the configuration options\n\t\textend( config, {\n\t\t\tstats: { all: 0, bad: 0 },\n\t\t\tmoduleStats: { all: 0, bad: 0 },\n\t\t\tstarted: 0,\n\t\t\tupdateRate: 1000,\n\t\t\tautostart: true,\n\t\t\tfilter: \"\"\n\t\t}, true );\n\n\t\tconfig.blocking = false;\n\n\t\tif ( config.autostart ) {\n\t\t\tresumeProcessing();\n\t\t}\n\t},\n\n\tstack: function( offset ) {\n\t\toffset = ( offset || 0 ) + 2;\n\t\treturn sourceFromStacktrace( offset );\n\t}\n} );\n\nregisterLoggingCallbacks( QUnit );\n\nfunction begin() {\n\tvar i, l,\n\t\tmodulesLog = [];\n\n\t// If the test run hasn't officially begun yet\n\tif ( !config.started ) {\n\n\t\t// Record the time of the test run's beginning\n\t\tconfig.started = now();\n\n\t\tverifyLoggingCallbacks();\n\n\t\t// Delete the loose unnamed module if unused.\n\t\tif ( config.modules[ 0 ].name === \"\" && config.modules[ 0 ].tests.length === 0 ) {\n\t\t\tconfig.modules.shift();\n\t\t}\n\n\t\t// Avoid unnecessary information by not logging modules' test environments\n\t\tfor ( i = 0, l = config.modules.length; i < l; i++ ) {\n\t\t\tmodulesLog.push( {\n\t\t\t\tname: config.modules[ i ].name,\n\t\t\t\ttests: config.modules[ i ].tests\n\t\t\t} );\n\t\t}\n\n\t\t// The test run is officially beginning now\n\t\trunLoggingCallbacks( \"begin\", {\n\t\t\ttotalTests: Test.count,\n\t\t\tmodules: modulesLog\n\t\t} );\n\t}\n\n\tconfig.blocking = false;\n\tprocess( true );\n}\n\nfunction process( last ) {\n\tfunction next() {\n\t\tprocess( last );\n\t}\n\tvar start = now();\n\tconfig.depth = ( config.depth || 0 ) + 1;\n\n\twhile ( config.queue.length && !config.blocking ) {\n\t\tif ( !defined.setTimeout || config.updateRate <= 0 ||\n\t\t\t\t( ( now() - start ) < config.updateRate ) ) {\n\t\t\tif ( config.current ) {\n\n\t\t\t\t// Reset async tracking for each phase of the Test lifecycle\n\t\t\t\tconfig.current.usedAsync = false;\n\t\t\t}\n\t\t\tconfig.queue.shift()();\n\t\t} else {\n\t\t\tsetTimeout( next, 13 );\n\t\t\tbreak;\n\t\t}\n\t}\n\tconfig.depth--;\n\tif ( last && !config.blocking && !config.queue.length && config.depth === 0 ) {\n\t\tdone();\n\t}\n}\n\nfunction pauseProcessing() {\n\tconfig.blocking = true;\n\n\tif ( config.testTimeout && defined.setTimeout ) {\n\t\tclearTimeout( config.timeout );\n\t\tconfig.timeout = setTimeout( function() {\n\t\t\tif ( config.current ) {\n\t\t\t\tconfig.current.semaphore = 0;\n\t\t\t\tQUnit.pushFailure( \"Test timed out\", sourceFromStacktrace( 2 ) );\n\t\t\t} else {\n\t\t\t\tthrow new Error( \"Test timed out\" );\n\t\t\t}\n\t\t\tresumeProcessing();\n\t\t}, config.testTimeout );\n\t}\n}\n\nfunction resumeProcessing() {\n\trunStarted = true;\n\n\t// A slight delay to allow this iteration of the event loop to finish (more assertions, etc.)\n\tif ( defined.setTimeout ) {\n\t\tsetTimeout( function() {\n\t\t\tif ( config.current && config.current.semaphore > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( config.timeout ) {\n\t\t\t\tclearTimeout( config.timeout );\n\t\t\t}\n\n\t\t\tbegin();\n\t\t}, 13 );\n\t} else {\n\t\tbegin();\n\t}\n}\n\nfunction done() {\n\tvar runtime, passed;\n\n\tconfig.autorun = true;\n\n\t// Log the last module results\n\tif ( config.previousModule ) {\n\t\trunLoggingCallbacks( \"moduleDone\", {\n\t\t\tname: config.previousModule.name,\n\t\t\ttests: config.previousModule.tests,\n\t\t\tfailed: config.moduleStats.bad,\n\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\ttotal: config.moduleStats.all,\n\t\t\truntime: now() - config.moduleStats.started\n\t\t} );\n\t}\n\tdelete config.previousModule;\n\n\truntime = now() - config.started;\n\tpassed = config.stats.all - config.stats.bad;\n\n\trunLoggingCallbacks( \"done\", {\n\t\tfailed: config.stats.bad,\n\t\tpassed: passed,\n\t\ttotal: config.stats.all,\n\t\truntime: runtime\n\t} );\n}\n\nfunction setHook( module, hookName ) {\n\tif ( module.testEnvironment === undefined ) {\n\t\tmodule.testEnvironment = {};\n\t}\n\n\treturn function( callback ) {\n\t\tmodule.testEnvironment[ hookName ] = callback;\n\t};\n}\n\nvar focused = false;\nvar priorityCount = 0;\nvar unitSampler;\n\nfunction Test( settings ) {\n\tvar i, l;\n\n\t++Test.count;\n\n\textend( this, settings );\n\tthis.assertions = [];\n\tthis.semaphore = 0;\n\tthis.usedAsync = false;\n\tthis.module = config.currentModule;\n\tthis.stack = sourceFromStacktrace( 3 );\n\n\t// Register unique strings\n\tfor ( i = 0, l = this.module.tests; i < l.length; i++ ) {\n\t\tif ( this.module.tests[ i ].name === this.testName ) {\n\t\t\tthis.testName += \" \";\n\t\t}\n\t}\n\n\tthis.testId = generateHash( this.module.name, this.testName );\n\n\tthis.module.tests.push( {\n\t\tname: this.testName,\n\t\ttestId: this.testId\n\t} );\n\n\tif ( settings.skip ) {\n\n\t\t// Skipped tests will fully ignore any sent callback\n\t\tthis.callback = function() {};\n\t\tthis.async = false;\n\t\tthis.expected = 0;\n\t} else {\n\t\tthis.assert = new Assert( this );\n\t}\n}\n\nTest.count = 0;\n\nTest.prototype = {\n\tbefore: function() {\n\t\tif (\n\n\t\t\t// Emit moduleStart when we're switching from one module to another\n\t\t\tthis.module !== config.previousModule ||\n\n\t\t\t\t// They could be equal (both undefined) but if the previousModule property doesn't\n\t\t\t\t// yet exist it means this is the first test in a suite that isn't wrapped in a\n\t\t\t\t// module, in which case we'll just emit a moduleStart event for 'undefined'.\n\t\t\t\t// Without this, reporters can get testStart before moduleStart  which is a problem.\n\t\t\t\t!hasOwn.call( config, \"previousModule\" )\n\t\t) {\n\t\t\tif ( hasOwn.call( config, \"previousModule\" ) ) {\n\t\t\t\trunLoggingCallbacks( \"moduleDone\", {\n\t\t\t\t\tname: config.previousModule.name,\n\t\t\t\t\ttests: config.previousModule.tests,\n\t\t\t\t\tfailed: config.moduleStats.bad,\n\t\t\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\t\t\ttotal: config.moduleStats.all,\n\t\t\t\t\truntime: now() - config.moduleStats.started\n\t\t\t\t} );\n\t\t\t}\n\t\t\tconfig.previousModule = this.module;\n\t\t\tconfig.moduleStats = { all: 0, bad: 0, started: now() };\n\t\t\trunLoggingCallbacks( \"moduleStart\", {\n\t\t\t\tname: this.module.name,\n\t\t\t\ttests: this.module.tests\n\t\t\t} );\n\t\t}\n\n\t\tconfig.current = this;\n\n\t\tif ( this.module.testEnvironment ) {\n\t\t\tdelete this.module.testEnvironment.beforeEach;\n\t\t\tdelete this.module.testEnvironment.afterEach;\n\t\t}\n\t\tthis.testEnvironment = extend( {}, this.module.testEnvironment );\n\n\t\tthis.started = now();\n\t\trunLoggingCallbacks( \"testStart\", {\n\t\t\tname: this.testName,\n\t\t\tmodule: this.module.name,\n\t\t\ttestId: this.testId\n\t\t} );\n\n\t\tif ( !config.pollution ) {\n\t\t\tsaveGlobal();\n\t\t}\n\t},\n\n\trun: function() {\n\t\tvar promise;\n\n\t\tconfig.current = this;\n\n\t\tif ( this.async ) {\n\t\t\tQUnit.stop();\n\t\t}\n\n\t\tthis.callbackStarted = now();\n\n\t\tif ( config.notrycatch ) {\n\t\t\trunTest( this );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\trunTest( this );\n\t\t} catch ( e ) {\n\t\t\tthis.pushFailure( \"Died on test #\" + ( this.assertions.length + 1 ) + \" \" +\n\t\t\t\tthis.stack + \": \" + ( e.message || e ), extractStacktrace( e, 0 ) );\n\n\t\t\t// Else next test will carry the responsibility\n\t\t\tsaveGlobal();\n\n\t\t\t// Restart the tests if they're blocking\n\t\t\tif ( config.blocking ) {\n\t\t\t\tQUnit.start();\n\t\t\t}\n\t\t}\n\n\t\tfunction runTest( test ) {\n\t\t\tpromise = test.callback.call( test.testEnvironment, test.assert );\n\t\t\ttest.resolvePromise( promise );\n\t\t}\n\t},\n\n\tafter: function() {\n\t\tcheckPollution();\n\t},\n\n\tqueueHook: function( hook, hookName ) {\n\t\tvar promise,\n\t\t\ttest = this;\n\t\treturn function runHook() {\n\t\t\tconfig.current = test;\n\t\t\tif ( config.notrycatch ) {\n\t\t\t\tcallHook();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcallHook();\n\t\t\t} catch ( error ) {\n\t\t\t\ttest.pushFailure( hookName + \" failed on \" + test.testName + \": \" +\n\t\t\t\t( error.message || error ), extractStacktrace( error, 0 ) );\n\t\t\t}\n\n\t\t\tfunction callHook() {\n\t\t\t\tpromise = hook.call( test.testEnvironment, test.assert );\n\t\t\t\ttest.resolvePromise( promise, hookName );\n\t\t\t}\n\t\t};\n\t},\n\n\t// Currently only used for module level hooks, can be used to add global level ones\n\thooks: function( handler ) {\n\t\tvar hooks = [];\n\n\t\tfunction processHooks( test, module ) {\n\t\t\tif ( module.parentModule ) {\n\t\t\t\tprocessHooks( test, module.parentModule );\n\t\t\t}\n\t\t\tif ( module.testEnvironment &&\n\t\t\t\tQUnit.objectType( module.testEnvironment[ handler ] ) === \"function\" ) {\n\t\t\t\thooks.push( test.queueHook( module.testEnvironment[ handler ], handler ) );\n\t\t\t}\n\t\t}\n\n\t\t// Hooks are ignored on skipped tests\n\t\tif ( !this.skip ) {\n\t\t\tprocessHooks( this, this.module );\n\t\t}\n\t\treturn hooks;\n\t},\n\n\tfinish: function() {\n\t\tconfig.current = this;\n\t\tif ( config.requireExpects && this.expected === null ) {\n\t\t\tthis.pushFailure( \"Expected number of assertions to be defined, but expect() was \" +\n\t\t\t\t\"not called.\", this.stack );\n\t\t} else if ( this.expected !== null && this.expected !== this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected \" + this.expected + \" assertions, but \" +\n\t\t\t\tthis.assertions.length + \" were run\", this.stack );\n\t\t} else if ( this.expected === null && !this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected at least one assertion, but none were run - call \" +\n\t\t\t\t\"expect(0) to accept zero assertions.\", this.stack );\n\t\t}\n\n\t\tvar i,\n\t\t\tbad = 0;\n\n\t\tthis.runtime = now() - this.started;\n\t\tconfig.stats.all += this.assertions.length;\n\t\tconfig.moduleStats.all += this.assertions.length;\n\n\t\tfor ( i = 0; i < this.assertions.length; i++ ) {\n\t\t\tif ( !this.assertions[ i ].result ) {\n\t\t\t\tbad++;\n\t\t\t\tconfig.stats.bad++;\n\t\t\t\tconfig.moduleStats.bad++;\n\t\t\t}\n\t\t}\n\n\t\trunLoggingCallbacks( \"testDone\", {\n\t\t\tname: this.testName,\n\t\t\tmodule: this.module.name,\n\t\t\tskipped: !!this.skip,\n\t\t\tfailed: bad,\n\t\t\tpassed: this.assertions.length - bad,\n\t\t\ttotal: this.assertions.length,\n\t\t\truntime: this.runtime,\n\n\t\t\t// HTML Reporter use\n\t\t\tassertions: this.assertions,\n\t\t\ttestId: this.testId,\n\n\t\t\t// Source of Test\n\t\t\tsource: this.stack,\n\n\t\t\t// DEPRECATED: this property will be removed in 2.0.0, use runtime instead\n\t\t\tduration: this.runtime\n\t\t} );\n\n\t\t// QUnit.reset() is deprecated and will be replaced for a new\n\t\t// fixture reset function on QUnit 2.0/2.1.\n\t\t// It's still called here for backwards compatibility handling\n\t\tQUnit.reset();\n\n\t\tconfig.current = undefined;\n\t},\n\n\tqueue: function() {\n\t\tvar priority,\n\t\t\ttest = this;\n\n\t\tif ( !this.valid() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction run() {\n\n\t\t\t// Each of these can by async\n\t\t\tsynchronize( [\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.before();\n\t\t\t\t},\n\n\t\t\t\ttest.hooks( \"beforeEach\" ),\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.run();\n\t\t\t\t},\n\n\t\t\t\ttest.hooks( \"afterEach\" ).reverse(),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.after();\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.finish();\n\t\t\t\t}\n\t\t\t] );\n\t\t}\n\n\t\t// Prioritize previously failed tests, detected from sessionStorage\n\t\tpriority = QUnit.config.reorder && defined.sessionStorage &&\n\t\t\t\t+sessionStorage.getItem( \"qunit-test-\" + this.module.name + \"-\" + this.testName );\n\n\t\treturn synchronize( run, priority, config.seed );\n\t},\n\n\tpushResult: function( resultInfo ) {\n\n\t\t// Destructure of resultInfo = { result, actual, expected, message, negative }\n\t\tvar source,\n\t\t\tdetails = {\n\t\t\t\tmodule: this.module.name,\n\t\t\t\tname: this.testName,\n\t\t\t\tresult: resultInfo.result,\n\t\t\t\tmessage: resultInfo.message,\n\t\t\t\tactual: resultInfo.actual,\n\t\t\t\texpected: resultInfo.expected,\n\t\t\t\ttestId: this.testId,\n\t\t\t\tnegative: resultInfo.negative || false,\n\t\t\t\truntime: now() - this.started\n\t\t\t};\n\n\t\tif ( !resultInfo.result ) {\n\t\t\tsource = sourceFromStacktrace();\n\n\t\t\tif ( source ) {\n\t\t\t\tdetails.source = source;\n\t\t\t}\n\t\t}\n\n\t\trunLoggingCallbacks( \"log\", details );\n\n\t\tthis.assertions.push( {\n\t\t\tresult: !!resultInfo.result,\n\t\t\tmessage: resultInfo.message\n\t\t} );\n\t},\n\n\tpushFailure: function( message, source, actual ) {\n\t\tif ( !( this instanceof Test ) ) {\n\t\t\tthrow new Error( \"pushFailure() assertion outside test context, was \" +\n\t\t\t\tsourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tvar details = {\n\t\t\t\tmodule: this.module.name,\n\t\t\t\tname: this.testName,\n\t\t\t\tresult: false,\n\t\t\t\tmessage: message || \"error\",\n\t\t\t\tactual: actual || null,\n\t\t\t\ttestId: this.testId,\n\t\t\t\truntime: now() - this.started\n\t\t\t};\n\n\t\tif ( source ) {\n\t\t\tdetails.source = source;\n\t\t}\n\n\t\trunLoggingCallbacks( \"log\", details );\n\n\t\tthis.assertions.push( {\n\t\t\tresult: false,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tresolvePromise: function( promise, phase ) {\n\t\tvar then, message,\n\t\t\ttest = this;\n\t\tif ( promise != null ) {\n\t\t\tthen = promise.then;\n\t\t\tif ( QUnit.objectType( then ) === \"function\" ) {\n\t\t\t\tQUnit.stop();\n\t\t\t\tthen.call(\n\t\t\t\t\tpromise,\n\t\t\t\t\tfunction() { QUnit.start(); },\n\t\t\t\t\tfunction( error ) {\n\t\t\t\t\t\tmessage = \"Promise rejected \" +\n\t\t\t\t\t\t\t( !phase ? \"during\" : phase.replace( /Each$/, \"\" ) ) +\n\t\t\t\t\t\t\t\" \" + test.testName + \": \" + ( error.message || error );\n\t\t\t\t\t\ttest.pushFailure( message, extractStacktrace( error, 0 ) );\n\n\t\t\t\t\t\t// Else next test will carry the responsibility\n\t\t\t\t\t\tsaveGlobal();\n\n\t\t\t\t\t\t// Unblock\n\t\t\t\t\t\tQUnit.start();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\tvalid: function() {\n\t\tvar filter = config.filter,\n\t\t\tregexFilter = /^(!?)\\/([\\w\\W]*)\\/(i?$)/.exec( filter ),\n\t\t\tmodule = config.module && config.module.toLowerCase(),\n\t\t\tfullName = ( this.module.name + \": \" + this.testName );\n\n\t\tfunction moduleChainNameMatch( testModule ) {\n\t\t\tvar testModuleName = testModule.name ? testModule.name.toLowerCase() : null;\n\t\t\tif ( testModuleName === module ) {\n\t\t\t\treturn true;\n\t\t\t} else if ( testModule.parentModule ) {\n\t\t\t\treturn moduleChainNameMatch( testModule.parentModule );\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfunction moduleChainIdMatch( testModule ) {\n\t\t\treturn inArray( testModule.moduleId, config.moduleId ) > -1 ||\n\t\t\t\ttestModule.parentModule && moduleChainIdMatch( testModule.parentModule );\n\t\t}\n\n\t\t// Internally-generated tests are always valid\n\t\tif ( this.callback && this.callback.validTest ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( config.moduleId && config.moduleId.length > 0 &&\n\t\t\t!moduleChainIdMatch( this.module ) ) {\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( config.testId && config.testId.length > 0 &&\n\t\t\tinArray( this.testId, config.testId ) < 0 ) {\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( module && !moduleChainNameMatch( this.module ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !filter ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn regexFilter ?\n\t\t\tthis.regexFilter( !!regexFilter[ 1 ], regexFilter[ 2 ], regexFilter[ 3 ], fullName ) :\n\t\t\tthis.stringFilter( filter, fullName );\n\t},\n\n\tregexFilter: function( exclude, pattern, flags, fullName ) {\n\t\tvar regex = new RegExp( pattern, flags );\n\t\tvar match = regex.test( fullName );\n\n\t\treturn match !== exclude;\n\t},\n\n\tstringFilter: function( filter, fullName ) {\n\t\tfilter = filter.toLowerCase();\n\t\tfullName = fullName.toLowerCase();\n\n\t\tvar include = filter.charAt( 0 ) !== \"!\";\n\t\tif ( !include ) {\n\t\t\tfilter = filter.slice( 1 );\n\t\t}\n\n\t\t// If the filter matches, we need to honour include\n\t\tif ( fullName.indexOf( filter ) !== -1 ) {\n\t\t\treturn include;\n\t\t}\n\n\t\t// Otherwise, do the opposite\n\t\treturn !include;\n\t}\n};\n\n// Resets the test setup. Useful for tests that modify the DOM.\n/*\nDEPRECATED: Use multiple tests instead of resetting inside a test.\nUse testStart or testDone for custom cleanup.\nThis method will throw an error in 2.0, and will be removed in 2.1\n*/\nQUnit.reset = function() {\n\n\t// Return on non-browser environments\n\t// This is necessary to not break on node tests\n\tif ( !defined.document ) {\n\t\treturn;\n\t}\n\n\tvar fixture = defined.document && document.getElementById &&\n\t\t\tdocument.getElementById( \"qunit-fixture\" );\n\n\tif ( fixture ) {\n\t\tfixture.innerHTML = config.fixture;\n\t}\n};\n\nQUnit.pushFailure = function() {\n\tif ( !QUnit.config.current ) {\n\t\tthrow new Error( \"pushFailure() assertion outside test context, in \" +\n\t\t\tsourceFromStacktrace( 2 ) );\n\t}\n\n\t// Gets current test obj\n\tvar currentTest = QUnit.config.current;\n\n\treturn currentTest.pushFailure.apply( currentTest, arguments );\n};\n\n// Based on Java's String.hashCode, a simple but not\n// rigorously collision resistant hashing function\nfunction generateHash( module, testName ) {\n\tvar hex,\n\t\ti = 0,\n\t\thash = 0,\n\t\tstr = module + \"\\x1C\" + testName,\n\t\tlen = str.length;\n\n\tfor ( ; i < len; i++ ) {\n\t\thash  = ( ( hash << 5 ) - hash ) + str.charCodeAt( i );\n\t\thash |= 0;\n\t}\n\n\t// Convert the possibly negative integer hash code into an 8 character hex string, which isn't\n\t// strictly necessary but increases user understanding that the id is a SHA-like hash\n\thex = ( 0x100000000 + hash ).toString( 16 );\n\tif ( hex.length < 8 ) {\n\t\thex = \"0000000\" + hex;\n\t}\n\n\treturn hex.slice( -8 );\n}\n\nfunction synchronize( callback, priority, seed ) {\n\tvar last = !priority,\n\t\tindex;\n\n\tif ( QUnit.objectType( callback ) === \"array\" ) {\n\t\twhile ( callback.length ) {\n\t\t\tsynchronize( callback.shift() );\n\t\t}\n\t\treturn;\n\t}\n\n\tif ( priority ) {\n\t\tconfig.queue.splice( priorityCount++, 0, callback );\n\t} else if ( seed ) {\n\t\tif ( !unitSampler ) {\n\t\t\tunitSampler = unitSamplerGenerator( seed );\n\t\t}\n\n\t\t// Insert into a random position after all priority items\n\t\tindex = Math.floor( unitSampler() * ( config.queue.length - priorityCount + 1 ) );\n\t\tconfig.queue.splice( priorityCount + index, 0, callback );\n\t} else {\n\t\tconfig.queue.push( callback );\n\t}\n\n\tif ( config.autorun && !config.blocking ) {\n\t\tprocess( last );\n\t}\n}\n\nfunction unitSamplerGenerator( seed ) {\n\n\t// 32-bit xorshift, requires only a nonzero seed\n\t// http://excamera.com/sphinx/article-xorshift.html\n\tvar sample = parseInt( generateHash( seed ), 16 ) || -1;\n\treturn function() {\n\t\tsample ^= sample << 13;\n\t\tsample ^= sample >>> 17;\n\t\tsample ^= sample << 5;\n\n\t\t// ECMAScript has no unsigned number type\n\t\tif ( sample < 0 ) {\n\t\t\tsample += 0x100000000;\n\t\t}\n\n\t\treturn sample / 0x100000000;\n\t};\n}\n\nfunction saveGlobal() {\n\tconfig.pollution = [];\n\n\tif ( config.noglobals ) {\n\t\tfor ( var key in global ) {\n\t\t\tif ( hasOwn.call( global, key ) ) {\n\n\t\t\t\t// In Opera sometimes DOM element ids show up here, ignore them\n\t\t\t\tif ( /^qunit-test-output/.test( key ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconfig.pollution.push( key );\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkPollution() {\n\tvar newGlobals,\n\t\tdeletedGlobals,\n\t\told = config.pollution;\n\n\tsaveGlobal();\n\n\tnewGlobals = diff( config.pollution, old );\n\tif ( newGlobals.length > 0 ) {\n\t\tQUnit.pushFailure( \"Introduced global variable(s): \" + newGlobals.join( \", \" ) );\n\t}\n\n\tdeletedGlobals = diff( old, config.pollution );\n\tif ( deletedGlobals.length > 0 ) {\n\t\tQUnit.pushFailure( \"Deleted global variable(s): \" + deletedGlobals.join( \", \" ) );\n\t}\n}\n\n// Will be exposed as QUnit.asyncTest\nfunction asyncTest( testName, expected, callback ) {\n\tif ( arguments.length === 2 ) {\n\t\tcallback = expected;\n\t\texpected = null;\n\t}\n\n\tQUnit.test( testName, expected, callback, true );\n}\n\n// Will be exposed as QUnit.test\nfunction test( testName, expected, callback, async ) {\n\tif ( focused )  { return; }\n\n\tvar newTest;\n\n\tif ( arguments.length === 2 ) {\n\t\tcallback = expected;\n\t\texpected = null;\n\t}\n\n\tnewTest = new Test( {\n\t\ttestName: testName,\n\t\texpected: expected,\n\t\tasync: async,\n\t\tcallback: callback\n\t} );\n\n\tnewTest.queue();\n}\n\n// Will be exposed as QUnit.skip\nfunction skip( testName ) {\n\tif ( focused )  { return; }\n\n\tvar test = new Test( {\n\t\ttestName: testName,\n\t\tskip: true\n\t} );\n\n\ttest.queue();\n}\n\n// Will be exposed as QUnit.only\nfunction only( testName, expected, callback, async ) {\n\tvar newTest;\n\n\tif ( focused )  { return; }\n\n\tQUnit.config.queue.length = 0;\n\tfocused = true;\n\n\tif ( arguments.length === 2 ) {\n\t\tcallback = expected;\n\t\texpected = null;\n\t}\n\n\tnewTest = new Test( {\n\t\ttestName: testName,\n\t\texpected: expected,\n\t\tasync: async,\n\t\tcallback: callback\n\t} );\n\n\tnewTest.queue();\n}\n\nfunction Assert( testContext ) {\n\tthis.test = testContext;\n}\n\n// Assert helpers\nQUnit.assert = Assert.prototype = {\n\n\t// Specify the number of expected assertions to guarantee that failed test\n\t// (no assertions are run at all) don't slip through.\n\texpect: function( asserts ) {\n\t\tif ( arguments.length === 1 ) {\n\t\t\tthis.test.expected = asserts;\n\t\t} else {\n\t\t\treturn this.test.expected;\n\t\t}\n\t},\n\n\t// Increment this Test's semaphore counter, then return a function that\n\t// decrements that counter a maximum of once.\n\tasync: function( count ) {\n\t\tvar test = this.test,\n\t\t\tpopped = false,\n\t\t\tacceptCallCount = count;\n\n\t\tif ( typeof acceptCallCount === \"undefined\" ) {\n\t\t\tacceptCallCount = 1;\n\t\t}\n\n\t\ttest.semaphore += 1;\n\t\ttest.usedAsync = true;\n\t\tpauseProcessing();\n\n\t\treturn function done() {\n\n\t\t\tif ( popped ) {\n\t\t\t\ttest.pushFailure( \"Too many calls to the `assert.async` callback\",\n\t\t\t\t\tsourceFromStacktrace( 2 ) );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tacceptCallCount -= 1;\n\t\t\tif ( acceptCallCount > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttest.semaphore -= 1;\n\t\t\tpopped = true;\n\t\t\tresumeProcessing();\n\t\t};\n\t},\n\n\t// Exports test.push() to the user API\n\t// Alias of pushResult.\n\tpush: function( result, actual, expected, message, negative ) {\n\t\tvar currentAssert = this instanceof Assert ? this : QUnit.config.current.assert;\n\t\treturn currentAssert.pushResult( {\n\t\t\tresult: result,\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message,\n\t\t\tnegative: negative\n\t\t} );\n\t},\n\n\tpushResult: function( resultInfo ) {\n\n\t\t// Destructure of resultInfo = { result, actual, expected, message, negative }\n\t\tvar assert = this,\n\t\t\tcurrentTest = ( assert instanceof Assert && assert.test ) || QUnit.config.current;\n\n\t\t// Backwards compatibility fix.\n\t\t// Allows the direct use of global exported assertions and QUnit.assert.*\n\t\t// Although, it's use is not recommended as it can leak assertions\n\t\t// to other tests from async tests, because we only get a reference to the current test,\n\t\t// not exactly the test where assertion were intended to be called.\n\t\tif ( !currentTest ) {\n\t\t\tthrow new Error( \"assertion outside test context, in \" + sourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tif ( currentTest.usedAsync === true && currentTest.semaphore === 0 ) {\n\t\t\tcurrentTest.pushFailure( \"Assertion after the final `assert.async` was resolved\",\n\t\t\t\tsourceFromStacktrace( 2 ) );\n\n\t\t\t// Allow this assertion to continue running anyway...\n\t\t}\n\n\t\tif ( !( assert instanceof Assert ) ) {\n\t\t\tassert = currentTest.assert;\n\t\t}\n\n\t\treturn assert.test.pushResult( resultInfo );\n\t},\n\n\tok: function( result, message ) {\n\t\tmessage = message || ( result ? \"okay\" : \"failed, expected argument to be truthy, was: \" +\n\t\t\tQUnit.dump.parse( result ) );\n\t\tthis.pushResult( {\n\t\t\tresult: !!result,\n\t\t\tactual: result,\n\t\t\texpected: true,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tnotOk: function( result, message ) {\n\t\tmessage = message || ( !result ? \"okay\" : \"failed, expected argument to be falsy, was: \" +\n\t\t\tQUnit.dump.parse( result ) );\n\t\tthis.pushResult( {\n\t\t\tresult: !result,\n\t\t\tactual: result,\n\t\t\texpected: false,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tequal: function( actual, expected, message ) {\n\t\t/*jshint eqeqeq:false */\n\t\tthis.pushResult( {\n\t\t\tresult: expected == actual,\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tnotEqual: function( actual, expected, message ) {\n\t\t/*jshint eqeqeq:false */\n\t\tthis.pushResult( {\n\t\t\tresult: expected != actual,\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message,\n\t\t\tnegative: true\n\t\t} );\n\t},\n\n\tpropEqual: function( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\t\tthis.pushResult( {\n\t\t\tresult: QUnit.equiv( actual, expected ),\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tnotPropEqual: function( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\t\tthis.pushResult( {\n\t\t\tresult: !QUnit.equiv( actual, expected ),\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message,\n\t\t\tnegative: true\n\t\t} );\n\t},\n\n\tdeepEqual: function( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: QUnit.equiv( actual, expected ),\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tnotDeepEqual: function( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: !QUnit.equiv( actual, expected ),\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message,\n\t\t\tnegative: true\n\t\t} );\n\t},\n\n\tstrictEqual: function( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: expected === actual,\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message\n\t\t} );\n\t},\n\n\tnotStrictEqual: function( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: expected !== actual,\n\t\t\tactual: actual,\n\t\t\texpected: expected,\n\t\t\tmessage: message,\n\t\t\tnegative: true\n\t\t} );\n\t},\n\n\t\"throws\": function( block, expected, message ) {\n\t\tvar actual, expectedType,\n\t\t\texpectedOutput = expected,\n\t\t\tok = false,\n\t\t\tcurrentTest = ( this instanceof Assert && this.test ) || QUnit.config.current;\n\n\t\t// 'expected' is optional unless doing string comparison\n\t\tif ( message == null && typeof expected === \"string\" ) {\n\t\t\tmessage = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\tcurrentTest.ignoreGlobalErrors = true;\n\t\ttry {\n\t\t\tblock.call( currentTest.testEnvironment );\n\t\t} catch ( e ) {\n\t\t\tactual = e;\n\t\t}\n\t\tcurrentTest.ignoreGlobalErrors = false;\n\n\t\tif ( actual ) {\n\t\t\texpectedType = QUnit.objectType( expected );\n\n\t\t\t// We don't want to validate thrown error\n\t\t\tif ( !expected ) {\n\t\t\t\tok = true;\n\t\t\t\texpectedOutput = null;\n\n\t\t\t// Expected is a regexp\n\t\t\t} else if ( expectedType === \"regexp\" ) {\n\t\t\t\tok = expected.test( errorString( actual ) );\n\n\t\t\t// Expected is a string\n\t\t\t} else if ( expectedType === \"string\" ) {\n\t\t\t\tok = expected === errorString( actual );\n\n\t\t\t// Expected is a constructor, maybe an Error constructor\n\t\t\t} else if ( expectedType === \"function\" && actual instanceof expected ) {\n\t\t\t\tok = true;\n\n\t\t\t// Expected is an Error object\n\t\t\t} else if ( expectedType === \"object\" ) {\n\t\t\t\tok = actual instanceof expected.constructor &&\n\t\t\t\t\tactual.name === expected.name &&\n\t\t\t\t\tactual.message === expected.message;\n\n\t\t\t// Expected is a validation function which returns true if validation passed\n\t\t\t} else if ( expectedType === \"function\" && expected.call( {}, actual ) === true ) {\n\t\t\t\texpectedOutput = null;\n\t\t\t\tok = true;\n\t\t\t}\n\t\t}\n\n\t\tcurrentTest.assert.pushResult( {\n\t\t\tresult: ok,\n\t\t\tactual: actual,\n\t\t\texpected: expectedOutput,\n\t\t\tmessage: message\n\t\t} );\n\t}\n};\n\n// Provide an alternative to assert.throws(), for environments that consider throws a reserved word\n// Known to us are: Closure Compiler, Narwhal\n( function() {\n\t/*jshint sub:true */\n\tAssert.prototype.raises = Assert.prototype [ \"throws\" ]; //jscs:ignore requireDotNotation\n}() );\n\nfunction errorString( error ) {\n\tvar name, message,\n\t\tresultErrorString = error.toString();\n\tif ( resultErrorString.substring( 0, 7 ) === \"[object\" ) {\n\t\tname = error.name ? error.name.toString() : \"Error\";\n\t\tmessage = error.message ? error.message.toString() : \"\";\n\t\tif ( name && message ) {\n\t\t\treturn name + \": \" + message;\n\t\t} else if ( name ) {\n\t\t\treturn name;\n\t\t} else if ( message ) {\n\t\t\treturn message;\n\t\t} else {\n\t\t\treturn \"Error\";\n\t\t}\n\t} else {\n\t\treturn resultErrorString;\n\t}\n}\n\n// Test for equality any JavaScript type.\n// Author: Philippe Rathé <prathe@gmail.com>\nQUnit.equiv = ( function() {\n\n\t// Stack to decide between skip/abort functions\n\tvar callers = [];\n\n\t// Stack to avoiding loops from circular referencing\n\tvar parents = [];\n\tvar parentsB = [];\n\n\tvar getProto = Object.getPrototypeOf || function( obj ) {\n\n\t\t/*jshint proto: true */\n\t\treturn obj.__proto__;\n\t};\n\n\tfunction useStrictEquality( b, a ) {\n\n\t\t// To catch short annotation VS 'new' annotation of a declaration. e.g.:\n\t\t// `var i = 1;`\n\t\t// `var j = new Number(1);`\n\t\tif ( typeof a === \"object\" ) {\n\t\t\ta = a.valueOf();\n\t\t}\n\t\tif ( typeof b === \"object\" ) {\n\t\t\tb = b.valueOf();\n\t\t}\n\n\t\treturn a === b;\n\t}\n\n\tfunction compareConstructors( a, b ) {\n\t\tvar protoA = getProto( a );\n\t\tvar protoB = getProto( b );\n\n\t\t// Comparing constructors is more strict than using `instanceof`\n\t\tif ( a.constructor === b.constructor ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ref #851\n\t\t// If the obj prototype descends from a null constructor, treat it\n\t\t// as a null prototype.\n\t\tif ( protoA && protoA.constructor === null ) {\n\t\t\tprotoA = null;\n\t\t}\n\t\tif ( protoB && protoB.constructor === null ) {\n\t\t\tprotoB = null;\n\t\t}\n\n\t\t// Allow objects with no prototype to be equivalent to\n\t\t// objects with Object as their constructor.\n\t\tif ( ( protoA === null && protoB === Object.prototype ) ||\n\t\t\t\t( protoB === null && protoA === Object.prototype ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction getRegExpFlags( regexp ) {\n\t\treturn \"flags\" in regexp ? regexp.flags : regexp.toString().match( /[gimuy]*$/ )[ 0 ];\n\t}\n\n\tvar callbacks = {\n\t\t\"string\": useStrictEquality,\n\t\t\"boolean\": useStrictEquality,\n\t\t\"number\": useStrictEquality,\n\t\t\"null\": useStrictEquality,\n\t\t\"undefined\": useStrictEquality,\n\t\t\"symbol\": useStrictEquality,\n\t\t\"date\": useStrictEquality,\n\n\t\t\"nan\": function() {\n\t\t\treturn true;\n\t\t},\n\n\t\t\"regexp\": function( b, a ) {\n\t\t\treturn a.source === b.source &&\n\n\t\t\t\t// Include flags in the comparison\n\t\t\t\tgetRegExpFlags( a ) === getRegExpFlags( b );\n\t\t},\n\n\t\t// - skip when the property is a method of an instance (OOP)\n\t\t// - abort otherwise,\n\t\t// initial === would have catch identical references anyway\n\t\t\"function\": function() {\n\t\t\tvar caller = callers[ callers.length - 1 ];\n\t\t\treturn caller !== Object && typeof caller !== \"undefined\";\n\t\t},\n\n\t\t\"array\": function( b, a ) {\n\t\t\tvar i, j, len, loop, aCircular, bCircular;\n\n\t\t\tlen = a.length;\n\t\t\tif ( len !== b.length ) {\n\n\t\t\t\t// Safe and faster\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Track reference to avoid circular references\n\t\t\tparents.push( a );\n\t\t\tparentsB.push( b );\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tloop = false;\n\t\t\t\tfor ( j = 0; j < parents.length; j++ ) {\n\t\t\t\t\taCircular = parents[ j ] === a[ i ];\n\t\t\t\t\tbCircular = parentsB[ j ] === b[ i ];\n\t\t\t\t\tif ( aCircular || bCircular ) {\n\t\t\t\t\t\tif ( a[ i ] === b[ i ] || aCircular && bCircular ) {\n\t\t\t\t\t\t\tloop = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparents.pop();\n\t\t\t\t\t\t\tparentsB.pop();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( !loop && !innerEquiv( a[ i ], b[ i ] ) ) {\n\t\t\t\t\tparents.pop();\n\t\t\t\t\tparentsB.pop();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparents.pop();\n\t\t\tparentsB.pop();\n\t\t\treturn true;\n\t\t},\n\n\t\t\"set\": function( b, a ) {\n\t\t\tvar innerEq,\n\t\t\t\touterEq = true;\n\n\t\t\tif ( a.size !== b.size ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ta.forEach( function( aVal ) {\n\t\t\t\tinnerEq = false;\n\n\t\t\t\tb.forEach( function( bVal ) {\n\t\t\t\t\tif ( innerEquiv( bVal, aVal ) ) {\n\t\t\t\t\t\tinnerEq = true;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tif ( !innerEq ) {\n\t\t\t\t\touterEq = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn outerEq;\n\t\t},\n\n\t\t\"map\": function( b, a ) {\n\t\t\tvar innerEq,\n\t\t\t\touterEq = true;\n\n\t\t\tif ( a.size !== b.size ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ta.forEach( function( aVal, aKey ) {\n\t\t\t\tinnerEq = false;\n\n\t\t\t\tb.forEach( function( bVal, bKey ) {\n\t\t\t\t\tif ( innerEquiv( [ bVal, bKey ], [ aVal, aKey ] ) ) {\n\t\t\t\t\t\tinnerEq = true;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tif ( !innerEq ) {\n\t\t\t\t\touterEq = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn outerEq;\n\t\t},\n\n\t\t\"object\": function( b, a ) {\n\t\t\tvar i, j, loop, aCircular, bCircular;\n\n\t\t\t// Default to true\n\t\t\tvar eq = true;\n\t\t\tvar aProperties = [];\n\t\t\tvar bProperties = [];\n\n\t\t\tif ( compareConstructors( a, b ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Stack constructor before traversing properties\n\t\t\tcallers.push( a.constructor );\n\n\t\t\t// Track reference to avoid circular references\n\t\t\tparents.push( a );\n\t\t\tparentsB.push( b );\n\n\t\t\t// Be strict: don't ensure hasOwnProperty and go deep\n\t\t\tfor ( i in a ) {\n\t\t\t\tloop = false;\n\t\t\t\tfor ( j = 0; j < parents.length; j++ ) {\n\t\t\t\t\taCircular = parents[ j ] === a[ i ];\n\t\t\t\t\tbCircular = parentsB[ j ] === b[ i ];\n\t\t\t\t\tif ( aCircular || bCircular ) {\n\t\t\t\t\t\tif ( a[ i ] === b[ i ] || aCircular && bCircular ) {\n\t\t\t\t\t\t\tloop = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\teq = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\taProperties.push( i );\n\t\t\t\tif ( !loop && !innerEquiv( a[ i ], b[ i ] ) ) {\n\t\t\t\t\teq = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparents.pop();\n\t\t\tparentsB.pop();\n\n\t\t\t// Unstack, we are done\n\t\t\tcallers.pop();\n\n\t\t\tfor ( i in b ) {\n\n\t\t\t\t// Collect b's properties\n\t\t\t\tbProperties.push( i );\n\t\t\t}\n\n\t\t\t// Ensures identical properties name\n\t\t\treturn eq && innerEquiv( aProperties.sort(), bProperties.sort() );\n\t\t}\n\t};\n\n\tfunction typeEquiv( a, b ) {\n\t\tvar type = QUnit.objectType( a );\n\t\treturn QUnit.objectType( b ) === type && callbacks[ type ]( b, a );\n\t}\n\n\t// The real equiv function\n\tfunction innerEquiv( a, b ) {\n\n\t\t// We're done when there's nothing more to compare\n\t\tif ( arguments.length < 2 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Require type-specific equality\n\t\treturn ( a === b || typeEquiv( a, b ) ) &&\n\n\t\t\t// ...across all consecutive argument pairs\n\t\t\t( arguments.length === 2 || innerEquiv.apply( this, [].slice.call( arguments, 1 ) ) );\n\t}\n\n\treturn innerEquiv;\n}() );\n\n// Based on jsDump by Ariel Flesler\n// http://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html\nQUnit.dump = ( function() {\n\tfunction quote( str ) {\n\t\treturn \"\\\"\" + str.toString().replace( /\\\\/g, \"\\\\\\\\\" ).replace( /\"/g, \"\\\\\\\"\" ) + \"\\\"\";\n\t}\n\tfunction literal( o ) {\n\t\treturn o + \"\";\n\t}\n\tfunction join( pre, arr, post ) {\n\t\tvar s = dump.separator(),\n\t\t\tbase = dump.indent(),\n\t\t\tinner = dump.indent( 1 );\n\t\tif ( arr.join ) {\n\t\t\tarr = arr.join( \",\" + s + inner );\n\t\t}\n\t\tif ( !arr ) {\n\t\t\treturn pre + post;\n\t\t}\n\t\treturn [ pre, inner + arr, base + post ].join( s );\n\t}\n\tfunction array( arr, stack ) {\n\t\tvar i = arr.length,\n\t\t\tret = new Array( i );\n\n\t\tif ( dump.maxDepth && dump.depth > dump.maxDepth ) {\n\t\t\treturn \"[object Array]\";\n\t\t}\n\n\t\tthis.up();\n\t\twhile ( i-- ) {\n\t\t\tret[ i ] = this.parse( arr[ i ], undefined, stack );\n\t\t}\n\t\tthis.down();\n\t\treturn join( \"[\", ret, \"]\" );\n\t}\n\n\tvar reName = /^function (\\w+)/,\n\t\tdump = {\n\n\t\t\t// The objType is used mostly internally, you can fix a (custom) type in advance\n\t\t\tparse: function( obj, objType, stack ) {\n\t\t\t\tstack = stack || [];\n\t\t\t\tvar res, parser, parserType,\n\t\t\t\t\tinStack = inArray( obj, stack );\n\n\t\t\t\tif ( inStack !== -1 ) {\n\t\t\t\t\treturn \"recursion(\" + ( inStack - stack.length ) + \")\";\n\t\t\t\t}\n\n\t\t\t\tobjType = objType || this.typeOf( obj  );\n\t\t\t\tparser = this.parsers[ objType ];\n\t\t\t\tparserType = typeof parser;\n\n\t\t\t\tif ( parserType === \"function\" ) {\n\t\t\t\t\tstack.push( obj );\n\t\t\t\t\tres = parser.call( this, obj, stack );\n\t\t\t\t\tstack.pop();\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t\treturn ( parserType === \"string\" ) ? parser : this.parsers.error;\n\t\t\t},\n\t\t\ttypeOf: function( obj ) {\n\t\t\t\tvar type;\n\t\t\t\tif ( obj === null ) {\n\t\t\t\t\ttype = \"null\";\n\t\t\t\t} else if ( typeof obj === \"undefined\" ) {\n\t\t\t\t\ttype = \"undefined\";\n\t\t\t\t} else if ( QUnit.is( \"regexp\", obj ) ) {\n\t\t\t\t\ttype = \"regexp\";\n\t\t\t\t} else if ( QUnit.is( \"date\", obj ) ) {\n\t\t\t\t\ttype = \"date\";\n\t\t\t\t} else if ( QUnit.is( \"function\", obj ) ) {\n\t\t\t\t\ttype = \"function\";\n\t\t\t\t} else if ( obj.setInterval !== undefined &&\n\t\t\t\t\t\tobj.document !== undefined &&\n\t\t\t\t\t\tobj.nodeType === undefined ) {\n\t\t\t\t\ttype = \"window\";\n\t\t\t\t} else if ( obj.nodeType === 9 ) {\n\t\t\t\t\ttype = \"document\";\n\t\t\t\t} else if ( obj.nodeType ) {\n\t\t\t\t\ttype = \"node\";\n\t\t\t\t} else if (\n\n\t\t\t\t\t// Native arrays\n\t\t\t\t\ttoString.call( obj ) === \"[object Array]\" ||\n\n\t\t\t\t\t// NodeList objects\n\t\t\t\t\t( typeof obj.length === \"number\" && obj.item !== undefined &&\n\t\t\t\t\t( obj.length ? obj.item( 0 ) === obj[ 0 ] : ( obj.item( 0 ) === null &&\n\t\t\t\t\tobj[ 0 ] === undefined ) ) )\n\t\t\t\t) {\n\t\t\t\t\ttype = \"array\";\n\t\t\t\t} else if ( obj.constructor === Error.prototype.constructor ) {\n\t\t\t\t\ttype = \"error\";\n\t\t\t\t} else {\n\t\t\t\t\ttype = typeof obj;\n\t\t\t\t}\n\t\t\t\treturn type;\n\t\t\t},\n\n\t\t\tseparator: function() {\n\t\t\t\treturn this.multiline ? this.HTML ? \"<br />\" : \"\\n\" : this.HTML ? \"&#160;\" : \" \";\n\t\t\t},\n\n\t\t\t// Extra can be a number, shortcut for increasing-calling-decreasing\n\t\t\tindent: function( extra ) {\n\t\t\t\tif ( !this.multiline ) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tvar chr = this.indentChar;\n\t\t\t\tif ( this.HTML ) {\n\t\t\t\t\tchr = chr.replace( /\\t/g, \"   \" ).replace( / /g, \"&#160;\" );\n\t\t\t\t}\n\t\t\t\treturn new Array( this.depth + ( extra || 0 ) ).join( chr );\n\t\t\t},\n\t\t\tup: function( a ) {\n\t\t\t\tthis.depth += a || 1;\n\t\t\t},\n\t\t\tdown: function( a ) {\n\t\t\t\tthis.depth -= a || 1;\n\t\t\t},\n\t\t\tsetParser: function( name, parser ) {\n\t\t\t\tthis.parsers[ name ] = parser;\n\t\t\t},\n\n\t\t\t// The next 3 are exposed so you can use them\n\t\t\tquote: quote,\n\t\t\tliteral: literal,\n\t\t\tjoin: join,\n\t\t\tdepth: 1,\n\t\t\tmaxDepth: QUnit.config.maxDepth,\n\n\t\t\t// This is the list of parsers, to modify them, use dump.setParser\n\t\t\tparsers: {\n\t\t\t\twindow: \"[Window]\",\n\t\t\t\tdocument: \"[Document]\",\n\t\t\t\terror: function( error ) {\n\t\t\t\t\treturn \"Error(\\\"\" + error.message + \"\\\")\";\n\t\t\t\t},\n\t\t\t\tunknown: \"[Unknown]\",\n\t\t\t\t\"null\": \"null\",\n\t\t\t\t\"undefined\": \"undefined\",\n\t\t\t\t\"function\": function( fn ) {\n\t\t\t\t\tvar ret = \"function\",\n\n\t\t\t\t\t\t// Functions never have name in IE\n\t\t\t\t\t\tname = \"name\" in fn ? fn.name : ( reName.exec( fn ) || [] )[ 1 ];\n\n\t\t\t\t\tif ( name ) {\n\t\t\t\t\t\tret += \" \" + name;\n\t\t\t\t\t}\n\t\t\t\t\tret += \"(\";\n\n\t\t\t\t\tret = [ ret, dump.parse( fn, \"functionArgs\" ), \"){\" ].join( \"\" );\n\t\t\t\t\treturn join( ret, dump.parse( fn, \"functionCode\" ), \"}\" );\n\t\t\t\t},\n\t\t\t\tarray: array,\n\t\t\t\tnodelist: array,\n\t\t\t\t\"arguments\": array,\n\t\t\t\tobject: function( map, stack ) {\n\t\t\t\t\tvar keys, key, val, i, nonEnumerableProperties,\n\t\t\t\t\t\tret = [];\n\n\t\t\t\t\tif ( dump.maxDepth && dump.depth > dump.maxDepth ) {\n\t\t\t\t\t\treturn \"[object Object]\";\n\t\t\t\t\t}\n\n\t\t\t\t\tdump.up();\n\t\t\t\t\tkeys = [];\n\t\t\t\t\tfor ( key in map ) {\n\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Some properties are not always enumerable on Error objects.\n\t\t\t\t\tnonEnumerableProperties = [ \"message\", \"name\" ];\n\t\t\t\t\tfor ( i in nonEnumerableProperties ) {\n\t\t\t\t\t\tkey = nonEnumerableProperties[ i ];\n\t\t\t\t\t\tif ( key in map && inArray( key, keys ) < 0 ) {\n\t\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tkeys.sort();\n\t\t\t\t\tfor ( i = 0; i < keys.length; i++ ) {\n\t\t\t\t\t\tkey = keys[ i ];\n\t\t\t\t\t\tval = map[ key ];\n\t\t\t\t\t\tret.push( dump.parse( key, \"key\" ) + \": \" +\n\t\t\t\t\t\t\tdump.parse( val, undefined, stack ) );\n\t\t\t\t\t}\n\t\t\t\t\tdump.down();\n\t\t\t\t\treturn join( \"{\", ret, \"}\" );\n\t\t\t\t},\n\t\t\t\tnode: function( node ) {\n\t\t\t\t\tvar len, i, val,\n\t\t\t\t\t\topen = dump.HTML ? \"&lt;\" : \"<\",\n\t\t\t\t\t\tclose = dump.HTML ? \"&gt;\" : \">\",\n\t\t\t\t\t\ttag = node.nodeName.toLowerCase(),\n\t\t\t\t\t\tret = open + tag,\n\t\t\t\t\t\tattrs = node.attributes;\n\n\t\t\t\t\tif ( attrs ) {\n\t\t\t\t\t\tfor ( i = 0, len = attrs.length; i < len; i++ ) {\n\t\t\t\t\t\t\tval = attrs[ i ].nodeValue;\n\n\t\t\t\t\t\t\t// IE6 includes all attributes in .attributes, even ones not explicitly\n\t\t\t\t\t\t\t// set. Those have values like undefined, null, 0, false, \"\" or\n\t\t\t\t\t\t\t// \"inherit\".\n\t\t\t\t\t\t\tif ( val && val !== \"inherit\" ) {\n\t\t\t\t\t\t\t\tret += \" \" + attrs[ i ].nodeName + \"=\" +\n\t\t\t\t\t\t\t\t\tdump.parse( val, \"attribute\" );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tret += close;\n\n\t\t\t\t\t// Show content of TextNode or CDATASection\n\t\t\t\t\tif ( node.nodeType === 3 || node.nodeType === 4 ) {\n\t\t\t\t\t\tret += node.nodeValue;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ret + open + \"/\" + tag + close;\n\t\t\t\t},\n\n\t\t\t\t// Function calls it internally, it's the arguments part of the function\n\t\t\t\tfunctionArgs: function( fn ) {\n\t\t\t\t\tvar args,\n\t\t\t\t\t\tl = fn.length;\n\n\t\t\t\t\tif ( !l ) {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\targs = new Array( l );\n\t\t\t\t\twhile ( l-- ) {\n\n\t\t\t\t\t\t// 97 is 'a'\n\t\t\t\t\t\targs[ l ] = String.fromCharCode( 97 + l );\n\t\t\t\t\t}\n\t\t\t\t\treturn \" \" + args.join( \", \" ) + \" \";\n\t\t\t\t},\n\n\t\t\t\t// Object calls it internally, the key part of an item in a map\n\t\t\t\tkey: quote,\n\n\t\t\t\t// Function calls it internally, it's the content of the function\n\t\t\t\tfunctionCode: \"[code]\",\n\n\t\t\t\t// Node calls it internally, it's a html attribute value\n\t\t\t\tattribute: quote,\n\t\t\t\tstring: quote,\n\t\t\t\tdate: quote,\n\t\t\t\tregexp: literal,\n\t\t\t\tnumber: literal,\n\t\t\t\t\"boolean\": literal\n\t\t\t},\n\n\t\t\t// If true, entities are escaped ( <, >, \\t, space and \\n )\n\t\t\tHTML: false,\n\n\t\t\t// Indentation unit\n\t\t\tindentChar: \"  \",\n\n\t\t\t// If true, items in a collection, are separated by a \\n, else just a space.\n\t\t\tmultiline: true\n\t\t};\n\n\treturn dump;\n}() );\n\n// Back compat\nQUnit.jsDump = QUnit.dump;\n\n// Deprecated\n// Extend assert methods to QUnit for Backwards compatibility\n( function() {\n\tvar i,\n\t\tassertions = Assert.prototype;\n\n\tfunction applyCurrent( current ) {\n\t\treturn function() {\n\t\t\tvar assert = new Assert( QUnit.config.current );\n\t\t\tcurrent.apply( assert, arguments );\n\t\t};\n\t}\n\n\tfor ( i in assertions ) {\n\t\tQUnit[ i ] = applyCurrent( assertions[ i ] );\n\t}\n}() );\n\n// For browser, export only select globals\nif ( defined.document ) {\n\n\t( function() {\n\t\tvar i, l,\n\t\t\tkeys = [\n\t\t\t\t\"test\",\n\t\t\t\t\"module\",\n\t\t\t\t\"expect\",\n\t\t\t\t\"asyncTest\",\n\t\t\t\t\"start\",\n\t\t\t\t\"stop\",\n\t\t\t\t\"ok\",\n\t\t\t\t\"notOk\",\n\t\t\t\t\"equal\",\n\t\t\t\t\"notEqual\",\n\t\t\t\t\"propEqual\",\n\t\t\t\t\"notPropEqual\",\n\t\t\t\t\"deepEqual\",\n\t\t\t\t\"notDeepEqual\",\n\t\t\t\t\"strictEqual\",\n\t\t\t\t\"notStrictEqual\",\n\t\t\t\t\"throws\",\n\t\t\t\t\"raises\"\n\t\t\t];\n\n\t\tfor ( i = 0, l = keys.length; i < l; i++ ) {\n\t\t\twindow[ keys[ i ] ] = QUnit[ keys[ i ] ];\n\t\t}\n\t}() );\n\n\twindow.QUnit = QUnit;\n}\n\n// For nodejs\nif ( typeof module !== \"undefined\" && module && module.exports ) {\n\tmodule.exports = QUnit;\n\n\t// For consistency with CommonJS environments' exports\n\tmodule.exports.QUnit = QUnit;\n}\n\n// For CommonJS with exports, but without module.exports, like Rhino\nif ( typeof exports !== \"undefined\" && exports ) {\n\texports.QUnit = QUnit;\n}\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( function() {\n\t\treturn QUnit;\n\t} );\n\tQUnit.config.autostart = false;\n}\n\n// Get a reference to the global object, like window in browsers\n}( ( function() {\n\treturn this;\n}() ) ) );\n\n( function() {\n\n// Only interact with URLs via window.location\nvar location = typeof window !== \"undefined\" && window.location;\nif ( !location ) {\n\treturn;\n}\n\nvar urlParams = getUrlParams();\n\nQUnit.urlParams = urlParams;\n\n// Match module/test by inclusion in an array\nQUnit.config.moduleId = [].concat( urlParams.moduleId || [] );\nQUnit.config.testId = [].concat( urlParams.testId || [] );\n\n// Exact case-insensitive match of the module name\nQUnit.config.module = urlParams.module;\n\n// Regular expression or case-insenstive substring match against \"moduleName: testName\"\nQUnit.config.filter = urlParams.filter;\n\n// Test order randomization\nif ( urlParams.seed === true ) {\n\n\t// Generate a random seed if the option is specified without a value\n\tQUnit.config.seed = Math.random().toString( 36 ).slice( 2 );\n} else if ( urlParams.seed ) {\n\tQUnit.config.seed = urlParams.seed;\n}\n\n// Add URL-parameter-mapped config values with UI form rendering data\nQUnit.config.urlConfig.push(\n\t{\n\t\tid: \"hidepassed\",\n\t\tlabel: \"Hide passed tests\",\n\t\ttooltip: \"Only show tests and assertions that fail. Stored as query-strings.\"\n\t},\n\t{\n\t\tid: \"noglobals\",\n\t\tlabel: \"Check for Globals\",\n\t\ttooltip: \"Enabling this will test if any test introduces new properties on the \" +\n\t\t\t\"global object (`window` in Browsers). Stored as query-strings.\"\n\t},\n\t{\n\t\tid: \"notrycatch\",\n\t\tlabel: \"No try-catch\",\n\t\ttooltip: \"Enabling this will run tests outside of a try-catch block. Makes debugging \" +\n\t\t\t\"exceptions in IE reasonable. Stored as query-strings.\"\n\t}\n);\n\nQUnit.begin( function() {\n\tvar i, option,\n\t\turlConfig = QUnit.config.urlConfig;\n\n\tfor ( i = 0; i < urlConfig.length; i++ ) {\n\n\t\t// Options can be either strings or objects with nonempty \"id\" properties\n\t\toption = QUnit.config.urlConfig[ i ];\n\t\tif ( typeof option !== \"string\" ) {\n\t\t\toption = option.id;\n\t\t}\n\n\t\tif ( QUnit.config[ option ] === undefined ) {\n\t\t\tQUnit.config[ option ] = urlParams[ option ];\n\t\t}\n\t}\n} );\n\nfunction getUrlParams() {\n\tvar i, param, name, value;\n\tvar urlParams = {};\n\tvar params = location.search.slice( 1 ).split( \"&\" );\n\tvar length = params.length;\n\n\tfor ( i = 0; i < length; i++ ) {\n\t\tif ( params[ i ] ) {\n\t\t\tparam = params[ i ].split( \"=\" );\n\t\t\tname = decodeURIComponent( param[ 0 ] );\n\n\t\t\t// Allow just a key to turn on a flag, e.g., test.html?noglobals\n\t\t\tvalue = param.length === 1 ||\n\t\t\t\tdecodeURIComponent( param.slice( 1 ).join( \"=\" ) ) ;\n\t\t\tif ( urlParams[ name ] ) {\n\t\t\t\turlParams[ name ] = [].concat( urlParams[ name ], value );\n\t\t\t} else {\n\t\t\t\turlParams[ name ] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn urlParams;\n}\n\n// Don't load the HTML Reporter on non-browser environments\nif ( typeof window === \"undefined\" || !window.document ) {\n\treturn;\n}\n\n// Deprecated QUnit.init - Ref #530\n// Re-initialize the configuration options\nQUnit.init = function() {\n\tvar config = QUnit.config;\n\n\tconfig.stats = { all: 0, bad: 0 };\n\tconfig.moduleStats = { all: 0, bad: 0 };\n\tconfig.started = 0;\n\tconfig.updateRate = 1000;\n\tconfig.blocking = false;\n\tconfig.autostart = true;\n\tconfig.autorun = false;\n\tconfig.filter = \"\";\n\tconfig.queue = [];\n\n\tappendInterface();\n};\n\nvar config = QUnit.config,\n\tdocument = window.document,\n\tcollapseNext = false,\n\thasOwn = Object.prototype.hasOwnProperty,\n\tunfilteredUrl = setUrl( { filter: undefined, module: undefined,\n\t\tmoduleId: undefined, testId: undefined } ),\n\tdefined = {\n\t\tsessionStorage: ( function() {\n\t\t\tvar x = \"qunit-test-string\";\n\t\t\ttry {\n\t\t\t\tsessionStorage.setItem( x, x );\n\t\t\t\tsessionStorage.removeItem( x );\n\t\t\t\treturn true;\n\t\t\t} catch ( e ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}() )\n\t},\n\tmodulesList = [];\n\n/**\n* Escape text for attribute or text content.\n*/\nfunction escapeText( s ) {\n\tif ( !s ) {\n\t\treturn \"\";\n\t}\n\ts = s + \"\";\n\n\t// Both single quotes and double quotes (for attributes)\n\treturn s.replace( /['\"<>&]/g, function( s ) {\n\t\tswitch ( s ) {\n\t\tcase \"'\":\n\t\t\treturn \"&#039;\";\n\t\tcase \"\\\"\":\n\t\t\treturn \"&quot;\";\n\t\tcase \"<\":\n\t\t\treturn \"&lt;\";\n\t\tcase \">\":\n\t\t\treturn \"&gt;\";\n\t\tcase \"&\":\n\t\t\treturn \"&amp;\";\n\t\t}\n\t} );\n}\n\n/**\n * @param {HTMLElement} elem\n * @param {string} type\n * @param {Function} fn\n */\nfunction addEvent( elem, type, fn ) {\n\tif ( elem.addEventListener ) {\n\n\t\t// Standards-based browsers\n\t\telem.addEventListener( type, fn, false );\n\t} else if ( elem.attachEvent ) {\n\n\t\t// Support: IE <9\n\t\telem.attachEvent( \"on\" + type, function() {\n\t\t\tvar event = window.event;\n\t\t\tif ( !event.target ) {\n\t\t\t\tevent.target = event.srcElement || document;\n\t\t\t}\n\n\t\t\tfn.call( elem, event );\n\t\t} );\n\t}\n}\n\n/**\n * @param {Array|NodeList} elems\n * @param {string} type\n * @param {Function} fn\n */\nfunction addEvents( elems, type, fn ) {\n\tvar i = elems.length;\n\twhile ( i-- ) {\n\t\taddEvent( elems[ i ], type, fn );\n\t}\n}\n\nfunction hasClass( elem, name ) {\n\treturn ( \" \" + elem.className + \" \" ).indexOf( \" \" + name + \" \" ) >= 0;\n}\n\nfunction addClass( elem, name ) {\n\tif ( !hasClass( elem, name ) ) {\n\t\telem.className += ( elem.className ? \" \" : \"\" ) + name;\n\t}\n}\n\nfunction toggleClass( elem, name, force ) {\n\tif ( force || typeof force === \"undefined\" && !hasClass( elem, name ) ) {\n\t\taddClass( elem, name );\n\t} else {\n\t\tremoveClass( elem, name );\n\t}\n}\n\nfunction removeClass( elem, name ) {\n\tvar set = \" \" + elem.className + \" \";\n\n\t// Class name may appear multiple times\n\twhile ( set.indexOf( \" \" + name + \" \" ) >= 0 ) {\n\t\tset = set.replace( \" \" + name + \" \", \" \" );\n\t}\n\n\t// Trim for prettiness\n\telem.className = typeof set.trim === \"function\" ? set.trim() : set.replace( /^\\s+|\\s+$/g, \"\" );\n}\n\nfunction id( name ) {\n\treturn document.getElementById && document.getElementById( name );\n}\n\nfunction getUrlConfigHtml() {\n\tvar i, j, val,\n\t\tescaped, escapedTooltip,\n\t\tselection = false,\n\t\turlConfig = config.urlConfig,\n\t\turlConfigHtml = \"\";\n\n\tfor ( i = 0; i < urlConfig.length; i++ ) {\n\n\t\t// Options can be either strings or objects with nonempty \"id\" properties\n\t\tval = config.urlConfig[ i ];\n\t\tif ( typeof val === \"string\" ) {\n\t\t\tval = {\n\t\t\t\tid: val,\n\t\t\t\tlabel: val\n\t\t\t};\n\t\t}\n\n\t\tescaped = escapeText( val.id );\n\t\tescapedTooltip = escapeText( val.tooltip );\n\n\t\tif ( !val.value || typeof val.value === \"string\" ) {\n\t\t\turlConfigHtml += \"<input id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' type='checkbox'\" +\n\t\t\t\t( val.value ? \" value='\" + escapeText( val.value ) + \"'\" : \"\" ) +\n\t\t\t\t( config[ val.id ] ? \" checked='checked'\" : \"\" ) +\n\t\t\t\t\" title='\" + escapedTooltip + \"' /><label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'>\" + val.label + \"</label>\";\n\t\t} else {\n\t\t\turlConfigHtml += \"<label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'>\" + val.label +\n\t\t\t\t\": </label><select id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' title='\" + escapedTooltip + \"'><option></option>\";\n\n\t\t\tif ( QUnit.is( \"array\", val.value ) ) {\n\t\t\t\tfor ( j = 0; j < val.value.length; j++ ) {\n\t\t\t\t\tescaped = escapeText( val.value[ j ] );\n\t\t\t\t\turlConfigHtml += \"<option value='\" + escaped + \"'\" +\n\t\t\t\t\t\t( config[ val.id ] === val.value[ j ] ?\n\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + escaped + \"</option>\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( j in val.value ) {\n\t\t\t\t\tif ( hasOwn.call( val.value, j ) ) {\n\t\t\t\t\t\turlConfigHtml += \"<option value='\" + escapeText( j ) + \"'\" +\n\t\t\t\t\t\t\t( config[ val.id ] === j ?\n\t\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\t\">\" + escapeText( val.value[ j ] ) + \"</option>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( config[ val.id ] && !selection ) {\n\t\t\t\tescaped = escapeText( config[ val.id ] );\n\t\t\t\turlConfigHtml += \"<option value='\" + escaped +\n\t\t\t\t\t\"' selected='selected' disabled='disabled'>\" + escaped + \"</option>\";\n\t\t\t}\n\t\t\turlConfigHtml += \"</select>\";\n\t\t}\n\t}\n\n\treturn urlConfigHtml;\n}\n\n// Handle \"click\" events on toolbar checkboxes and \"change\" for select menus.\n// Updates the URL with the new state of `config.urlConfig` values.\nfunction toolbarChanged() {\n\tvar updatedUrl, value, tests,\n\t\tfield = this,\n\t\tparams = {};\n\n\t// Detect if field is a select menu or a checkbox\n\tif ( \"selectedIndex\" in field ) {\n\t\tvalue = field.options[ field.selectedIndex ].value || undefined;\n\t} else {\n\t\tvalue = field.checked ? ( field.defaultValue || true ) : undefined;\n\t}\n\n\tparams[ field.name ] = value;\n\tupdatedUrl = setUrl( params );\n\n\t// Check if we can apply the change without a page refresh\n\tif ( \"hidepassed\" === field.name && \"replaceState\" in window.history ) {\n\t\tQUnit.urlParams[ field.name ] = value;\n\t\tconfig[ field.name ] = value || false;\n\t\ttests = id( \"qunit-tests\" );\n\t\tif ( tests ) {\n\t\t\ttoggleClass( tests, \"hidepass\", value || false );\n\t\t}\n\t\twindow.history.replaceState( null, \"\", updatedUrl );\n\t} else {\n\t\twindow.location = updatedUrl;\n\t}\n}\n\nfunction setUrl( params ) {\n\tvar key, arrValue, i,\n\t\tquerystring = \"?\",\n\t\tlocation = window.location;\n\n\tparams = QUnit.extend( QUnit.extend( {}, QUnit.urlParams ), params );\n\n\tfor ( key in params ) {\n\n\t\t// Skip inherited or undefined properties\n\t\tif ( hasOwn.call( params, key ) && params[ key ] !== undefined ) {\n\n\t\t\t// Output a parameter for each value of this key (but usually just one)\n\t\t\tarrValue = [].concat( params[ key ] );\n\t\t\tfor ( i = 0; i < arrValue.length; i++ ) {\n\t\t\t\tquerystring += encodeURIComponent( key );\n\t\t\t\tif ( arrValue[ i ] !== true ) {\n\t\t\t\t\tquerystring += \"=\" + encodeURIComponent( arrValue[ i ] );\n\t\t\t\t}\n\t\t\t\tquerystring += \"&\";\n\t\t\t}\n\t\t}\n\t}\n\treturn location.protocol + \"//\" + location.host +\n\t\tlocation.pathname + querystring.slice( 0, -1 );\n}\n\nfunction applyUrlParams() {\n\tvar selectedModule,\n\t\tmodulesList = id( \"qunit-modulefilter\" ),\n\t\tfilter = id( \"qunit-filter-input\" ).value;\n\n\tselectedModule = modulesList ?\n\t\tdecodeURIComponent( modulesList.options[ modulesList.selectedIndex ].value ) :\n\t\tundefined;\n\n\twindow.location = setUrl( {\n\t\tmodule: ( selectedModule === \"\" ) ? undefined : selectedModule,\n\t\tfilter: ( filter === \"\" ) ? undefined : filter,\n\n\t\t// Remove moduleId and testId filters\n\t\tmoduleId: undefined,\n\t\ttestId: undefined\n\t} );\n}\n\nfunction toolbarUrlConfigContainer() {\n\tvar urlConfigContainer = document.createElement( \"span\" );\n\n\turlConfigContainer.innerHTML = getUrlConfigHtml();\n\taddClass( urlConfigContainer, \"qunit-url-config\" );\n\n\t// For oldIE support:\n\t// * Add handlers to the individual elements instead of the container\n\t// * Use \"click\" instead of \"change\" for checkboxes\n\taddEvents( urlConfigContainer.getElementsByTagName( \"input\" ), \"click\", toolbarChanged );\n\taddEvents( urlConfigContainer.getElementsByTagName( \"select\" ), \"change\", toolbarChanged );\n\n\treturn urlConfigContainer;\n}\n\nfunction toolbarLooseFilter() {\n\tvar filter = document.createElement( \"form\" ),\n\t\tlabel = document.createElement( \"label\" ),\n\t\tinput = document.createElement( \"input\" ),\n\t\tbutton = document.createElement( \"button\" );\n\n\taddClass( filter, \"qunit-filter\" );\n\n\tlabel.innerHTML = \"Filter: \";\n\n\tinput.type = \"text\";\n\tinput.value = config.filter || \"\";\n\tinput.name = \"filter\";\n\tinput.id = \"qunit-filter-input\";\n\n\tbutton.innerHTML = \"Go\";\n\n\tlabel.appendChild( input );\n\n\tfilter.appendChild( label );\n\tfilter.appendChild( button );\n\taddEvent( filter, \"submit\", function( ev ) {\n\t\tapplyUrlParams();\n\n\t\tif ( ev && ev.preventDefault ) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\treturn false;\n\t} );\n\n\treturn filter;\n}\n\nfunction toolbarModuleFilterHtml() {\n\tvar i,\n\t\tmoduleFilterHtml = \"\";\n\n\tif ( !modulesList.length ) {\n\t\treturn false;\n\t}\n\n\tmoduleFilterHtml += \"<label for='qunit-modulefilter'>Module: </label>\" +\n\t\t\"<select id='qunit-modulefilter' name='modulefilter'><option value='' \" +\n\t\t( QUnit.urlParams.module === undefined ? \"selected='selected'\" : \"\" ) +\n\t\t\">< All Modules ></option>\";\n\n\tfor ( i = 0; i < modulesList.length; i++ ) {\n\t\tmoduleFilterHtml += \"<option value='\" +\n\t\t\tescapeText( encodeURIComponent( modulesList[ i ] ) ) + \"' \" +\n\t\t\t( QUnit.urlParams.module === modulesList[ i ] ? \"selected='selected'\" : \"\" ) +\n\t\t\t\">\" + escapeText( modulesList[ i ] ) + \"</option>\";\n\t}\n\tmoduleFilterHtml += \"</select>\";\n\n\treturn moduleFilterHtml;\n}\n\nfunction toolbarModuleFilter() {\n\tvar toolbar = id( \"qunit-testrunner-toolbar\" ),\n\t\tmoduleFilter = document.createElement( \"span\" ),\n\t\tmoduleFilterHtml = toolbarModuleFilterHtml();\n\n\tif ( !toolbar || !moduleFilterHtml ) {\n\t\treturn false;\n\t}\n\n\tmoduleFilter.setAttribute( \"id\", \"qunit-modulefilter-container\" );\n\tmoduleFilter.innerHTML = moduleFilterHtml;\n\n\taddEvent( moduleFilter.lastChild, \"change\", applyUrlParams );\n\n\ttoolbar.appendChild( moduleFilter );\n}\n\nfunction appendToolbar() {\n\tvar toolbar = id( \"qunit-testrunner-toolbar\" );\n\n\tif ( toolbar ) {\n\t\ttoolbar.appendChild( toolbarUrlConfigContainer() );\n\t\ttoolbar.appendChild( toolbarLooseFilter() );\n\t\ttoolbarModuleFilter();\n\t}\n}\n\nfunction appendHeader() {\n\tvar header = id( \"qunit-header\" );\n\n\tif ( header ) {\n\t\theader.innerHTML = \"<a href='\" + escapeText( unfilteredUrl ) + \"'>\" + header.innerHTML +\n\t\t\t\"</a> \";\n\t}\n}\n\nfunction appendBanner() {\n\tvar banner = id( \"qunit-banner\" );\n\n\tif ( banner ) {\n\t\tbanner.className = \"\";\n\t}\n}\n\nfunction appendTestResults() {\n\tvar tests = id( \"qunit-tests\" ),\n\t\tresult = id( \"qunit-testresult\" );\n\n\tif ( result ) {\n\t\tresult.parentNode.removeChild( result );\n\t}\n\n\tif ( tests ) {\n\t\ttests.innerHTML = \"\";\n\t\tresult = document.createElement( \"p\" );\n\t\tresult.id = \"qunit-testresult\";\n\t\tresult.className = \"result\";\n\t\ttests.parentNode.insertBefore( result, tests );\n\t\tresult.innerHTML = \"Running...<br />&#160;\";\n\t}\n}\n\nfunction storeFixture() {\n\tvar fixture = id( \"qunit-fixture\" );\n\tif ( fixture ) {\n\t\tconfig.fixture = fixture.innerHTML;\n\t}\n}\n\nfunction appendFilteredTest() {\n\tvar testId = QUnit.config.testId;\n\tif ( !testId || testId.length <= 0 ) {\n\t\treturn \"\";\n\t}\n\treturn \"<div id='qunit-filteredTest'>Rerunning selected tests: \" +\n\t\tescapeText( testId.join( \", \" ) ) +\n\t\t\" <a id='qunit-clearFilter' href='\" +\n\t\tescapeText( unfilteredUrl ) +\n\t\t\"'>Run all tests</a></div>\";\n}\n\nfunction appendUserAgent() {\n\tvar userAgent = id( \"qunit-userAgent\" );\n\n\tif ( userAgent ) {\n\t\tuserAgent.innerHTML = \"\";\n\t\tuserAgent.appendChild(\n\t\t\tdocument.createTextNode(\n\t\t\t\t\"QUnit \" + QUnit.version + \"; \" + navigator.userAgent\n\t\t\t)\n\t\t);\n\t}\n}\n\nfunction appendInterface() {\n\tvar qunit = id( \"qunit\" );\n\n\tif ( qunit ) {\n\t\tqunit.innerHTML =\n\t\t\t\"<h1 id='qunit-header'>\" + escapeText( document.title ) + \"</h1>\" +\n\t\t\t\"<h2 id='qunit-banner'></h2>\" +\n\t\t\t\"<div id='qunit-testrunner-toolbar'></div>\" +\n\t\t\tappendFilteredTest() +\n\t\t\t\"<h2 id='qunit-userAgent'></h2>\" +\n\t\t\t\"<ol id='qunit-tests'></ol>\";\n\t}\n\n\tappendHeader();\n\tappendBanner();\n\tappendTestResults();\n\tappendUserAgent();\n\tappendToolbar();\n}\n\nfunction appendTestsList( modules ) {\n\tvar i, l, x, z, test, moduleObj;\n\n\tfor ( i = 0, l = modules.length; i < l; i++ ) {\n\t\tmoduleObj = modules[ i ];\n\n\t\tfor ( x = 0, z = moduleObj.tests.length; x < z; x++ ) {\n\t\t\ttest = moduleObj.tests[ x ];\n\n\t\t\tappendTest( test.name, test.testId, moduleObj.name );\n\t\t}\n\t}\n}\n\nfunction appendTest( name, testId, moduleName ) {\n\tvar title, rerunTrigger, testBlock, assertList,\n\t\ttests = id( \"qunit-tests\" );\n\n\tif ( !tests ) {\n\t\treturn;\n\t}\n\n\ttitle = document.createElement( \"strong\" );\n\ttitle.innerHTML = getNameHtml( name, moduleName );\n\n\trerunTrigger = document.createElement( \"a\" );\n\trerunTrigger.innerHTML = \"Rerun\";\n\trerunTrigger.href = setUrl( { testId: testId } );\n\n\ttestBlock = document.createElement( \"li\" );\n\ttestBlock.appendChild( title );\n\ttestBlock.appendChild( rerunTrigger );\n\ttestBlock.id = \"qunit-test-output-\" + testId;\n\n\tassertList = document.createElement( \"ol\" );\n\tassertList.className = \"qunit-assert-list\";\n\n\ttestBlock.appendChild( assertList );\n\n\ttests.appendChild( testBlock );\n}\n\n// HTML Reporter initialization and load\nQUnit.begin( function( details ) {\n\tvar i, moduleObj, tests;\n\n\t// Sort modules by name for the picker\n\tfor ( i = 0; i < details.modules.length; i++ ) {\n\t\tmoduleObj = details.modules[ i ];\n\t\tif ( moduleObj.name ) {\n\t\t\tmodulesList.push( moduleObj.name );\n\t\t}\n\t}\n\tmodulesList.sort( function( a, b ) {\n\t\treturn a.localeCompare( b );\n\t} );\n\n\t// Capture fixture HTML from the page\n\tstoreFixture();\n\n\t// Initialize QUnit elements\n\tappendInterface();\n\tappendTestsList( details.modules );\n\ttests = id( \"qunit-tests\" );\n\tif ( tests && config.hidepassed ) {\n\t\taddClass( tests, \"hidepass\" );\n\t}\n} );\n\nQUnit.done( function( details ) {\n\tvar i, key,\n\t\tbanner = id( \"qunit-banner\" ),\n\t\ttests = id( \"qunit-tests\" ),\n\t\thtml = [\n\t\t\t\"Tests completed in \",\n\t\t\tdetails.runtime,\n\t\t\t\" milliseconds.<br />\",\n\t\t\t\"<span class='passed'>\",\n\t\t\tdetails.passed,\n\t\t\t\"</span> assertions of <span class='total'>\",\n\t\t\tdetails.total,\n\t\t\t\"</span> passed, <span class='failed'>\",\n\t\t\tdetails.failed,\n\t\t\t\"</span> failed.\"\n\t\t].join( \"\" );\n\n\tif ( banner ) {\n\t\tbanner.className = details.failed ? \"qunit-fail\" : \"qunit-pass\";\n\t}\n\n\tif ( tests ) {\n\t\tid( \"qunit-testresult\" ).innerHTML = html;\n\t}\n\n\tif ( config.altertitle && document.title ) {\n\n\t\t// Show ✖ for good, ✔ for bad suite result in title\n\t\t// use escape sequences in case file gets loaded with non-utf-8-charset\n\t\tdocument.title = [\n\t\t\t( details.failed ? \"\\u2716\" : \"\\u2714\" ),\n\t\t\tdocument.title.replace( /^[\\u2714\\u2716] /i, \"\" )\n\t\t].join( \" \" );\n\t}\n\n\t// Clear own sessionStorage items if all tests passed\n\tif ( config.reorder && defined.sessionStorage && details.failed === 0 ) {\n\t\tfor ( i = 0; i < sessionStorage.length; i++ ) {\n\t\t\tkey = sessionStorage.key( i++ );\n\t\t\tif ( key.indexOf( \"qunit-test-\" ) === 0 ) {\n\t\t\t\tsessionStorage.removeItem( key );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Scroll back to top to show results\n\tif ( config.scrolltop && window.scrollTo ) {\n\t\twindow.scrollTo( 0, 0 );\n\t}\n} );\n\nfunction getNameHtml( name, module ) {\n\tvar nameHtml = \"\";\n\n\tif ( module ) {\n\t\tnameHtml = \"<span class='module-name'>\" + escapeText( module ) + \"</span>: \";\n\t}\n\n\tnameHtml += \"<span class='test-name'>\" + escapeText( name ) + \"</span>\";\n\n\treturn nameHtml;\n}\n\nQUnit.testStart( function( details ) {\n\tvar running, testBlock, bad;\n\n\ttestBlock = id( \"qunit-test-output-\" + details.testId );\n\tif ( testBlock ) {\n\t\ttestBlock.className = \"running\";\n\t} else {\n\n\t\t// Report later registered tests\n\t\tappendTest( details.name, details.testId, details.module );\n\t}\n\n\trunning = id( \"qunit-testresult\" );\n\tif ( running ) {\n\t\tbad = QUnit.config.reorder && defined.sessionStorage &&\n\t\t\t+sessionStorage.getItem( \"qunit-test-\" + details.module + \"-\" + details.name );\n\n\t\trunning.innerHTML = ( bad ?\n\t\t\t\"Rerunning previously failed test: <br />\" :\n\t\t\t\"Running: <br />\" ) +\n\t\t\tgetNameHtml( details.name, details.module );\n\t}\n\n} );\n\nfunction stripHtml( string ) {\n\n\t// Strip tags, html entity and whitespaces\n\treturn string.replace( /<\\/?[^>]+(>|$)/g, \"\" ).replace( /\\&quot;/g, \"\" ).replace( /\\s+/g, \"\" );\n}\n\nQUnit.log( function( details ) {\n\tvar assertList, assertLi,\n\t\tmessage, expected, actual, diff,\n\t\tshowDiff = false,\n\t\ttestItem = id( \"qunit-test-output-\" + details.testId );\n\n\tif ( !testItem ) {\n\t\treturn;\n\t}\n\n\tmessage = escapeText( details.message ) || ( details.result ? \"okay\" : \"failed\" );\n\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\tmessage += \"<span class='runtime'>@ \" + details.runtime + \" ms</span>\";\n\n\t// The pushFailure doesn't provide details.expected\n\t// when it calls, it's implicit to also not show expected and diff stuff\n\t// Also, we need to check details.expected existence, as it can exist and be undefined\n\tif ( !details.result && hasOwn.call( details, \"expected\" ) ) {\n\t\tif ( details.negative ) {\n\t\t\texpected = \"NOT \" + QUnit.dump.parse( details.expected );\n\t\t} else {\n\t\t\texpected = QUnit.dump.parse( details.expected );\n\t\t}\n\n\t\tactual = QUnit.dump.parse( details.actual );\n\t\tmessage += \"<table><tr class='test-expected'><th>Expected: </th><td><pre>\" +\n\t\t\tescapeText( expected ) +\n\t\t\t\"</pre></td></tr>\";\n\n\t\tif ( actual !== expected ) {\n\n\t\t\tmessage += \"<tr class='test-actual'><th>Result: </th><td><pre>\" +\n\t\t\t\tescapeText( actual ) + \"</pre></td></tr>\";\n\n\t\t\t// Don't show diff if actual or expected are booleans\n\t\t\tif ( !( /^(true|false)$/.test( actual ) ) &&\n\t\t\t\t\t!( /^(true|false)$/.test( expected ) ) ) {\n\t\t\t\tdiff = QUnit.diff( expected, actual );\n\t\t\t\tshowDiff = stripHtml( diff ).length !==\n\t\t\t\t\tstripHtml( expected ).length +\n\t\t\t\t\tstripHtml( actual ).length;\n\t\t\t}\n\n\t\t\t// Don't show diff if expected and actual are totally different\n\t\t\tif ( showDiff ) {\n\t\t\t\tmessage += \"<tr class='test-diff'><th>Diff: </th><td><pre>\" +\n\t\t\t\t\tdiff + \"</pre></td></tr>\";\n\t\t\t}\n\t\t} else if ( expected.indexOf( \"[object Array]\" ) !== -1 ||\n\t\t\t\texpected.indexOf( \"[object Object]\" ) !== -1 ) {\n\t\t\tmessage += \"<tr class='test-message'><th>Message: </th><td>\" +\n\t\t\t\t\"Diff suppressed as the depth of object is more than current max depth (\" +\n\t\t\t\tQUnit.config.maxDepth + \").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to \" +\n\t\t\t\t\" run with a higher max depth or <a href='\" +\n\t\t\t\tescapeText( setUrl( { maxDepth: -1 } ) ) + \"'>\" +\n\t\t\t\t\"Rerun</a> without max depth.</p></td></tr>\";\n\t\t} else {\n\t\t\tmessage += \"<tr class='test-message'><th>Message: </th><td>\" +\n\t\t\t\t\"Diff suppressed as the expected and actual results have an equivalent\" +\n\t\t\t\t\" serialization</td></tr>\";\n\t\t}\n\n\t\tif ( details.source ) {\n\t\t\tmessage += \"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\t\tescapeText( details.source ) + \"</pre></td></tr>\";\n\t\t}\n\n\t\tmessage += \"</table>\";\n\n\t// This occurs when pushFailure is set and we have an extracted stack trace\n\t} else if ( !details.result && details.source ) {\n\t\tmessage += \"<table>\" +\n\t\t\t\"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\tescapeText( details.source ) + \"</pre></td></tr>\" +\n\t\t\t\"</table>\";\n\t}\n\n\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\tassertLi = document.createElement( \"li\" );\n\tassertLi.className = details.result ? \"pass\" : \"fail\";\n\tassertLi.innerHTML = message;\n\tassertList.appendChild( assertLi );\n} );\n\nQUnit.testDone( function( details ) {\n\tvar testTitle, time, testItem, assertList,\n\t\tgood, bad, testCounts, skipped, sourceName,\n\t\ttests = id( \"qunit-tests\" );\n\n\tif ( !tests ) {\n\t\treturn;\n\t}\n\n\ttestItem = id( \"qunit-test-output-\" + details.testId );\n\n\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\tgood = details.passed;\n\tbad = details.failed;\n\n\t// Store result when possible\n\tif ( config.reorder && defined.sessionStorage ) {\n\t\tif ( bad ) {\n\t\t\tsessionStorage.setItem( \"qunit-test-\" + details.module + \"-\" + details.name, bad );\n\t\t} else {\n\t\t\tsessionStorage.removeItem( \"qunit-test-\" + details.module + \"-\" + details.name );\n\t\t}\n\t}\n\n\tif ( bad === 0 ) {\n\n\t\t// Collapse the passing tests\n\t\taddClass( assertList, \"qunit-collapsed\" );\n\t} else if ( bad && config.collapse && !collapseNext ) {\n\n\t\t// Skip collapsing the first failing test\n\t\tcollapseNext = true;\n\t} else {\n\n\t\t// Collapse remaining tests\n\t\taddClass( assertList, \"qunit-collapsed\" );\n\t}\n\n\t// The testItem.firstChild is the test name\n\ttestTitle = testItem.firstChild;\n\n\ttestCounts = bad ?\n\t\t\"<b class='failed'>\" + bad + \"</b>, \" + \"<b class='passed'>\" + good + \"</b>, \" :\n\t\t\"\";\n\n\ttestTitle.innerHTML += \" <b class='counts'>(\" + testCounts +\n\t\tdetails.assertions.length + \")</b>\";\n\n\tif ( details.skipped ) {\n\t\ttestItem.className = \"skipped\";\n\t\tskipped = document.createElement( \"em\" );\n\t\tskipped.className = \"qunit-skipped-label\";\n\t\tskipped.innerHTML = \"skipped\";\n\t\ttestItem.insertBefore( skipped, testTitle );\n\t} else {\n\t\taddEvent( testTitle, \"click\", function() {\n\t\t\ttoggleClass( assertList, \"qunit-collapsed\" );\n\t\t} );\n\n\t\ttestItem.className = bad ? \"fail\" : \"pass\";\n\n\t\ttime = document.createElement( \"span\" );\n\t\ttime.className = \"runtime\";\n\t\ttime.innerHTML = details.runtime + \" ms\";\n\t\ttestItem.insertBefore( time, assertList );\n\t}\n\n\t// Show the source of the test when showing assertions\n\tif ( details.source ) {\n\t\tsourceName = document.createElement( \"p\" );\n\t\tsourceName.innerHTML = \"<strong>Source: </strong>\" + details.source;\n\t\taddClass( sourceName, \"qunit-source\" );\n\t\tif ( bad === 0 ) {\n\t\t\taddClass( sourceName, \"qunit-collapsed\" );\n\t\t}\n\t\taddEvent( testTitle, \"click\", function() {\n\t\t\ttoggleClass( sourceName, \"qunit-collapsed\" );\n\t\t} );\n\t\ttestItem.appendChild( sourceName );\n\t}\n} );\n\n// Avoid readyState issue with phantomjs\n// Ref: #818\nvar notPhantom = ( function( p ) {\n\treturn !( p && p.version && p.version.major > 0 );\n} )( window.phantom );\n\nif ( notPhantom && document.readyState === \"complete\" ) {\n\tQUnit.load();\n} else {\n\taddEvent( window, \"load\", QUnit.load );\n}\n\n/*\n * This file is a modified version of google-diff-match-patch's JavaScript implementation\n * (https://code.google.com/p/google-diff-match-patch/source/browse/trunk/javascript/diff_match_patch_uncompressed.js),\n * modifications are licensed as more fully set forth in LICENSE.txt.\n *\n * The original source of google-diff-match-patch is attributable and licensed as follows:\n *\n * Copyright 2006 Google Inc.\n * https://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * More Info:\n *  https://code.google.com/p/google-diff-match-patch/\n *\n * Usage: QUnit.diff(expected, actual)\n *\n */\nQUnit.diff = ( function() {\n\tfunction DiffMatchPatch() {\n\t}\n\n\t//  DIFF FUNCTIONS\n\n\t/**\n\t * The data structure representing a diff is an array of tuples:\n\t * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n\t * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n\t */\n\tvar DIFF_DELETE = -1,\n\t\tDIFF_INSERT = 1,\n\t\tDIFF_EQUAL = 0;\n\n\t/**\n\t * Find the differences between two texts.  Simplifies the problem by stripping\n\t * any common prefix or suffix off the texts before diffing.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {boolean=} optChecklines Optional speedup flag. If present and false,\n\t *     then don't run a line-level diff first to identify the changed areas.\n\t *     Defaults to true, which does a faster, slightly less optimal diff.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.DiffMain = function( text1, text2, optChecklines ) {\n\t\tvar deadline, checklines, commonlength,\n\t\t\tcommonprefix, commonsuffix, diffs;\n\n\t\t// The diff must be complete in up to 1 second.\n\t\tdeadline = ( new Date() ).getTime() + 1000;\n\n\t\t// Check for null inputs.\n\t\tif ( text1 === null || text2 === null ) {\n\t\t\tthrow new Error( \"Null input. (DiffMain)\" );\n\t\t}\n\n\t\t// Check for equality (speedup).\n\t\tif ( text1 === text2 ) {\n\t\t\tif ( text1 ) {\n\t\t\t\treturn [\n\t\t\t\t\t[ DIFF_EQUAL, text1 ]\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( typeof optChecklines === \"undefined\" ) {\n\t\t\toptChecklines = true;\n\t\t}\n\n\t\tchecklines = optChecklines;\n\n\t\t// Trim off common prefix (speedup).\n\t\tcommonlength = this.diffCommonPrefix( text1, text2 );\n\t\tcommonprefix = text1.substring( 0, commonlength );\n\t\ttext1 = text1.substring( commonlength );\n\t\ttext2 = text2.substring( commonlength );\n\n\t\t// Trim off common suffix (speedup).\n\t\tcommonlength = this.diffCommonSuffix( text1, text2 );\n\t\tcommonsuffix = text1.substring( text1.length - commonlength );\n\t\ttext1 = text1.substring( 0, text1.length - commonlength );\n\t\ttext2 = text2.substring( 0, text2.length - commonlength );\n\n\t\t// Compute the diff on the middle block.\n\t\tdiffs = this.diffCompute( text1, text2, checklines, deadline );\n\n\t\t// Restore the prefix and suffix.\n\t\tif ( commonprefix ) {\n\t\t\tdiffs.unshift( [ DIFF_EQUAL, commonprefix ] );\n\t\t}\n\t\tif ( commonsuffix ) {\n\t\t\tdiffs.push( [ DIFF_EQUAL, commonsuffix ] );\n\t\t}\n\t\tthis.diffCleanupMerge( diffs );\n\t\treturn diffs;\n\t};\n\n\t/**\n\t * Reduce the number of edits by eliminating operationally trivial equalities.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupEfficiency = function( diffs ) {\n\t\tvar changes, equalities, equalitiesLength, lastequality,\n\t\t\tpointer, preIns, preDel, postIns, postDel;\n\t\tchanges = false;\n\t\tequalities = []; // Stack of indices where equalities are found.\n\t\tequalitiesLength = 0; // Keeping our own length var is faster in JS.\n\t\t/** @type {?string} */\n\t\tlastequality = null;\n\n\t\t// Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\t\tpointer = 0; // Index of current position.\n\n\t\t// Is there an insertion operation before the last equality.\n\t\tpreIns = false;\n\n\t\t// Is there a deletion operation before the last equality.\n\t\tpreDel = false;\n\n\t\t// Is there an insertion operation after the last equality.\n\t\tpostIns = false;\n\n\t\t// Is there a deletion operation after the last equality.\n\t\tpostDel = false;\n\t\twhile ( pointer < diffs.length ) {\n\n\t\t\t// Equality found.\n\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_EQUAL ) {\n\t\t\t\tif ( diffs[ pointer ][ 1 ].length < 4 && ( postIns || postDel ) ) {\n\n\t\t\t\t\t// Candidate found.\n\t\t\t\t\tequalities[ equalitiesLength++ ] = pointer;\n\t\t\t\t\tpreIns = postIns;\n\t\t\t\t\tpreDel = postDel;\n\t\t\t\t\tlastequality = diffs[ pointer ][ 1 ];\n\t\t\t\t} else {\n\n\t\t\t\t\t// Not a candidate, and can never become one.\n\t\t\t\t\tequalitiesLength = 0;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t}\n\t\t\t\tpostIns = postDel = false;\n\n\t\t\t// An insertion or deletion.\n\t\t\t} else {\n\n\t\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_DELETE ) {\n\t\t\t\t\tpostDel = true;\n\t\t\t\t} else {\n\t\t\t\t\tpostIns = true;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * Five types to be split:\n\t\t\t\t * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins>X<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins><del>B</del>X<ins>C</ins>\n\t\t\t\t * <ins>A</del>X<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins><del>B</del>X<del>C</del>\n\t\t\t\t */\n\t\t\t\tif ( lastequality && ( ( preIns && preDel && postIns && postDel ) ||\n\t\t\t\t\t\t( ( lastequality.length < 2 ) &&\n\t\t\t\t\t\t( preIns + preDel + postIns + postDel ) === 3 ) ) ) {\n\n\t\t\t\t\t// Duplicate record.\n\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\tequalities[ equalitiesLength - 1 ],\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t[ DIFF_DELETE, lastequality ]\n\t\t\t\t\t);\n\n\t\t\t\t\t// Change second copy to insert.\n\t\t\t\t\tdiffs[ equalities[ equalitiesLength - 1 ] + 1 ][ 0 ] = DIFF_INSERT;\n\t\t\t\t\tequalitiesLength--; // Throw away the equality we just deleted;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t\tif ( preIns && preDel ) {\n\n\t\t\t\t\t\t// No changes made which could affect previous entry, keep going.\n\t\t\t\t\t\tpostIns = postDel = true;\n\t\t\t\t\t\tequalitiesLength = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tequalitiesLength--; // Throw away the previous equality.\n\t\t\t\t\t\tpointer = equalitiesLength > 0 ? equalities[ equalitiesLength - 1 ] : -1;\n\t\t\t\t\t\tpostIns = postDel = false;\n\t\t\t\t\t}\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\t};\n\n\t/**\n\t * Convert a diff array into a pretty HTML report.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t * @param {integer} string to be beautified.\n\t * @return {string} HTML representation.\n\t */\n\tDiffMatchPatch.prototype.diffPrettyHtml = function( diffs ) {\n\t\tvar op, data, x,\n\t\t\thtml = [];\n\t\tfor ( x = 0; x < diffs.length; x++ ) {\n\t\t\top = diffs[ x ][ 0 ]; // Operation (insert, delete, equal)\n\t\t\tdata = diffs[ x ][ 1 ]; // Text of change.\n\t\t\tswitch ( op ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\thtml[ x ] = \"<ins>\" + escapeText( data ) + \"</ins>\";\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\thtml[ x ] = \"<del>\" + escapeText( data ) + \"</del>\";\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\t\t\t\thtml[ x ] = \"<span>\" + escapeText( data ) + \"</span>\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn html.join( \"\" );\n\t};\n\n\t/**\n\t * Determine the common prefix of two strings.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the start of each\n\t *     string.\n\t */\n\tDiffMatchPatch.prototype.diffCommonPrefix = function( text1, text2 ) {\n\t\tvar pointermid, pointermax, pointermin, pointerstart;\n\n\t\t// Quick check for common null cases.\n\t\tif ( !text1 || !text2 || text1.charAt( 0 ) !== text2.charAt( 0 ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Binary search.\n\t\t// Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\t\tpointermin = 0;\n\t\tpointermax = Math.min( text1.length, text2.length );\n\t\tpointermid = pointermax;\n\t\tpointerstart = 0;\n\t\twhile ( pointermin < pointermid ) {\n\t\t\tif ( text1.substring( pointerstart, pointermid ) ===\n\t\t\t\t\ttext2.substring( pointerstart, pointermid ) ) {\n\t\t\t\tpointermin = pointermid;\n\t\t\t\tpointerstart = pointermin;\n\t\t\t} else {\n\t\t\t\tpointermax = pointermid;\n\t\t\t}\n\t\t\tpointermid = Math.floor( ( pointermax - pointermin ) / 2 + pointermin );\n\t\t}\n\t\treturn pointermid;\n\t};\n\n\t/**\n\t * Determine the common suffix of two strings.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the end of each string.\n\t */\n\tDiffMatchPatch.prototype.diffCommonSuffix = function( text1, text2 ) {\n\t\tvar pointermid, pointermax, pointermin, pointerend;\n\n\t\t// Quick check for common null cases.\n\t\tif ( !text1 ||\n\t\t\t\t!text2 ||\n\t\t\t\ttext1.charAt( text1.length - 1 ) !== text2.charAt( text2.length - 1 ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Binary search.\n\t\t// Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\t\tpointermin = 0;\n\t\tpointermax = Math.min( text1.length, text2.length );\n\t\tpointermid = pointermax;\n\t\tpointerend = 0;\n\t\twhile ( pointermin < pointermid ) {\n\t\t\tif ( text1.substring( text1.length - pointermid, text1.length - pointerend ) ===\n\t\t\t\t\ttext2.substring( text2.length - pointermid, text2.length - pointerend ) ) {\n\t\t\t\tpointermin = pointermid;\n\t\t\t\tpointerend = pointermin;\n\t\t\t} else {\n\t\t\t\tpointermax = pointermid;\n\t\t\t}\n\t\t\tpointermid = Math.floor( ( pointermax - pointermin ) / 2 + pointermin );\n\t\t}\n\t\treturn pointermid;\n\t};\n\n\t/**\n\t * Find the differences between two texts.  Assumes that the texts do not\n\t * have any common prefix or suffix.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {boolean} checklines Speedup flag.  If false, then don't run a\n\t *     line-level diff first to identify the changed areas.\n\t *     If true, then run a faster, slightly less optimal diff.\n\t * @param {number} deadline Time when the diff should be complete by.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCompute = function( text1, text2, checklines, deadline ) {\n\t\tvar diffs, longtext, shorttext, i, hm,\n\t\t\ttext1A, text2A, text1B, text2B,\n\t\t\tmidCommon, diffsA, diffsB;\n\n\t\tif ( !text1 ) {\n\n\t\t\t// Just add some text (speedup).\n\t\t\treturn [\n\t\t\t\t[ DIFF_INSERT, text2 ]\n\t\t\t];\n\t\t}\n\n\t\tif ( !text2 ) {\n\n\t\t\t// Just delete some text (speedup).\n\t\t\treturn [\n\t\t\t\t[ DIFF_DELETE, text1 ]\n\t\t\t];\n\t\t}\n\n\t\tlongtext = text1.length > text2.length ? text1 : text2;\n\t\tshorttext = text1.length > text2.length ? text2 : text1;\n\t\ti = longtext.indexOf( shorttext );\n\t\tif ( i !== -1 ) {\n\n\t\t\t// Shorter text is inside the longer text (speedup).\n\t\t\tdiffs = [\n\t\t\t\t[ DIFF_INSERT, longtext.substring( 0, i ) ],\n\t\t\t\t[ DIFF_EQUAL, shorttext ],\n\t\t\t\t[ DIFF_INSERT, longtext.substring( i + shorttext.length ) ]\n\t\t\t];\n\n\t\t\t// Swap insertions for deletions if diff is reversed.\n\t\t\tif ( text1.length > text2.length ) {\n\t\t\t\tdiffs[ 0 ][ 0 ] = diffs[ 2 ][ 0 ] = DIFF_DELETE;\n\t\t\t}\n\t\t\treturn diffs;\n\t\t}\n\n\t\tif ( shorttext.length === 1 ) {\n\n\t\t\t// Single character string.\n\t\t\t// After the previous speedup, the character can't be an equality.\n\t\t\treturn [\n\t\t\t\t[ DIFF_DELETE, text1 ],\n\t\t\t\t[ DIFF_INSERT, text2 ]\n\t\t\t];\n\t\t}\n\n\t\t// Check to see if the problem can be split in two.\n\t\thm = this.diffHalfMatch( text1, text2 );\n\t\tif ( hm ) {\n\n\t\t\t// A half-match was found, sort out the return data.\n\t\t\ttext1A = hm[ 0 ];\n\t\t\ttext1B = hm[ 1 ];\n\t\t\ttext2A = hm[ 2 ];\n\t\t\ttext2B = hm[ 3 ];\n\t\t\tmidCommon = hm[ 4 ];\n\n\t\t\t// Send both pairs off for separate processing.\n\t\t\tdiffsA = this.DiffMain( text1A, text2A, checklines, deadline );\n\t\t\tdiffsB = this.DiffMain( text1B, text2B, checklines, deadline );\n\n\t\t\t// Merge the results.\n\t\t\treturn diffsA.concat( [\n\t\t\t\t[ DIFF_EQUAL, midCommon ]\n\t\t\t], diffsB );\n\t\t}\n\n\t\tif ( checklines && text1.length > 100 && text2.length > 100 ) {\n\t\t\treturn this.diffLineMode( text1, text2, deadline );\n\t\t}\n\n\t\treturn this.diffBisect( text1, text2, deadline );\n\t};\n\n\t/**\n\t * Do the two texts share a substring which is at least half the length of the\n\t * longer text?\n\t * This speedup can produce non-minimal diffs.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {Array.<string>} Five element Array, containing the prefix of\n\t *     text1, the suffix of text1, the prefix of text2, the suffix of\n\t *     text2 and the common middle.  Or null if there was no match.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffHalfMatch = function( text1, text2 ) {\n\t\tvar longtext, shorttext, dmp,\n\t\t\ttext1A, text2B, text2A, text1B, midCommon,\n\t\t\thm1, hm2, hm;\n\n\t\tlongtext = text1.length > text2.length ? text1 : text2;\n\t\tshorttext = text1.length > text2.length ? text2 : text1;\n\t\tif ( longtext.length < 4 || shorttext.length * 2 < longtext.length ) {\n\t\t\treturn null; // Pointless.\n\t\t}\n\t\tdmp = this; // 'this' becomes 'window' in a closure.\n\n\t\t/**\n\t\t * Does a substring of shorttext exist within longtext such that the substring\n\t\t * is at least half the length of longtext?\n\t\t * Closure, but does not reference any external variables.\n\t\t * @param {string} longtext Longer string.\n\t\t * @param {string} shorttext Shorter string.\n\t\t * @param {number} i Start index of quarter length substring within longtext.\n\t\t * @return {Array.<string>} Five element Array, containing the prefix of\n\t\t *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n\t\t *     of shorttext and the common middle.  Or null if there was no match.\n\t\t * @private\n\t\t */\n\t\tfunction diffHalfMatchI( longtext, shorttext, i ) {\n\t\t\tvar seed, j, bestCommon, prefixLength, suffixLength,\n\t\t\t\tbestLongtextA, bestLongtextB, bestShorttextA, bestShorttextB;\n\n\t\t\t// Start with a 1/4 length substring at position i as a seed.\n\t\t\tseed = longtext.substring( i, i + Math.floor( longtext.length / 4 ) );\n\t\t\tj = -1;\n\t\t\tbestCommon = \"\";\n\t\t\twhile ( ( j = shorttext.indexOf( seed, j + 1 ) ) !== -1 ) {\n\t\t\t\tprefixLength = dmp.diffCommonPrefix( longtext.substring( i ),\n\t\t\t\t\tshorttext.substring( j ) );\n\t\t\t\tsuffixLength = dmp.diffCommonSuffix( longtext.substring( 0, i ),\n\t\t\t\t\tshorttext.substring( 0, j ) );\n\t\t\t\tif ( bestCommon.length < suffixLength + prefixLength ) {\n\t\t\t\t\tbestCommon = shorttext.substring( j - suffixLength, j ) +\n\t\t\t\t\t\tshorttext.substring( j, j + prefixLength );\n\t\t\t\t\tbestLongtextA = longtext.substring( 0, i - suffixLength );\n\t\t\t\t\tbestLongtextB = longtext.substring( i + prefixLength );\n\t\t\t\t\tbestShorttextA = shorttext.substring( 0, j - suffixLength );\n\t\t\t\t\tbestShorttextB = shorttext.substring( j + prefixLength );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( bestCommon.length * 2 >= longtext.length ) {\n\t\t\t\treturn [ bestLongtextA, bestLongtextB,\n\t\t\t\t\tbestShorttextA, bestShorttextB, bestCommon\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// First check if the second quarter is the seed for a half-match.\n\t\thm1 = diffHalfMatchI( longtext, shorttext,\n\t\t\tMath.ceil( longtext.length / 4 ) );\n\n\t\t// Check again based on the third quarter.\n\t\thm2 = diffHalfMatchI( longtext, shorttext,\n\t\t\tMath.ceil( longtext.length / 2 ) );\n\t\tif ( !hm1 && !hm2 ) {\n\t\t\treturn null;\n\t\t} else if ( !hm2 ) {\n\t\t\thm = hm1;\n\t\t} else if ( !hm1 ) {\n\t\t\thm = hm2;\n\t\t} else {\n\n\t\t\t// Both matched.  Select the longest.\n\t\t\thm = hm1[ 4 ].length > hm2[ 4 ].length ? hm1 : hm2;\n\t\t}\n\n\t\t// A half-match was found, sort out the return data.\n\t\ttext1A, text1B, text2A, text2B;\n\t\tif ( text1.length > text2.length ) {\n\t\t\ttext1A = hm[ 0 ];\n\t\t\ttext1B = hm[ 1 ];\n\t\t\ttext2A = hm[ 2 ];\n\t\t\ttext2B = hm[ 3 ];\n\t\t} else {\n\t\t\ttext2A = hm[ 0 ];\n\t\t\ttext2B = hm[ 1 ];\n\t\t\ttext1A = hm[ 2 ];\n\t\t\ttext1B = hm[ 3 ];\n\t\t}\n\t\tmidCommon = hm[ 4 ];\n\t\treturn [ text1A, text1B, text2A, text2B, midCommon ];\n\t};\n\n\t/**\n\t * Do a quick line-level diff on both strings, then rediff the parts for\n\t * greater accuracy.\n\t * This speedup can produce non-minimal diffs.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} deadline Time when the diff should be complete by.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffLineMode = function( text1, text2, deadline ) {\n\t\tvar a, diffs, linearray, pointer, countInsert,\n\t\t\tcountDelete, textInsert, textDelete, j;\n\n\t\t// Scan the text on a line-by-line basis first.\n\t\ta = this.diffLinesToChars( text1, text2 );\n\t\ttext1 = a.chars1;\n\t\ttext2 = a.chars2;\n\t\tlinearray = a.lineArray;\n\n\t\tdiffs = this.DiffMain( text1, text2, false, deadline );\n\n\t\t// Convert the diff back to original text.\n\t\tthis.diffCharsToLines( diffs, linearray );\n\n\t\t// Eliminate freak matches (e.g. blank lines)\n\t\tthis.diffCleanupSemantic( diffs );\n\n\t\t// Rediff any replacement blocks, this time character-by-character.\n\t\t// Add a dummy entry at the end.\n\t\tdiffs.push( [ DIFF_EQUAL, \"\" ] );\n\t\tpointer = 0;\n\t\tcountDelete = 0;\n\t\tcountInsert = 0;\n\t\ttextDelete = \"\";\n\t\ttextInsert = \"\";\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tswitch ( diffs[ pointer ][ 0 ] ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\tcountInsert++;\n\t\t\t\ttextInsert += diffs[ pointer ][ 1 ];\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\tcountDelete++;\n\t\t\t\ttextDelete += diffs[ pointer ][ 1 ];\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\n\t\t\t\t// Upon reaching an equality, check for prior redundancies.\n\t\t\t\tif ( countDelete >= 1 && countInsert >= 1 ) {\n\n\t\t\t\t\t// Delete the offending records and add the merged ones.\n\t\t\t\t\tdiffs.splice( pointer - countDelete - countInsert,\n\t\t\t\t\t\tcountDelete + countInsert );\n\t\t\t\t\tpointer = pointer - countDelete - countInsert;\n\t\t\t\t\ta = this.DiffMain( textDelete, textInsert, false, deadline );\n\t\t\t\t\tfor ( j = a.length - 1; j >= 0; j-- ) {\n\t\t\t\t\t\tdiffs.splice( pointer, 0, a[ j ] );\n\t\t\t\t\t}\n\t\t\t\t\tpointer = pointer + a.length;\n\t\t\t\t}\n\t\t\t\tcountInsert = 0;\n\t\t\t\tcountDelete = 0;\n\t\t\t\ttextDelete = \"\";\n\t\t\t\ttextInsert = \"\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\t\tdiffs.pop(); // Remove the dummy entry at the end.\n\n\t\treturn diffs;\n\t};\n\n\t/**\n\t * Find the 'middle snake' of a diff, split the problem in two\n\t * and return the recursively constructed diff.\n\t * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} deadline Time at which to bail if not yet complete.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffBisect = function( text1, text2, deadline ) {\n\t\tvar text1Length, text2Length, maxD, vOffset, vLength,\n\t\t\tv1, v2, x, delta, front, k1start, k1end, k2start,\n\t\t\tk2end, k2Offset, k1Offset, x1, x2, y1, y2, d, k1, k2;\n\n\t\t// Cache the text lengths to prevent multiple calls.\n\t\ttext1Length = text1.length;\n\t\ttext2Length = text2.length;\n\t\tmaxD = Math.ceil( ( text1Length + text2Length ) / 2 );\n\t\tvOffset = maxD;\n\t\tvLength = 2 * maxD;\n\t\tv1 = new Array( vLength );\n\t\tv2 = new Array( vLength );\n\n\t\t// Setting all elements to -1 is faster in Chrome & Firefox than mixing\n\t\t// integers and undefined.\n\t\tfor ( x = 0; x < vLength; x++ ) {\n\t\t\tv1[ x ] = -1;\n\t\t\tv2[ x ] = -1;\n\t\t}\n\t\tv1[ vOffset + 1 ] = 0;\n\t\tv2[ vOffset + 1 ] = 0;\n\t\tdelta = text1Length - text2Length;\n\n\t\t// If the total number of characters is odd, then the front path will collide\n\t\t// with the reverse path.\n\t\tfront = ( delta % 2 !== 0 );\n\n\t\t// Offsets for start and end of k loop.\n\t\t// Prevents mapping of space beyond the grid.\n\t\tk1start = 0;\n\t\tk1end = 0;\n\t\tk2start = 0;\n\t\tk2end = 0;\n\t\tfor ( d = 0; d < maxD; d++ ) {\n\n\t\t\t// Bail out if deadline is reached.\n\t\t\tif ( ( new Date() ).getTime() > deadline ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Walk the front path one step.\n\t\t\tfor ( k1 = -d + k1start; k1 <= d - k1end; k1 += 2 ) {\n\t\t\t\tk1Offset = vOffset + k1;\n\t\t\t\tif ( k1 === -d || ( k1 !== d && v1[ k1Offset - 1 ] < v1[ k1Offset + 1 ] ) ) {\n\t\t\t\t\tx1 = v1[ k1Offset + 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tx1 = v1[ k1Offset - 1 ] + 1;\n\t\t\t\t}\n\t\t\t\ty1 = x1 - k1;\n\t\t\t\twhile ( x1 < text1Length && y1 < text2Length &&\n\t\t\t\t\ttext1.charAt( x1 ) === text2.charAt( y1 ) ) {\n\t\t\t\t\tx1++;\n\t\t\t\t\ty1++;\n\t\t\t\t}\n\t\t\t\tv1[ k1Offset ] = x1;\n\t\t\t\tif ( x1 > text1Length ) {\n\n\t\t\t\t\t// Ran off the right of the graph.\n\t\t\t\t\tk1end += 2;\n\t\t\t\t} else if ( y1 > text2Length ) {\n\n\t\t\t\t\t// Ran off the bottom of the graph.\n\t\t\t\t\tk1start += 2;\n\t\t\t\t} else if ( front ) {\n\t\t\t\t\tk2Offset = vOffset + delta - k1;\n\t\t\t\t\tif ( k2Offset >= 0 && k2Offset < vLength && v2[ k2Offset ] !== -1 ) {\n\n\t\t\t\t\t\t// Mirror x2 onto top-left coordinate system.\n\t\t\t\t\t\tx2 = text1Length - v2[ k2Offset ];\n\t\t\t\t\t\tif ( x1 >= x2 ) {\n\n\t\t\t\t\t\t\t// Overlap detected.\n\t\t\t\t\t\t\treturn this.diffBisectSplit( text1, text2, x1, y1, deadline );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Walk the reverse path one step.\n\t\t\tfor ( k2 = -d + k2start; k2 <= d - k2end; k2 += 2 ) {\n\t\t\t\tk2Offset = vOffset + k2;\n\t\t\t\tif ( k2 === -d || ( k2 !== d && v2[ k2Offset - 1 ] < v2[ k2Offset + 1 ] ) ) {\n\t\t\t\t\tx2 = v2[ k2Offset + 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tx2 = v2[ k2Offset - 1 ] + 1;\n\t\t\t\t}\n\t\t\t\ty2 = x2 - k2;\n\t\t\t\twhile ( x2 < text1Length && y2 < text2Length &&\n\t\t\t\t\ttext1.charAt( text1Length - x2 - 1 ) ===\n\t\t\t\t\ttext2.charAt( text2Length - y2 - 1 ) ) {\n\t\t\t\t\tx2++;\n\t\t\t\t\ty2++;\n\t\t\t\t}\n\t\t\t\tv2[ k2Offset ] = x2;\n\t\t\t\tif ( x2 > text1Length ) {\n\n\t\t\t\t\t// Ran off the left of the graph.\n\t\t\t\t\tk2end += 2;\n\t\t\t\t} else if ( y2 > text2Length ) {\n\n\t\t\t\t\t// Ran off the top of the graph.\n\t\t\t\t\tk2start += 2;\n\t\t\t\t} else if ( !front ) {\n\t\t\t\t\tk1Offset = vOffset + delta - k2;\n\t\t\t\t\tif ( k1Offset >= 0 && k1Offset < vLength && v1[ k1Offset ] !== -1 ) {\n\t\t\t\t\t\tx1 = v1[ k1Offset ];\n\t\t\t\t\t\ty1 = vOffset + x1 - k1Offset;\n\n\t\t\t\t\t\t// Mirror x2 onto top-left coordinate system.\n\t\t\t\t\t\tx2 = text1Length - x2;\n\t\t\t\t\t\tif ( x1 >= x2 ) {\n\n\t\t\t\t\t\t\t// Overlap detected.\n\t\t\t\t\t\t\treturn this.diffBisectSplit( text1, text2, x1, y1, deadline );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Diff took too long and hit the deadline or\n\t\t// number of diffs equals number of characters, no commonality at all.\n\t\treturn [\n\t\t\t[ DIFF_DELETE, text1 ],\n\t\t\t[ DIFF_INSERT, text2 ]\n\t\t];\n\t};\n\n\t/**\n\t * Given the location of the 'middle snake', split the diff in two parts\n\t * and recurse.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} x Index of split point in text1.\n\t * @param {number} y Index of split point in text2.\n\t * @param {number} deadline Time at which to bail if not yet complete.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffBisectSplit = function( text1, text2, x, y, deadline ) {\n\t\tvar text1a, text1b, text2a, text2b, diffs, diffsb;\n\t\ttext1a = text1.substring( 0, x );\n\t\ttext2a = text2.substring( 0, y );\n\t\ttext1b = text1.substring( x );\n\t\ttext2b = text2.substring( y );\n\n\t\t// Compute both diffs serially.\n\t\tdiffs = this.DiffMain( text1a, text2a, false, deadline );\n\t\tdiffsb = this.DiffMain( text1b, text2b, false, deadline );\n\n\t\treturn diffs.concat( diffsb );\n\t};\n\n\t/**\n\t * Reduce the number of edits by eliminating semantically trivial equalities.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupSemantic = function( diffs ) {\n\t\tvar changes, equalities, equalitiesLength, lastequality,\n\t\t\tpointer, lengthInsertions2, lengthDeletions2, lengthInsertions1,\n\t\t\tlengthDeletions1, deletion, insertion, overlapLength1, overlapLength2;\n\t\tchanges = false;\n\t\tequalities = []; // Stack of indices where equalities are found.\n\t\tequalitiesLength = 0; // Keeping our own length var is faster in JS.\n\t\t/** @type {?string} */\n\t\tlastequality = null;\n\n\t\t// Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\t\tpointer = 0; // Index of current position.\n\n\t\t// Number of characters that changed prior to the equality.\n\t\tlengthInsertions1 = 0;\n\t\tlengthDeletions1 = 0;\n\n\t\t// Number of characters that changed after the equality.\n\t\tlengthInsertions2 = 0;\n\t\tlengthDeletions2 = 0;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_EQUAL ) { // Equality found.\n\t\t\t\tequalities[ equalitiesLength++ ] = pointer;\n\t\t\t\tlengthInsertions1 = lengthInsertions2;\n\t\t\t\tlengthDeletions1 = lengthDeletions2;\n\t\t\t\tlengthInsertions2 = 0;\n\t\t\t\tlengthDeletions2 = 0;\n\t\t\t\tlastequality = diffs[ pointer ][ 1 ];\n\t\t\t} else { // An insertion or deletion.\n\t\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_INSERT ) {\n\t\t\t\t\tlengthInsertions2 += diffs[ pointer ][ 1 ].length;\n\t\t\t\t} else {\n\t\t\t\t\tlengthDeletions2 += diffs[ pointer ][ 1 ].length;\n\t\t\t\t}\n\n\t\t\t\t// Eliminate an equality that is smaller or equal to the edits on both\n\t\t\t\t// sides of it.\n\t\t\t\tif ( lastequality && ( lastequality.length <=\n\t\t\t\t\t\tMath.max( lengthInsertions1, lengthDeletions1 ) ) &&\n\t\t\t\t\t\t( lastequality.length <= Math.max( lengthInsertions2,\n\t\t\t\t\t\t\tlengthDeletions2 ) ) ) {\n\n\t\t\t\t\t// Duplicate record.\n\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\tequalities[ equalitiesLength - 1 ],\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t[ DIFF_DELETE, lastequality ]\n\t\t\t\t\t);\n\n\t\t\t\t\t// Change second copy to insert.\n\t\t\t\t\tdiffs[ equalities[ equalitiesLength - 1 ] + 1 ][ 0 ] = DIFF_INSERT;\n\n\t\t\t\t\t// Throw away the equality we just deleted.\n\t\t\t\t\tequalitiesLength--;\n\n\t\t\t\t\t// Throw away the previous equality (it needs to be reevaluated).\n\t\t\t\t\tequalitiesLength--;\n\t\t\t\t\tpointer = equalitiesLength > 0 ? equalities[ equalitiesLength - 1 ] : -1;\n\n\t\t\t\t\t// Reset the counters.\n\t\t\t\t\tlengthInsertions1 = 0;\n\t\t\t\t\tlengthDeletions1 = 0;\n\t\t\t\t\tlengthInsertions2 = 0;\n\t\t\t\t\tlengthDeletions2 = 0;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\t// Normalize the diff.\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\n\t\t// Find any overlaps between deletions and insertions.\n\t\t// e.g: <del>abcxxx</del><ins>xxxdef</ins>\n\t\t//   -> <del>abc</del>xxx<ins>def</ins>\n\t\t// e.g: <del>xxxabc</del><ins>defxxx</ins>\n\t\t//   -> <ins>def</ins>xxx<del>abc</del>\n\t\t// Only extract an overlap if it is as big as the edit ahead or behind it.\n\t\tpointer = 1;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tif ( diffs[ pointer - 1 ][ 0 ] === DIFF_DELETE &&\n\t\t\t\t\tdiffs[ pointer ][ 0 ] === DIFF_INSERT ) {\n\t\t\t\tdeletion = diffs[ pointer - 1 ][ 1 ];\n\t\t\t\tinsertion = diffs[ pointer ][ 1 ];\n\t\t\t\toverlapLength1 = this.diffCommonOverlap( deletion, insertion );\n\t\t\t\toverlapLength2 = this.diffCommonOverlap( insertion, deletion );\n\t\t\t\tif ( overlapLength1 >= overlapLength2 ) {\n\t\t\t\t\tif ( overlapLength1 >= deletion.length / 2 ||\n\t\t\t\t\t\t\toverlapLength1 >= insertion.length / 2 ) {\n\n\t\t\t\t\t\t// Overlap found.  Insert an equality and trim the surrounding edits.\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t[ DIFF_EQUAL, insertion.substring( 0, overlapLength1 ) ]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] =\n\t\t\t\t\t\t\tdeletion.substring( 0, deletion.length - overlapLength1 );\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] = insertion.substring( overlapLength1 );\n\t\t\t\t\t\tpointer++;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( overlapLength2 >= deletion.length / 2 ||\n\t\t\t\t\t\t\toverlapLength2 >= insertion.length / 2 ) {\n\n\t\t\t\t\t\t// Reverse overlap found.\n\t\t\t\t\t\t// Insert an equality and swap and trim the surrounding edits.\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t[ DIFF_EQUAL, deletion.substring( 0, overlapLength2 ) ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 0 ] = DIFF_INSERT;\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] =\n\t\t\t\t\t\t\tinsertion.substring( 0, insertion.length - overlapLength2 );\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 0 ] = DIFF_DELETE;\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] =\n\t\t\t\t\t\t\tdeletion.substring( overlapLength2 );\n\t\t\t\t\t\tpointer++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpointer++;\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\t};\n\n\t/**\n\t * Determine if the suffix of one string is the prefix of another.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the end of the first\n\t *     string and the start of the second string.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCommonOverlap = function( text1, text2 ) {\n\t\tvar text1Length, text2Length, textLength,\n\t\t\tbest, length, pattern, found;\n\n\t\t// Cache the text lengths to prevent multiple calls.\n\t\ttext1Length = text1.length;\n\t\ttext2Length = text2.length;\n\n\t\t// Eliminate the null case.\n\t\tif ( text1Length === 0 || text2Length === 0 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Truncate the longer string.\n\t\tif ( text1Length > text2Length ) {\n\t\t\ttext1 = text1.substring( text1Length - text2Length );\n\t\t} else if ( text1Length < text2Length ) {\n\t\t\ttext2 = text2.substring( 0, text1Length );\n\t\t}\n\t\ttextLength = Math.min( text1Length, text2Length );\n\n\t\t// Quick check for the worst case.\n\t\tif ( text1 === text2 ) {\n\t\t\treturn textLength;\n\t\t}\n\n\t\t// Start by looking for a single character match\n\t\t// and increase length until no match is found.\n\t\t// Performance analysis: https://neil.fraser.name/news/2010/11/04/\n\t\tbest = 0;\n\t\tlength = 1;\n\t\twhile ( true ) {\n\t\t\tpattern = text1.substring( textLength - length );\n\t\t\tfound = text2.indexOf( pattern );\n\t\t\tif ( found === -1 ) {\n\t\t\t\treturn best;\n\t\t\t}\n\t\t\tlength += found;\n\t\t\tif ( found === 0 || text1.substring( textLength - length ) ===\n\t\t\t\t\ttext2.substring( 0, length ) ) {\n\t\t\t\tbest = length;\n\t\t\t\tlength++;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Split two texts into an array of strings.  Reduce the texts to a string of\n\t * hashes where each Unicode character represents one line.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n\t *     An object containing the encoded text1, the encoded text2 and\n\t *     the array of unique strings.\n\t *     The zeroth element of the array of unique strings is intentionally blank.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffLinesToChars = function( text1, text2 ) {\n\t\tvar lineArray, lineHash, chars1, chars2;\n\t\tlineArray = []; // E.g. lineArray[4] === 'Hello\\n'\n\t\tlineHash = {};  // E.g. lineHash['Hello\\n'] === 4\n\n\t\t// '\\x00' is a valid character, but various debuggers don't like it.\n\t\t// So we'll insert a junk entry to avoid generating a null character.\n\t\tlineArray[ 0 ] = \"\";\n\n\t\t/**\n\t\t * Split a text into an array of strings.  Reduce the texts to a string of\n\t\t * hashes where each Unicode character represents one line.\n\t\t * Modifies linearray and linehash through being a closure.\n\t\t * @param {string} text String to encode.\n\t\t * @return {string} Encoded string.\n\t\t * @private\n\t\t */\n\t\tfunction diffLinesToCharsMunge( text ) {\n\t\t\tvar chars, lineStart, lineEnd, lineArrayLength, line;\n\t\t\tchars = \"\";\n\n\t\t\t// Walk the text, pulling out a substring for each line.\n\t\t\t// text.split('\\n') would would temporarily double our memory footprint.\n\t\t\t// Modifying text would create many large strings to garbage collect.\n\t\t\tlineStart = 0;\n\t\t\tlineEnd = -1;\n\n\t\t\t// Keeping our own length variable is faster than looking it up.\n\t\t\tlineArrayLength = lineArray.length;\n\t\t\twhile ( lineEnd < text.length - 1 ) {\n\t\t\t\tlineEnd = text.indexOf( \"\\n\", lineStart );\n\t\t\t\tif ( lineEnd === -1 ) {\n\t\t\t\t\tlineEnd = text.length - 1;\n\t\t\t\t}\n\t\t\t\tline = text.substring( lineStart, lineEnd + 1 );\n\t\t\t\tlineStart = lineEnd + 1;\n\n\t\t\t\tif ( lineHash.hasOwnProperty ? lineHash.hasOwnProperty( line ) :\n\t\t\t\t\t\t\t( lineHash[ line ] !== undefined ) ) {\n\t\t\t\t\tchars += String.fromCharCode( lineHash[ line ] );\n\t\t\t\t} else {\n\t\t\t\t\tchars += String.fromCharCode( lineArrayLength );\n\t\t\t\t\tlineHash[ line ] = lineArrayLength;\n\t\t\t\t\tlineArray[ lineArrayLength++ ] = line;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn chars;\n\t\t}\n\n\t\tchars1 = diffLinesToCharsMunge( text1 );\n\t\tchars2 = diffLinesToCharsMunge( text2 );\n\t\treturn {\n\t\t\tchars1: chars1,\n\t\t\tchars2: chars2,\n\t\t\tlineArray: lineArray\n\t\t};\n\t};\n\n\t/**\n\t * Rehydrate the text in a diff from a string of line hashes to real lines of\n\t * text.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t * @param {!Array.<string>} lineArray Array of unique strings.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCharsToLines = function( diffs, lineArray ) {\n\t\tvar x, chars, text, y;\n\t\tfor ( x = 0; x < diffs.length; x++ ) {\n\t\t\tchars = diffs[ x ][ 1 ];\n\t\t\ttext = [];\n\t\t\tfor ( y = 0; y < chars.length; y++ ) {\n\t\t\t\ttext[ y ] = lineArray[ chars.charCodeAt( y ) ];\n\t\t\t}\n\t\t\tdiffs[ x ][ 1 ] = text.join( \"\" );\n\t\t}\n\t};\n\n\t/**\n\t * Reorder and merge like edit sections.  Merge equalities.\n\t * Any edit section can move as long as it doesn't cross an equality.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupMerge = function( diffs ) {\n\t\tvar pointer, countDelete, countInsert, textInsert, textDelete,\n\t\t\tcommonlength, changes, diffPointer, position;\n\t\tdiffs.push( [ DIFF_EQUAL, \"\" ] ); // Add a dummy entry at the end.\n\t\tpointer = 0;\n\t\tcountDelete = 0;\n\t\tcountInsert = 0;\n\t\ttextDelete = \"\";\n\t\ttextInsert = \"\";\n\t\tcommonlength;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tswitch ( diffs[ pointer ][ 0 ] ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\tcountInsert++;\n\t\t\t\ttextInsert += diffs[ pointer ][ 1 ];\n\t\t\t\tpointer++;\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\tcountDelete++;\n\t\t\t\ttextDelete += diffs[ pointer ][ 1 ];\n\t\t\t\tpointer++;\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\n\t\t\t\t// Upon reaching an equality, check for prior redundancies.\n\t\t\t\tif ( countDelete + countInsert > 1 ) {\n\t\t\t\t\tif ( countDelete !== 0 && countInsert !== 0 ) {\n\n\t\t\t\t\t\t// Factor out any common prefixes.\n\t\t\t\t\t\tcommonlength = this.diffCommonPrefix( textInsert, textDelete );\n\t\t\t\t\t\tif ( commonlength !== 0 ) {\n\t\t\t\t\t\t\tif ( ( pointer - countDelete - countInsert ) > 0 &&\n\t\t\t\t\t\t\t\t\tdiffs[ pointer - countDelete - countInsert - 1 ][ 0 ] ===\n\t\t\t\t\t\t\t\t\tDIFF_EQUAL ) {\n\t\t\t\t\t\t\t\tdiffs[ pointer - countDelete - countInsert - 1 ][ 1 ] +=\n\t\t\t\t\t\t\t\t\ttextInsert.substring( 0, commonlength );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdiffs.splice( 0, 0, [ DIFF_EQUAL,\n\t\t\t\t\t\t\t\t\ttextInsert.substring( 0, commonlength )\n\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t\tpointer++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttextInsert = textInsert.substring( commonlength );\n\t\t\t\t\t\t\ttextDelete = textDelete.substring( commonlength );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Factor out any common suffixies.\n\t\t\t\t\t\tcommonlength = this.diffCommonSuffix( textInsert, textDelete );\n\t\t\t\t\t\tif ( commonlength !== 0 ) {\n\t\t\t\t\t\t\tdiffs[ pointer ][ 1 ] = textInsert.substring( textInsert.length -\n\t\t\t\t\t\t\t\t\tcommonlength ) + diffs[ pointer ][ 1 ];\n\t\t\t\t\t\t\ttextInsert = textInsert.substring( 0, textInsert.length -\n\t\t\t\t\t\t\t\tcommonlength );\n\t\t\t\t\t\t\ttextDelete = textDelete.substring( 0, textDelete.length -\n\t\t\t\t\t\t\t\tcommonlength );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Delete the offending records and add the merged ones.\n\t\t\t\t\tif ( countDelete === 0 ) {\n\t\t\t\t\t\tdiffs.splice( pointer - countInsert,\n\t\t\t\t\t\t\tcountDelete + countInsert, [ DIFF_INSERT, textInsert ] );\n\t\t\t\t\t} else if ( countInsert === 0 ) {\n\t\t\t\t\t\tdiffs.splice( pointer - countDelete,\n\t\t\t\t\t\t\tcountDelete + countInsert, [ DIFF_DELETE, textDelete ] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer - countDelete - countInsert,\n\t\t\t\t\t\t\tcountDelete + countInsert,\n\t\t\t\t\t\t\t[ DIFF_DELETE, textDelete ], [ DIFF_INSERT, textInsert ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tpointer = pointer - countDelete - countInsert +\n\t\t\t\t\t\t( countDelete ? 1 : 0 ) + ( countInsert ? 1 : 0 ) + 1;\n\t\t\t\t} else if ( pointer !== 0 && diffs[ pointer - 1 ][ 0 ] === DIFF_EQUAL ) {\n\n\t\t\t\t\t// Merge this equality with the previous one.\n\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] += diffs[ pointer ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer, 1 );\n\t\t\t\t} else {\n\t\t\t\t\tpointer++;\n\t\t\t\t}\n\t\t\t\tcountInsert = 0;\n\t\t\t\tcountDelete = 0;\n\t\t\t\ttextDelete = \"\";\n\t\t\t\ttextInsert = \"\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ( diffs[ diffs.length - 1 ][ 1 ] === \"\" ) {\n\t\t\tdiffs.pop(); // Remove the dummy entry at the end.\n\t\t}\n\n\t\t// Second pass: look for single edits surrounded on both sides by equalities\n\t\t// which can be shifted sideways to eliminate an equality.\n\t\t// e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\t\tchanges = false;\n\t\tpointer = 1;\n\n\t\t// Intentionally ignore the first and last element (don't need checking).\n\t\twhile ( pointer < diffs.length - 1 ) {\n\t\t\tif ( diffs[ pointer - 1 ][ 0 ] === DIFF_EQUAL &&\n\t\t\t\t\tdiffs[ pointer + 1 ][ 0 ] === DIFF_EQUAL ) {\n\n\t\t\t\tdiffPointer = diffs[ pointer ][ 1 ];\n\t\t\t\tposition = diffPointer.substring(\n\t\t\t\t\tdiffPointer.length - diffs[ pointer - 1 ][ 1 ].length\n\t\t\t\t);\n\n\t\t\t\t// This is a single edit surrounded by equalities.\n\t\t\t\tif ( position === diffs[ pointer - 1 ][ 1 ] ) {\n\n\t\t\t\t\t// Shift the edit over the previous equality.\n\t\t\t\t\tdiffs[ pointer ][ 1 ] = diffs[ pointer - 1 ][ 1 ] +\n\t\t\t\t\t\tdiffs[ pointer ][ 1 ].substring( 0, diffs[ pointer ][ 1 ].length -\n\t\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ].length );\n\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] =\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] + diffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer - 1, 1 );\n\t\t\t\t\tchanges = true;\n\t\t\t\t} else if ( diffPointer.substring( 0, diffs[ pointer + 1 ][ 1 ].length ) ===\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] ) {\n\n\t\t\t\t\t// Shift the edit over the next equality.\n\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] += diffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs[ pointer ][ 1 ] =\n\t\t\t\t\t\tdiffs[ pointer ][ 1 ].substring( diffs[ pointer + 1 ][ 1 ].length ) +\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer + 1, 1 );\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\t// If shifts were made, the diff needs reordering and another shift sweep.\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\t};\n\n\treturn function( o, n ) {\n\t\tvar diff, output, text;\n\t\tdiff = new DiffMatchPatch();\n\t\toutput = diff.DiffMain( o, n );\n\t\tdiff.diffCleanupEfficiency( output );\n\t\ttext = diff.diffPrettyHtml( output );\n\n\t\treturn text;\n\t};\n}() );\n\n}() );\n"]}