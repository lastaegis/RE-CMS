{"version":3,"sources":["../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/tests/integration/dom-changes.js"],"names":["module","test","assert","expected","window","MutationObserver","addEventListener","expect","asyncDone","syncDone","async","$","require","Options","Select2","$select","append","select","on","args","equal","data","length","id","val","$option","children","eq","remove"],"mappings":";;AAAAA,OAAO,iBAAP;;AAEAC,KAAK,gDAAL,EAAuD,UAAUC,MAAV,EAAkB;AACvE;AACA,MAAIC,WAAW,CAAf;AACA,MAAIC,OAAOC,gBAAX,EAA6B;AAC3BF,eAAW,CAAX;AACD,GAFD,MAEO,IAAI,CAACC,OAAOE,gBAAZ,EAA8B;AACnCH,eAAW,CAAX;AACD;;AAEDD,SAAOK,MAAP,CAAcJ,QAAd;;AAEA,MAAIK,YAAY,IAAhB;AACA,MAAIC,WAAWP,OAAOQ,KAAP,EAAf;;AAEA,MAAIP,YAAY,CAAhB,EAAmB;AACjBK,gBAAYN,OAAOQ,KAAP,EAAZ;AACD;;AAED,MAAIC,IAAIC,QAAQ,QAAR,CAAR;AACA,MAAIC,UAAUD,QAAQ,iBAAR,CAAd;AACA,MAAIE,UAAUF,QAAQ,cAAR,CAAd;;AAEA,MAAIG,UAAUJ,EACZ,aACE,sBADF,GAEE,sBAFF,GAGA,WAJY,CAAd;;AAOAA,IAAE,gBAAF,EAAoBK,MAApB,CAA2BD,OAA3B;;AAEA,MAAIE,SAAS,IAAIH,OAAJ,CAAYC,OAAZ,CAAb;;AAEAE,SAAOC,EAAP,CAAU,kBAAV,EAA8B,UAAUC,IAAV,EAAgB;AAC5CjB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAUC,MADZ,EAEE,CAFF,EAGE,mCAHF;;AAMApB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAU,CAAV,EAAaE,EADf,EAEE,KAFF,EAGE,mDAHF;;AAMA,QAAIpB,YAAY,CAAhB,EAAmB;AACjBK;AACD;AACF,GAhBD;;AAkBAN,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKA,MAAIC,UAAUd,EAAE,wBAAF,CAAd;;AAEAI,UAAQC,MAAR,CAAeS,OAAf;;AAEAvB,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKAf;AACD,CAlED;;AAoEAR,KAAK,gDAAL,EAAuD,UAAUC,MAAV,EAAkB;AACvE;AACA,MAAIC,WAAW,CAAf;AACA,MAAI,CAACC,OAAOC,gBAAR,IAA4B,CAACD,OAAOE,gBAAxC,EAA0D;AACxDH,eAAW,CAAX;AACD;;AAEDD,SAAOK,MAAP,CAAcJ,QAAd;;AAEA,MAAIK,YAAY,IAAhB;AACA,MAAIC,WAAWP,OAAOQ,KAAP,EAAf;;AAEA,MAAIP,YAAY,CAAhB,EAAmB;AACjBK,gBAAYN,OAAOQ,KAAP,EAAZ;AACD;;AAED,MAAIC,IAAIC,QAAQ,QAAR,CAAR;AACA,MAAIC,UAAUD,QAAQ,iBAAR,CAAd;AACA,MAAIE,UAAUF,QAAQ,cAAR,CAAd;;AAEA,MAAIG,UAAUJ,EACZ,aACE,sBADF,GAEE,sBAFF,GAGA,WAJY,CAAd;;AAOAA,IAAE,gBAAF,EAAoBK,MAApB,CAA2BD,OAA3B;;AAEA,MAAIE,SAAS,IAAIH,OAAJ,CAAYC,OAAZ,CAAb;;AAEAE,SAAOC,EAAP,CAAU,kBAAV,EAA8B,UAAUC,IAAV,EAAgB;AAC5CjB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAUC,MADZ,EAEE,CAFF,EAGE,mCAHF;;AAMApB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAU,CAAV,EAAaE,EADf,EAEE,OAFF,EAGE,uCAHF;;AAMA,QAAIpB,YAAY,CAAhB,EAAmB;AACjBK;AACD;AACF,GAhBD;;AAkBAN,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKA,MAAIC,UAAUd,EAAE,iCAAF,CAAd;;AAEAI,UAAQC,MAAR,CAAeS,OAAf;;AAEAvB,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,OAFF;;AAKAf;AACD,CAhED;;AAkEAR,KAAK,+CAAL,EAAsD,UAAUC,MAAV,EAAkB;AACtE;AACA,MAAIC,WAAW,CAAf;AACA,MAAI,CAACC,OAAOC,gBAAR,IAA4B,CAACD,OAAOE,gBAAxC,EAA0D;AACxDH,eAAW,CAAX;AACD;;AAEDD,SAAOK,MAAP,CAAcJ,QAAd;;AAEA,MAAIK,YAAY,IAAhB;AACA,MAAIC,WAAWP,OAAOQ,KAAP,EAAf;;AAEA,MAAIP,YAAY,CAAhB,EAAmB;AACjBK,gBAAYN,OAAOQ,KAAP,EAAZ;AACD;;AAED,MAAIC,IAAIC,QAAQ,QAAR,CAAR;AACA,MAAIC,UAAUD,QAAQ,iBAAR,CAAd;AACA,MAAIE,UAAUF,QAAQ,cAAR,CAAd;;AAEA,MAAIG,UAAUJ,EACZ,aACE,sBADF,GAEE,sBAFF,GAGA,WAJY,CAAd;;AAOAA,IAAE,gBAAF,EAAoBK,MAApB,CAA2BD,OAA3B;;AAEA,MAAIE,SAAS,IAAIH,OAAJ,CAAYC,OAAZ,CAAb;;AAEAE,SAAOC,EAAP,CAAU,kBAAV,EAA8B,UAAUC,IAAV,EAAgB;AAC5CjB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAUC,MADZ,EAEE,CAFF,EAGE,mCAHF;;AAMApB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAU,CAAV,EAAaE,EADf,EAEE,KAFF,EAGE,mDAHF;;AAMA,QAAIpB,YAAY,CAAhB,EAAmB;AACjBK;AACD;AACF,GAhBD;;AAkBAN,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKAT,UAAQW,QAAR,GAAmBC,EAAnB,CAAsB,CAAtB,EAAyBC,MAAzB;;AAEA1B,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKAf;AACD,CA9DD;;AAgEAR,KAAK,8CAAL,EAAqD,UAAUC,MAAV,EAAkB;AACrE;AACA,MAAIC,WAAW,CAAf;AACA,MAAI,CAACC,OAAOC,gBAAR,IAA4B,CAACD,OAAOE,gBAAxC,EAA0D;AACxDH,eAAW,CAAX;AACD;;AAEDD,SAAOK,MAAP,CAAcJ,QAAd;;AAEA,MAAIK,YAAY,IAAhB;AACA,MAAIC,WAAWP,OAAOQ,KAAP,EAAf;;AAEA,MAAIP,YAAY,CAAhB,EAAmB;AACjBK,gBAAYN,OAAOQ,KAAP,EAAZ;AACD;;AAED,MAAIC,IAAIC,QAAQ,QAAR,CAAR;AACA,MAAIC,UAAUD,QAAQ,iBAAR,CAAd;AACA,MAAIE,UAAUF,QAAQ,cAAR,CAAd;;AAEA,MAAIG,UAAUJ,EACZ,aACE,sBADF,GAEE,sBAFF,GAGA,WAJY,CAAd;;AAOAA,IAAE,gBAAF,EAAoBK,MAApB,CAA2BD,OAA3B;;AAEA,MAAIE,SAAS,IAAIH,OAAJ,CAAYC,OAAZ,CAAb;;AAEAE,SAAOC,EAAP,CAAU,kBAAV,EAA8B,UAAUC,IAAV,EAAgB;AAC5CjB,WAAOkB,KAAP,CACED,KAAKE,IAAL,CAAUC,MADZ,EAEE,CAFF,EAGE,mCAHF;;AAMA,QAAInB,YAAY,CAAhB,EAAmB;AACjBK;AACD;AACF,GAVD;;AAYAN,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKAT,UAAQW,QAAR,GAAmBC,EAAnB,CAAsB,CAAtB,EAAyBC,MAAzB;;AAEA1B,SAAOkB,KAAP,CACEL,QAAQS,GAAR,EADF,EAEE,KAFF;;AAKAf;AACD,CAxDD","file":"dom-changes.js","sourcesContent":["module('DOM integration');\n\ntest('adding a new unselected option changes nothing', function (assert) {\n  // Any browsers which support mutation observers will not trigger the event\n  var expected = 4;\n  if (window.MutationObserver) {\n    expected = 2;\n  } else if (!window.addEventListener) {\n    expected = 2;\n  }\n\n  assert.expect(expected);\n\n  var asyncDone = null;\n  var syncDone = assert.async();\n\n  if (expected != 2) {\n    asyncDone = assert.async();\n  }\n\n  var $ = require('jquery');\n  var Options = require('select2/options');\n  var Select2 = require('select2/core');\n\n  var $select = $(\n    '<select>' +\n      '<option>One</option>' +\n      '<option>Two</option>' +\n    '</select>'\n  );\n\n  $('#qunit-fixture').append($select);\n\n  var select = new Select2($select);\n\n  select.on('selection:update', function (args) {\n    assert.equal(\n      args.data.length,\n      1,\n      'There was more than one selection'\n    );\n\n    assert.equal(\n      args.data[0].id,\n      'One',\n      'The selection changed to something other than One'\n    );\n\n    if (expected != 2) {\n      asyncDone();\n    }\n  });\n\n  assert.equal(\n    $select.val(),\n    'One'\n  );\n\n  var $option = $('<option>Three</option>');\n\n  $select.append($option);\n\n  assert.equal(\n    $select.val(),\n    'One'\n  );\n\n  syncDone();\n});\n\ntest('adding a new selected option changes the value', function (assert) {\n  // handle IE 8 not being supported\n  var expected = 4;\n  if (!window.MutationObserver && !window.addEventListener) {\n    expected = 2;\n  }\n\n  assert.expect(expected);\n\n  var asyncDone = null;\n  var syncDone = assert.async();\n\n  if (expected != 2) {\n    asyncDone = assert.async();\n  }\n\n  var $ = require('jquery');\n  var Options = require('select2/options');\n  var Select2 = require('select2/core');\n\n  var $select = $(\n    '<select>' +\n      '<option>One</option>' +\n      '<option>Two</option>' +\n    '</select>'\n  );\n\n  $('#qunit-fixture').append($select);\n\n  var select = new Select2($select);\n\n  select.on('selection:update', function (args) {\n    assert.equal(\n      args.data.length,\n      1,\n      'There was more than one selection'\n    );\n\n    assert.equal(\n      args.data[0].id,\n      'Three',\n      'The selection did not change to Three'\n    );\n\n    if (expected != 2) {\n      asyncDone();\n    }\n  });\n\n  assert.equal(\n    $select.val(),\n    'One'\n  );\n\n  var $option = $('<option selected>Three</option>');\n\n  $select.append($option);\n\n  assert.equal(\n    $select.val(),\n    'Three'\n  );\n\n  syncDone();\n});\n\ntest('removing an unselected option changes nothing', function (assert) {\n  // Any browsers which support mutation observers will not trigger the event\n  var expected = 4;\n  if (!window.MutationObserver && !window.addEventListener) {\n    expected = 2;\n  }\n\n  assert.expect(expected);\n\n  var asyncDone = null;\n  var syncDone = assert.async();\n\n  if (expected != 2) {\n    asyncDone = assert.async();\n  }\n\n  var $ = require('jquery');\n  var Options = require('select2/options');\n  var Select2 = require('select2/core');\n\n  var $select = $(\n    '<select>' +\n      '<option>One</option>' +\n      '<option>Two</option>' +\n    '</select>'\n  );\n\n  $('#qunit-fixture').append($select);\n\n  var select = new Select2($select);\n\n  select.on('selection:update', function (args) {\n    assert.equal(\n      args.data.length,\n      1,\n      'There was more than one selection'\n    );\n\n    assert.equal(\n      args.data[0].id,\n      'One',\n      'The selection changed to something other than One'\n    );\n\n    if (expected != 2) {\n      asyncDone();\n    }\n  });\n\n  assert.equal(\n    $select.val(),\n    'One'\n  );\n\n  $select.children().eq(1).remove();\n\n  assert.equal(\n    $select.val(),\n    'One'\n  );\n\n  syncDone();\n});\n\ntest('removing a selected option changes the value', function (assert) {\n  // handle IE 8 not being supported\n  var expected = 3;\n  if (!window.MutationObserver && !window.addEventListener) {\n    expected = 2;\n  }\n\n  assert.expect(expected);\n\n  var asyncDone = null;\n  var syncDone = assert.async();\n\n  if (expected != 2) {\n    asyncDone = assert.async();\n  }\n\n  var $ = require('jquery');\n  var Options = require('select2/options');\n  var Select2 = require('select2/core');\n\n  var $select = $(\n    '<select>' +\n      '<option>One</option>' +\n      '<option>Two</option>' +\n    '</select>'\n  );\n\n  $('#qunit-fixture').append($select);\n\n  var select = new Select2($select);\n\n  select.on('selection:update', function (args) {\n    assert.equal(\n      args.data.length,\n      1,\n      'There was more than one selection'\n    );\n\n    if (expected != 2) {\n      asyncDone();\n    }\n  });\n\n  assert.equal(\n    $select.val(),\n    'One'\n  );\n\n  $select.children().eq(0).remove();\n\n  assert.equal(\n    $select.val(),\n    'Two'\n  );\n\n  syncDone();\n});"]}