{"version":3,"sources":["../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/tests/data/maximumInputLength-tests.js"],"names":["module","MaximumInputLength","require","$","Options","Utils","MaximumInputStub","called","prototype","query","params","callback","MaximumInputData","Decorate","test","assert","zeroOptions","maximumInputLength","data","trigger","ok","term","negativeOptions","options"],"mappings":"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","file":"maximumInputLength-tests.js","sourcesContent":["module('Data adapters - Maximum input length');\n\nvar MaximumInputLength = require('select2/data/maximumInputLength');\nvar $ = require('jquery');\nvar Options = require('select2/options');\nvar Utils = require('select2/utils');\n\nfunction MaximumInputStub () {\n  this.called = false;\n}\n\nMaximumInputStub.prototype.query = function (params, callback) {\n  this.called = true;\n};\n\nvar MaximumInputData = Utils.Decorate(MaximumInputStub, MaximumInputLength);\n\ntest('0 never displays the notice', function (assert) {\n  var zeroOptions = new Options({\n    maximumInputLength: 0\n  });\n\n  var data = new MaximumInputData(null, zeroOptions);\n\n  data.trigger = function () {\n    assert.ok(false, 'No events should be triggered');\n  };\n\n  data.query({\n    term: ''\n  });\n\n  assert.ok(data.called);\n\n  data = new MaximumInputData(null, zeroOptions);\n\n  data.query({\n    term: 'test'\n  });\n\n  assert.ok(data.called);\n});\n\ntest('< 0 never displays the notice', function (assert) {\n  var negativeOptions = new Options({\n    maximumInputLength: -1\n  });\n\n  var data = new MaximumInputData(null, negativeOptions);\n\n  data.trigger = function () {\n    assert.ok(false, 'No events should be triggered');\n  };\n\n  data.query({\n    term: ''\n  });\n\n  assert.ok(data.called);\n\n  data = new MaximumInputData(null, negativeOptions);\n\n  data.query({\n    term: 'test'\n  });\n\n  assert.ok(data.called);\n});\n\ntest('triggers when input is too long', function (assert) {\n  var options = new Options({\n    maximumInputLength: 1\n  });\n\n  var data = new MaximumInputData(null, options);\n\n  data.trigger = function () {\n    assert.ok(true, 'The event should be triggered.');\n  };\n\n  data.query({\n    term: 'no'\n  });\n\n  assert.ok(!data.called, 'The adapter should not be called');\n});\n\ntest('does not trigger when equal', function (assert) {\n  var options = new Options({\n    maximumInputLength: 10\n  });\n\n  var data = new MaximumInputData(null, options);\n\n  data.trigger = function () {\n    assert.ok(false, 'The event should not be triggered.');\n  };\n\n  data.query({\n    term: '1234567890'\n  });\n\n  assert.ok(data.called);\n});\n\ntest('does not trigger when less', function (assert) {\n  var options = new Options({\n    maximumInputLength: 10\n  });\n\n  var data = new MaximumInputData(null, options);\n\n  data.trigger = function () {\n    assert.ok(false, 'The event should not be triggered.');\n  };\n\n  data.query({\n    term: '123'\n  });\n\n  assert.ok(data.called);\n});\n\ntest('works with null term', function (assert) {\n  var options = new Options({\n    maximumInputLength: 1\n  });\n\n  var data = new MaximumInputData(null, options);\n\n  data.trigger = function () {\n    assert.ok(false, 'The event should not be triggered');\n  };\n\n  data.query({});\n\n  assert.ok(data.called);\n});\n"]}