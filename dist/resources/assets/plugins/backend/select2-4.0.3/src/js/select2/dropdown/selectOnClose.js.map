{"version":3,"sources":["../../../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/src/js/select2/dropdown/selectOnClose.js"],"names":["define","SelectOnClose","prototype","bind","decorated","container","$container","self","call","on","params","_handleSelectOnClose","_","originalSelect2Event","event","_type","$highlightedResults","getHighlightedResults","length","data","element","selected","trigger"],"mappings":";;AAAAA,OAAO,EAAP,EAEG,YAAY;AACb,WAASC,aAAT,GAA0B,CAAG;;AAE7BA,gBAAcC,SAAd,CAAwBC,IAAxB,GAA+B,UAAUC,SAAV,EAAqBC,SAArB,EAAgCC,UAAhC,EAA4C;AACzE,QAAIC,OAAO,IAAX;;AAEAH,cAAUI,IAAV,CAAe,IAAf,EAAqBH,SAArB,EAAgCC,UAAhC;;AAEAD,cAAUI,EAAV,CAAa,OAAb,EAAsB,UAAUC,MAAV,EAAkB;AACtCH,WAAKI,oBAAL,CAA0BD,MAA1B;AACD,KAFD;AAGD,GARD;;AAUAT,gBAAcC,SAAd,CAAwBS,oBAAxB,GAA+C,UAAUC,CAAV,EAAaF,MAAb,EAAqB;AAClE,QAAIA,UAAUA,OAAOG,oBAAP,IAA+B,IAA7C,EAAmD;AACjD,UAAIC,QAAQJ,OAAOG,oBAAnB;;AAEA;AACA;AACA,UAAIC,MAAMC,KAAN,KAAgB,QAAhB,IAA4BD,MAAMC,KAAN,KAAgB,UAAhD,EAA4D;AAC1D;AACD;AACF;;AAED,QAAIC,sBAAsB,KAAKC,qBAAL,EAA1B;;AAEA;AACA,QAAID,oBAAoBE,MAApB,GAA6B,CAAjC,EAAoC;AAClC;AACD;;AAED,QAAIC,OAAOH,oBAAoBG,IAApB,CAAyB,MAAzB,CAAX;;AAEA;AACA,QACGA,KAAKC,OAAL,IAAgB,IAAhB,IAAwBD,KAAKC,OAAL,CAAaC,QAAtC,IACCF,KAAKC,OAAL,IAAgB,IAAhB,IAAwBD,KAAKE,QAFhC,EAGE;AACA;AACD;;AAED,SAAKC,OAAL,CAAa,QAAb,EAAuB;AACnBH,YAAMA;AADa,KAAvB;AAGD,GA/BD;;AAiCA,SAAOlB,aAAP;AACD,CAjDD","file":"selectOnClose.js","sourcesContent":["define([\n\n], function () {\n  function SelectOnClose () { }\n\n  SelectOnClose.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('close', function (params) {\n      self._handleSelectOnClose(params);\n    });\n  };\n\n  SelectOnClose.prototype._handleSelectOnClose = function (_, params) {\n    if (params && params.originalSelect2Event != null) {\n      var event = params.originalSelect2Event;\n\n      // Don't select an item if the close event was triggered from a select or\n      // unselect event\n      if (event._type === 'select' || event._type === 'unselect') {\n        return;\n      }\n    }\n\n    var $highlightedResults = this.getHighlightedResults();\n\n    // Only select highlighted results\n    if ($highlightedResults.length < 1) {\n      return;\n    }\n\n    var data = $highlightedResults.data('data');\n\n    // Don't re-select already selected resulte\n    if (\n      (data.element != null && data.element.selected) ||\n      (data.element == null && data.selected)\n    ) {\n      return;\n    }\n\n    this.trigger('select', {\n        data: data\n    });\n  };\n\n  return SelectOnClose;\n});\n"]}