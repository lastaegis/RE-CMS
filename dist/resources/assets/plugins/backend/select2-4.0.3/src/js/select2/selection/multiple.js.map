{"version":3,"sources":["../../../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/src/js/select2/selection/multiple.js"],"names":["define","$","BaseSelection","Utils","MultipleSelection","$element","options","__super__","constructor","apply","arguments","Extend","prototype","render","$selection","call","addClass","html","bind","container","$container","self","on","evt","trigger","originalEvent","get","$remove","parent","data","clear","find","empty","display","template","escapeMarkup","selectionContainer","update","length","$selections","d","selection","formatted","append","prop","title","text","push","$rendered","appendMany"],"mappings":"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","file":"multiple.js","sourcesContent":["define([\n  'jquery',\n  './base',\n  '../utils'\n], function ($, BaseSelection, Utils) {\n  function MultipleSelection ($element, options) {\n    MultipleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(MultipleSelection, BaseSelection);\n\n  MultipleSelection.prototype.render = function () {\n    var $selection = MultipleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--multiple');\n\n    $selection.html(\n      '<ul class=\"select2-selection__rendered\"></ul>'\n    );\n\n    return $selection;\n  };\n\n  MultipleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    MultipleSelection.__super__.bind.apply(this, arguments);\n\n    this.$selection.on('click', function (evt) {\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on(\n      'click',\n      '.select2-selection__choice__remove',\n      function (evt) {\n        // Ignore the event if it is disabled\n        if (self.options.get('disabled')) {\n          return;\n        }\n\n        var $remove = $(this);\n        var $selection = $remove.parent();\n\n        var data = $selection.data('data');\n\n        self.trigger('unselect', {\n          originalEvent: evt,\n          data: data\n        });\n      }\n    );\n  };\n\n  MultipleSelection.prototype.clear = function () {\n    this.$selection.find('.select2-selection__rendered').empty();\n  };\n\n  MultipleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data, container));\n  };\n\n  MultipleSelection.prototype.selectionContainer = function () {\n    var $container = $(\n      '<li class=\"select2-selection__choice\">' +\n        '<span class=\"select2-selection__choice__remove\" role=\"presentation\">' +\n          '&times;' +\n        '</span>' +\n      '</li>'\n    );\n\n    return $container;\n  };\n\n  MultipleSelection.prototype.update = function (data) {\n    this.clear();\n\n    if (data.length === 0) {\n      return;\n    }\n\n    var $selections = [];\n\n    for (var d = 0; d < data.length; d++) {\n      var selection = data[d];\n\n      var $selection = this.selectionContainer();\n      var formatted = this.display(selection, $selection);\n\n      $selection.append(formatted);\n      $selection.prop('title', selection.title || selection.text);\n\n      $selection.data('data', selection);\n\n      $selections.push($selection);\n    }\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n\n    Utils.appendMany($rendered, $selections);\n  };\n\n  return MultipleSelection;\n});\n"]}