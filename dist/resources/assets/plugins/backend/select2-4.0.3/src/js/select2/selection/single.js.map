{"version":3,"sources":["../../../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/src/js/select2/selection/single.js"],"names":["define","$","BaseSelection","Utils","KEYS","SingleSelection","__super__","constructor","apply","arguments","Extend","prototype","render","$selection","call","addClass","html","bind","container","$container","self","id","find","attr","on","evt","which","trigger","originalEvent","isOpen","focus","params","update","data","clear","empty","display","template","options","get","escapeMarkup","selectionContainer","length","selection","$rendered","formatted","append","prop","title","text"],"mappings":"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","file":"single.js","sourcesContent":["define([\n  'jquery',\n  './base',\n  '../utils',\n  '../keys'\n], function ($, BaseSelection, Utils, KEYS) {\n  function SingleSelection () {\n    SingleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(SingleSelection, BaseSelection);\n\n  SingleSelection.prototype.render = function () {\n    var $selection = SingleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--single');\n\n    $selection.html(\n      '<span class=\"select2-selection__rendered\"></span>' +\n      '<span class=\"select2-selection__arrow\" role=\"presentation\">' +\n        '<b role=\"presentation\"></b>' +\n      '</span>'\n    );\n\n    return $selection;\n  };\n\n  SingleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    SingleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n\n    this.$selection.find('.select2-selection__rendered').attr('id', id);\n    this.$selection.attr('aria-labelledby', id);\n\n    this.$selection.on('mousedown', function (evt) {\n      // Only respond to left clicks\n      if (evt.which !== 1) {\n        return;\n      }\n\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('focus', function (evt) {\n      // User focuses on the container\n    });\n\n    this.$selection.on('blur', function (evt) {\n      // User exits the container\n    });\n\n    container.on('focus', function (evt) {\n      if (!container.isOpen()) {\n        self.$selection.focus();\n      }\n    });\n\n    container.on('selection:update', function (params) {\n      self.update(params.data);\n    });\n  };\n\n  SingleSelection.prototype.clear = function () {\n    this.$selection.find('.select2-selection__rendered').empty();\n  };\n\n  SingleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data, container));\n  };\n\n  SingleSelection.prototype.selectionContainer = function () {\n    return $('<span></span>');\n  };\n\n  SingleSelection.prototype.update = function (data) {\n    if (data.length === 0) {\n      this.clear();\n      return;\n    }\n\n    var selection = data[0];\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    var formatted = this.display(selection, $rendered);\n\n    $rendered.empty().append(formatted);\n    $rendered.prop('title', selection.title || selection.text);\n  };\n\n  return SingleSelection;\n});\n"]}