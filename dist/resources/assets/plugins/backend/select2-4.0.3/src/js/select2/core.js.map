{"version":3,"sources":["../../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/src/js/select2/core.js"],"names":["define","$","Options","Utils","KEYS","Select2","$element","options","data","destroy","id","_generateId","__super__","constructor","call","tabindex","attr","DataAdapter","get","dataAdapter","$container","render","_placeContainer","SelectionAdapter","selection","$selection","position","DropdownAdapter","dropdown","$dropdown","ResultsAdapter","results","$results","self","_bindAdapters","_registerDomEvents","_registerDataEvents","_registerSelectionEvents","_registerDropdownEvents","_registerResultsEvents","_registerEvents","current","initialData","trigger","addClass","_syncAttributes","Extend","Observable","prototype","generateChars","replace","insertAfter","width","_resolveWidth","css","method","WIDTH","styleWidth","elementWidth","outerWidth","style","attrs","split","i","l","length","matches","match","bind","on","evt","_syncA","_syncS","_syncSubtree","attachEvent","observer","window","MutationObserver","WebKitMutationObserver","MozMutationObserver","_observer","mutations","each","observe","attributes","childList","subtree","addEventListener","name","params","nonRelayEvents","toggleDropdown","focus","inArray","removeClass","isOpen","query","key","which","ESC","TAB","UP","altKey","close","preventDefault","ENTER","SPACE","ctrlKey","DOWN","open","set","prop","changed","target","nodeName","addedNodes","n","node","selected","removedNodes","currentData","args","actualTrigger","preTriggerMap","undefined","preTriggerName","preTriggerArgs","prevented","hasClass","hasFocus","enable","console","warn","disabled","arguments","val","newVal","isArray","map","obj","toString","remove","detachEvent","disconnect","removeEventListener","off","removeData"],"mappings":"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","file":"core.js","sourcesContent":["define([\n  'jquery',\n  './options',\n  './utils',\n  './keys'\n], function ($, Options, Utils, KEYS) {\n  var Select2 = function ($element, options) {\n    if ($element.data('select2') != null) {\n      $element.data('select2').destroy();\n    }\n\n    this.$element = $element;\n\n    this.id = this._generateId($element);\n\n    options = options || {};\n\n    this.options = new Options(options, $element);\n\n    Select2.__super__.constructor.call(this);\n\n    // Set up the tabindex\n\n    var tabindex = $element.attr('tabindex') || 0;\n    $element.data('old-tabindex', tabindex);\n    $element.attr('tabindex', '-1');\n\n    // Set up containers and adapters\n\n    var DataAdapter = this.options.get('dataAdapter');\n    this.dataAdapter = new DataAdapter($element, this.options);\n\n    var $container = this.render();\n\n    this._placeContainer($container);\n\n    var SelectionAdapter = this.options.get('selectionAdapter');\n    this.selection = new SelectionAdapter($element, this.options);\n    this.$selection = this.selection.render();\n\n    this.selection.position(this.$selection, $container);\n\n    var DropdownAdapter = this.options.get('dropdownAdapter');\n    this.dropdown = new DropdownAdapter($element, this.options);\n    this.$dropdown = this.dropdown.render();\n\n    this.dropdown.position(this.$dropdown, $container);\n\n    var ResultsAdapter = this.options.get('resultsAdapter');\n    this.results = new ResultsAdapter($element, this.options, this.dataAdapter);\n    this.$results = this.results.render();\n\n    this.results.position(this.$results, this.$dropdown);\n\n    // Bind events\n\n    var self = this;\n\n    // Bind the container to all of the adapters\n    this._bindAdapters();\n\n    // Register any DOM event handlers\n    this._registerDomEvents();\n\n    // Register any internal event handlers\n    this._registerDataEvents();\n    this._registerSelectionEvents();\n    this._registerDropdownEvents();\n    this._registerResultsEvents();\n    this._registerEvents();\n\n    // Set the initial state\n    this.dataAdapter.current(function (initialData) {\n      self.trigger('selection:update', {\n        data: initialData\n      });\n    });\n\n    // Hide the original select\n    $element.addClass('select2-hidden-accessible');\n    $element.attr('aria-hidden', 'true');\n\n    // Synchronize any monitored attributes\n    this._syncAttributes();\n\n    $element.data('select2', this);\n  };\n\n  Utils.Extend(Select2, Utils.Observable);\n\n  Select2.prototype._generateId = function ($element) {\n    var id = '';\n\n    if ($element.attr('id') != null) {\n      id = $element.attr('id');\n    } else if ($element.attr('name') != null) {\n      id = $element.attr('name') + '-' + Utils.generateChars(2);\n    } else {\n      id = Utils.generateChars(4);\n    }\n\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = 'select2-' + id;\n\n    return id;\n  };\n\n  Select2.prototype._placeContainer = function ($container) {\n    $container.insertAfter(this.$element);\n\n    var width = this._resolveWidth(this.$element, this.options.get('width'));\n\n    if (width != null) {\n      $container.css('width', width);\n    }\n  };\n\n  Select2.prototype._resolveWidth = function ($element, method) {\n    var WIDTH = /^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;\n\n    if (method == 'resolve') {\n      var styleWidth = this._resolveWidth($element, 'style');\n\n      if (styleWidth != null) {\n        return styleWidth;\n      }\n\n      return this._resolveWidth($element, 'element');\n    }\n\n    if (method == 'element') {\n      var elementWidth = $element.outerWidth(false);\n\n      if (elementWidth <= 0) {\n        return 'auto';\n      }\n\n      return elementWidth + 'px';\n    }\n\n    if (method == 'style') {\n      var style = $element.attr('style');\n\n      if (typeof(style) !== 'string') {\n        return null;\n      }\n\n      var attrs = style.split(';');\n\n      for (var i = 0, l = attrs.length; i < l; i = i + 1) {\n        var attr = attrs[i].replace(/\\s/g, '');\n        var matches = attr.match(WIDTH);\n\n        if (matches !== null && matches.length >= 1) {\n          return matches[1];\n        }\n      }\n\n      return null;\n    }\n\n    return method;\n  };\n\n  Select2.prototype._bindAdapters = function () {\n    this.dataAdapter.bind(this, this.$container);\n    this.selection.bind(this, this.$container);\n\n    this.dropdown.bind(this, this.$container);\n    this.results.bind(this, this.$container);\n  };\n\n  Select2.prototype._registerDomEvents = function () {\n    var self = this;\n\n    this.$element.on('change.select2', function () {\n      self.dataAdapter.current(function (data) {\n        self.trigger('selection:update', {\n          data: data\n        });\n      });\n    });\n\n    this.$element.on('focus.select2', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this._syncA = Utils.bind(this._syncAttributes, this);\n    this._syncS = Utils.bind(this._syncSubtree, this);\n\n    if (this.$element[0].attachEvent) {\n      this.$element[0].attachEvent('onpropertychange', this._syncA);\n    }\n\n    var observer = window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    ;\n\n    if (observer != null) {\n      this._observer = new observer(function (mutations) {\n        $.each(mutations, self._syncA);\n        $.each(mutations, self._syncS);\n      });\n      this._observer.observe(this.$element[0], {\n        attributes: true,\n        childList: true,\n        subtree: false\n      });\n    } else if (this.$element[0].addEventListener) {\n      this.$element[0].addEventListener(\n        'DOMAttrModified',\n        self._syncA,\n        false\n      );\n      this.$element[0].addEventListener(\n        'DOMNodeInserted',\n        self._syncS,\n        false\n      );\n      this.$element[0].addEventListener(\n        'DOMNodeRemoved',\n        self._syncS,\n        false\n      );\n    }\n  };\n\n  Select2.prototype._registerDataEvents = function () {\n    var self = this;\n\n    this.dataAdapter.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerSelectionEvents = function () {\n    var self = this;\n    var nonRelayEvents = ['toggle', 'focus'];\n\n    this.selection.on('toggle', function () {\n      self.toggleDropdown();\n    });\n\n    this.selection.on('focus', function (params) {\n      self.focus(params);\n    });\n\n    this.selection.on('*', function (name, params) {\n      if ($.inArray(name, nonRelayEvents) !== -1) {\n        return;\n      }\n\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerDropdownEvents = function () {\n    var self = this;\n\n    this.dropdown.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerResultsEvents = function () {\n    var self = this;\n\n    this.results.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerEvents = function () {\n    var self = this;\n\n    this.on('open', function () {\n      self.$container.addClass('select2-container--open');\n    });\n\n    this.on('close', function () {\n      self.$container.removeClass('select2-container--open');\n    });\n\n    this.on('enable', function () {\n      self.$container.removeClass('select2-container--disabled');\n    });\n\n    this.on('disable', function () {\n      self.$container.addClass('select2-container--disabled');\n    });\n\n    this.on('blur', function () {\n      self.$container.removeClass('select2-container--focus');\n    });\n\n    this.on('query', function (params) {\n      if (!self.isOpen()) {\n        self.trigger('open', {});\n      }\n\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:all', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('query:append', function (params) {\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:append', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('keypress', function (evt) {\n      var key = evt.which;\n\n      if (self.isOpen()) {\n        if (key === KEYS.ESC || key === KEYS.TAB ||\n            (key === KEYS.UP && evt.altKey)) {\n          self.close();\n\n          evt.preventDefault();\n        } else if (key === KEYS.ENTER) {\n          self.trigger('results:select', {});\n\n          evt.preventDefault();\n        } else if ((key === KEYS.SPACE && evt.ctrlKey)) {\n          self.trigger('results:toggle', {});\n\n          evt.preventDefault();\n        } else if (key === KEYS.UP) {\n          self.trigger('results:previous', {});\n\n          evt.preventDefault();\n        } else if (key === KEYS.DOWN) {\n          self.trigger('results:next', {});\n\n          evt.preventDefault();\n        }\n      } else {\n        if (key === KEYS.ENTER || key === KEYS.SPACE ||\n            (key === KEYS.DOWN && evt.altKey)) {\n          self.open();\n\n          evt.preventDefault();\n        }\n      }\n    });\n  };\n\n  Select2.prototype._syncAttributes = function () {\n    this.options.set('disabled', this.$element.prop('disabled'));\n\n    if (this.options.get('disabled')) {\n      if (this.isOpen()) {\n        this.close();\n      }\n\n      this.trigger('disable', {});\n    } else {\n      this.trigger('enable', {});\n    }\n  };\n\n  Select2.prototype._syncSubtree = function (evt, mutations) {\n    var changed = false;\n    var self = this;\n\n    // Ignore any mutation events raised for elements that aren't options or\n    // optgroups. This handles the case when the select element is destroyed\n    if (\n      evt && evt.target && (\n        evt.target.nodeName !== 'OPTION' && evt.target.nodeName !== 'OPTGROUP'\n      )\n    ) {\n      return;\n    }\n\n    if (!mutations) {\n      // If mutation events aren't supported, then we can only assume that the\n      // change affected the selections\n      changed = true;\n    } else if (mutations.addedNodes && mutations.addedNodes.length > 0) {\n      for (var n = 0; n < mutations.addedNodes.length; n++) {\n        var node = mutations.addedNodes[n];\n\n        if (node.selected) {\n          changed = true;\n        }\n      }\n    } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {\n      changed = true;\n    }\n\n    // Only re-pull the data if we think there is a change\n    if (changed) {\n      this.dataAdapter.current(function (currentData) {\n        self.trigger('selection:update', {\n          data: currentData\n        });\n      });\n    }\n  };\n\n  /**\n   * Override the trigger method to automatically trigger pre-events when\n   * there are events that can be prevented.\n   */\n  Select2.prototype.trigger = function (name, args) {\n    var actualTrigger = Select2.__super__.trigger;\n    var preTriggerMap = {\n      'open': 'opening',\n      'close': 'closing',\n      'select': 'selecting',\n      'unselect': 'unselecting'\n    };\n\n    if (args === undefined) {\n      args = {};\n    }\n\n    if (name in preTriggerMap) {\n      var preTriggerName = preTriggerMap[name];\n      var preTriggerArgs = {\n        prevented: false,\n        name: name,\n        args: args\n      };\n\n      actualTrigger.call(this, preTriggerName, preTriggerArgs);\n\n      if (preTriggerArgs.prevented) {\n        args.prevented = true;\n\n        return;\n      }\n    }\n\n    actualTrigger.call(this, name, args);\n  };\n\n  Select2.prototype.toggleDropdown = function () {\n    if (this.options.get('disabled')) {\n      return;\n    }\n\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  Select2.prototype.open = function () {\n    if (this.isOpen()) {\n      return;\n    }\n\n    this.trigger('query', {});\n  };\n\n  Select2.prototype.close = function () {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.trigger('close', {});\n  };\n\n  Select2.prototype.isOpen = function () {\n    return this.$container.hasClass('select2-container--open');\n  };\n\n  Select2.prototype.hasFocus = function () {\n    return this.$container.hasClass('select2-container--focus');\n  };\n\n  Select2.prototype.focus = function (data) {\n    // No need to re-trigger focus events if we are already focused\n    if (this.hasFocus()) {\n      return;\n    }\n\n    this.$container.addClass('select2-container--focus');\n    this.trigger('focus', {});\n  };\n\n  Select2.prototype.enable = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"enable\")` method has been deprecated and will' +\n        ' be removed in later Select2 versions. Use $element.prop(\"disabled\")' +\n        ' instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      args = [true];\n    }\n\n    var disabled = !args[0];\n\n    this.$element.prop('disabled', disabled);\n  };\n\n  Select2.prototype.data = function () {\n    if (this.options.get('debug') &&\n        arguments.length > 0 && window.console && console.warn) {\n      console.warn(\n        'Select2: Data can no longer be set using `select2(\"data\")`. You ' +\n        'should consider setting the value instead using `$element.val()`.'\n      );\n    }\n\n    var data = [];\n\n    this.dataAdapter.current(function (currentData) {\n      data = currentData;\n    });\n\n    return data;\n  };\n\n  Select2.prototype.val = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"val\")` method has been deprecated and will be' +\n        ' removed in later Select2 versions. Use $element.val() instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      return this.$element.val();\n    }\n\n    var newVal = args[0];\n\n    if ($.isArray(newVal)) {\n      newVal = $.map(newVal, function (obj) {\n        return obj.toString();\n      });\n    }\n\n    this.$element.val(newVal).trigger('change');\n  };\n\n  Select2.prototype.destroy = function () {\n    this.$container.remove();\n\n    if (this.$element[0].detachEvent) {\n      this.$element[0].detachEvent('onpropertychange', this._syncA);\n    }\n\n    if (this._observer != null) {\n      this._observer.disconnect();\n      this._observer = null;\n    } else if (this.$element[0].removeEventListener) {\n      this.$element[0]\n        .removeEventListener('DOMAttrModified', this._syncA, false);\n      this.$element[0]\n        .removeEventListener('DOMNodeInserted', this._syncS, false);\n      this.$element[0]\n        .removeEventListener('DOMNodeRemoved', this._syncS, false);\n    }\n\n    this._syncA = null;\n    this._syncS = null;\n\n    this.$element.off('.select2');\n    this.$element.attr('tabindex', this.$element.data('old-tabindex'));\n\n    this.$element.removeClass('select2-hidden-accessible');\n    this.$element.attr('aria-hidden', 'false');\n    this.$element.removeData('select2');\n\n    this.dataAdapter.destroy();\n    this.selection.destroy();\n    this.dropdown.destroy();\n    this.results.destroy();\n\n    this.dataAdapter = null;\n    this.selection = null;\n    this.dropdown = null;\n    this.results = null;\n  };\n\n  Select2.prototype.render = function () {\n    var $container = $(\n      '<span class=\"select2 select2-container\">' +\n        '<span class=\"selection\"></span>' +\n        '<span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span>' +\n      '</span>'\n    );\n\n    $container.attr('dir', this.options.get('dir'));\n\n    this.$container = $container;\n\n    this.$container.addClass('select2-container--' + this.options.get('theme'));\n\n    $container.data('element', this.$element);\n\n    return $container;\n  };\n\n  return Select2;\n});\n"]}