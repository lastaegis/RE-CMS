{"version":3,"sources":["../../../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/src/js/select2/data/select.js"],"names":["define","BaseAdapter","Utils","$","SelectAdapter","$element","options","__super__","constructor","call","Extend","prototype","current","callback","data","self","find","each","$option","option","item","push","select","selected","element","is","trigger","prop","currentData","val","apply","d","length","id","inArray","unselect","bind","container","$container","on","params","destroy","removeData","query","$options","children","matches","results","addOptions","appendMany","document","createElement","label","text","textContent","undefined","innerText","value","disabled","title","normalizedData","_normalizeItem","$children","c","$child","child","isPlainObject","extend","defaults","toString","_resultId","generateResultId","matcher","get"],"mappings":"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","file":"select.js","sourcesContent":["define([\n  './base',\n  '../utils',\n  'jquery'\n], function (BaseAdapter, Utils, $) {\n  function SelectAdapter ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    SelectAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(SelectAdapter, BaseAdapter);\n\n  SelectAdapter.prototype.current = function (callback) {\n    var data = [];\n    var self = this;\n\n    this.$element.find(':selected').each(function () {\n      var $option = $(this);\n\n      var option = self.item($option);\n\n      data.push(option);\n    });\n\n    callback(data);\n  };\n\n  SelectAdapter.prototype.select = function (data) {\n    var self = this;\n\n    data.selected = true;\n\n    // If data.element is a DOM node, use it instead\n    if ($(data.element).is('option')) {\n      data.element.selected = true;\n\n      this.$element.trigger('change');\n\n      return;\n    }\n\n    if (this.$element.prop('multiple')) {\n      this.current(function (currentData) {\n        var val = [];\n\n        data = [data];\n        data.push.apply(data, currentData);\n\n        for (var d = 0; d < data.length; d++) {\n          var id = data[d].id;\n\n          if ($.inArray(id, val) === -1) {\n            val.push(id);\n          }\n        }\n\n        self.$element.val(val);\n        self.$element.trigger('change');\n      });\n    } else {\n      var val = data.id;\n\n      this.$element.val(val);\n      this.$element.trigger('change');\n    }\n  };\n\n  SelectAdapter.prototype.unselect = function (data) {\n    var self = this;\n\n    if (!this.$element.prop('multiple')) {\n      return;\n    }\n\n    data.selected = false;\n\n    if ($(data.element).is('option')) {\n      data.element.selected = false;\n\n      this.$element.trigger('change');\n\n      return;\n    }\n\n    this.current(function (currentData) {\n      var val = [];\n\n      for (var d = 0; d < currentData.length; d++) {\n        var id = currentData[d].id;\n\n        if (id !== data.id && $.inArray(id, val) === -1) {\n          val.push(id);\n        }\n      }\n\n      self.$element.val(val);\n\n      self.$element.trigger('change');\n    });\n  };\n\n  SelectAdapter.prototype.bind = function (container, $container) {\n    var self = this;\n\n    this.container = container;\n\n    container.on('select', function (params) {\n      self.select(params.data);\n    });\n\n    container.on('unselect', function (params) {\n      self.unselect(params.data);\n    });\n  };\n\n  SelectAdapter.prototype.destroy = function () {\n    // Remove anything added to child elements\n    this.$element.find('*').each(function () {\n      // Remove any custom data set by Select2\n      $.removeData(this, 'data');\n    });\n  };\n\n  SelectAdapter.prototype.query = function (params, callback) {\n    var data = [];\n    var self = this;\n\n    var $options = this.$element.children();\n\n    $options.each(function () {\n      var $option = $(this);\n\n      if (!$option.is('option') && !$option.is('optgroup')) {\n        return;\n      }\n\n      var option = self.item($option);\n\n      var matches = self.matches(params, option);\n\n      if (matches !== null) {\n        data.push(matches);\n      }\n    });\n\n    callback({\n      results: data\n    });\n  };\n\n  SelectAdapter.prototype.addOptions = function ($options) {\n    Utils.appendMany(this.$element, $options);\n  };\n\n  SelectAdapter.prototype.option = function (data) {\n    var option;\n\n    if (data.children) {\n      option = document.createElement('optgroup');\n      option.label = data.text;\n    } else {\n      option = document.createElement('option');\n\n      if (option.textContent !== undefined) {\n        option.textContent = data.text;\n      } else {\n        option.innerText = data.text;\n      }\n    }\n\n    if (data.id) {\n      option.value = data.id;\n    }\n\n    if (data.disabled) {\n      option.disabled = true;\n    }\n\n    if (data.selected) {\n      option.selected = true;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    var $option = $(option);\n\n    var normalizedData = this._normalizeItem(data);\n    normalizedData.element = option;\n\n    // Override the option's data with the combined data\n    $.data(option, 'data', normalizedData);\n\n    return $option;\n  };\n\n  SelectAdapter.prototype.item = function ($option) {\n    var data = {};\n\n    data = $.data($option[0], 'data');\n\n    if (data != null) {\n      return data;\n    }\n\n    if ($option.is('option')) {\n      data = {\n        id: $option.val(),\n        text: $option.text(),\n        disabled: $option.prop('disabled'),\n        selected: $option.prop('selected'),\n        title: $option.prop('title')\n      };\n    } else if ($option.is('optgroup')) {\n      data = {\n        text: $option.prop('label'),\n        children: [],\n        title: $option.prop('title')\n      };\n\n      var $children = $option.children('option');\n      var children = [];\n\n      for (var c = 0; c < $children.length; c++) {\n        var $child = $($children[c]);\n\n        var child = this.item($child);\n\n        children.push(child);\n      }\n\n      data.children = children;\n    }\n\n    data = this._normalizeItem(data);\n    data.element = $option[0];\n\n    $.data($option[0], 'data', data);\n\n    return data;\n  };\n\n  SelectAdapter.prototype._normalizeItem = function (item) {\n    if (!$.isPlainObject(item)) {\n      item = {\n        id: item,\n        text: item\n      };\n    }\n\n    item = $.extend({}, {\n      text: ''\n    }, item);\n\n    var defaults = {\n      selected: false,\n      disabled: false\n    };\n\n    if (item.id != null) {\n      item.id = item.id.toString();\n    }\n\n    if (item.text != null) {\n      item.text = item.text.toString();\n    }\n\n    if (item._resultId == null && item.id && this.container != null) {\n      item._resultId = this.generateResultId(this.container, item);\n    }\n\n    return $.extend({}, defaults, item);\n  };\n\n  SelectAdapter.prototype.matches = function (params, data) {\n    var matcher = this.options.get('matcher');\n\n    return matcher(params, data);\n  };\n\n  return SelectAdapter;\n});\n"]}