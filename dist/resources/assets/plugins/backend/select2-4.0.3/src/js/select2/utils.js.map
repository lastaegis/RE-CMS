{"version":3,"sources":["../../../../../../../../../resources/assets/plugins/backend/select2-4.0.3/src/js/select2/utils.js"],"names":["define","$","Utils","Extend","ChildClass","SuperClass","__hasProp","hasOwnProperty","BaseConstructor","constructor","key","call","prototype","__super__","getMethods","theClass","proto","methods","methodName","m","push","Decorate","DecoratorClass","decoratedMethods","superMethods","DecoratedClass","unshift","Array","argCount","length","calledConstructor","arguments","apply","displayName","ctr","superMethod","calledMethod","originalMethod","decoratedMethod","d","Observable","listeners","on","event","callback","trigger","slice","params","_type","invoke","i","len","generateChars","chars","randomChar","Math","floor","random","toString","bind","func","context","_convertData","data","originalKey","keys","split","dataLevel","k","substring","toLowerCase","hasScroll","index","el","$el","overflowX","style","overflowY","innerHeight","scrollHeight","innerWidth","scrollWidth","escapeMarkup","markup","replaceMap","String","replace","match","appendMany","$element","$nodes","fn","jquery","substr","$jqNodes","map","node","add","append"],"mappings":";;AAAAA,OAAO,CACL,QADK,CAAP,EAEG,UAAUC,CAAV,EAAa;AACd,MAAIC,QAAQ,EAAZ;;AAEAA,QAAMC,MAAN,GAAe,UAAUC,UAAV,EAAsBC,UAAtB,EAAkC;AAC/C,QAAIC,YAAY,GAAGC,cAAnB;;AAEA,aAASC,eAAT,GAA4B;AAC1B,WAAKC,WAAL,GAAmBL,UAAnB;AACD;;AAED,SAAK,IAAIM,GAAT,IAAgBL,UAAhB,EAA4B;AAC1B,UAAIC,UAAUK,IAAV,CAAeN,UAAf,EAA2BK,GAA3B,CAAJ,EAAqC;AACnCN,mBAAWM,GAAX,IAAkBL,WAAWK,GAAX,CAAlB;AACD;AACF;;AAEDF,oBAAgBI,SAAhB,GAA4BP,WAAWO,SAAvC;AACAR,eAAWQ,SAAX,GAAuB,IAAIJ,eAAJ,EAAvB;AACAJ,eAAWS,SAAX,GAAuBR,WAAWO,SAAlC;;AAEA,WAAOR,UAAP;AACD,GAlBD;;AAoBA,WAASU,UAAT,CAAqBC,QAArB,EAA+B;AAC7B,QAAIC,QAAQD,SAASH,SAArB;;AAEA,QAAIK,UAAU,EAAd;;AAEA,SAAK,IAAIC,UAAT,IAAuBF,KAAvB,EAA8B;AAC5B,UAAIG,IAAIH,MAAME,UAAN,CAAR;;AAEA,UAAI,OAAOC,CAAP,KAAa,UAAjB,EAA6B;AAC3B;AACD;;AAED,UAAID,eAAe,aAAnB,EAAkC;AAChC;AACD;;AAEDD,cAAQG,IAAR,CAAaF,UAAb;AACD;;AAED,WAAOD,OAAP;AACD;;AAEDf,QAAMmB,QAAN,GAAiB,UAAUhB,UAAV,EAAsBiB,cAAtB,EAAsC;AACrD,QAAIC,mBAAmBT,WAAWQ,cAAX,CAAvB;AACA,QAAIE,eAAeV,WAAWT,UAAX,CAAnB;;AAEA,aAASoB,cAAT,GAA2B;AACzB,UAAIC,UAAUC,MAAMf,SAAN,CAAgBc,OAA9B;;AAEA,UAAIE,WAAWN,eAAeV,SAAf,CAAyBH,WAAzB,CAAqCoB,MAApD;;AAEA,UAAIC,oBAAoBzB,WAAWO,SAAX,CAAqBH,WAA7C;;AAEA,UAAImB,WAAW,CAAf,EAAkB;AAChBF,gBAAQf,IAAR,CAAaoB,SAAb,EAAwB1B,WAAWO,SAAX,CAAqBH,WAA7C;;AAEAqB,4BAAoBR,eAAeV,SAAf,CAAyBH,WAA7C;AACD;;AAEDqB,wBAAkBE,KAAlB,CAAwB,IAAxB,EAA8BD,SAA9B;AACD;;AAEDT,mBAAeW,WAAf,GAA6B5B,WAAW4B,WAAxC;;AAEA,aAASC,GAAT,GAAgB;AACd,WAAKzB,WAAL,GAAmBgB,cAAnB;AACD;;AAEDA,mBAAeb,SAAf,GAA2B,IAAIsB,GAAJ,EAA3B;;AAEA,SAAK,IAAIf,IAAI,CAAb,EAAgBA,IAAIK,aAAaK,MAAjC,EAAyCV,GAAzC,EAA8C;AAC1C,UAAIgB,cAAcX,aAAaL,CAAb,CAAlB;;AAEAM,qBAAeb,SAAf,CAAyBuB,WAAzB,IACE9B,WAAWO,SAAX,CAAqBuB,WAArB,CADF;AAEH;;AAED,QAAIC,eAAe,SAAfA,YAAe,CAAUlB,UAAV,EAAsB;AACvC;AACA,UAAImB,iBAAiB,0BAAY,CAAE,CAAnC;;AAEA,UAAInB,cAAcO,eAAeb,SAAjC,EAA4C;AAC1CyB,yBAAiBZ,eAAeb,SAAf,CAAyBM,UAAzB,CAAjB;AACD;;AAED,UAAIoB,kBAAkBhB,eAAeV,SAAf,CAAyBM,UAAzB,CAAtB;;AAEA,aAAO,YAAY;AACjB,YAAIQ,UAAUC,MAAMf,SAAN,CAAgBc,OAA9B;;AAEAA,gBAAQf,IAAR,CAAaoB,SAAb,EAAwBM,cAAxB;;AAEA,eAAOC,gBAAgBN,KAAhB,CAAsB,IAAtB,EAA4BD,SAA5B,CAAP;AACD,OAND;AAOD,KAjBD;;AAmBA,SAAK,IAAIQ,IAAI,CAAb,EAAgBA,IAAIhB,iBAAiBM,MAArC,EAA6CU,GAA7C,EAAkD;AAChD,UAAID,kBAAkBf,iBAAiBgB,CAAjB,CAAtB;;AAEAd,qBAAeb,SAAf,CAAyB0B,eAAzB,IAA4CF,aAAaE,eAAb,CAA5C;AACD;;AAED,WAAOb,cAAP;AACD,GA7DD;;AA+DA,MAAIe,aAAa,SAAbA,UAAa,GAAY;AAC3B,SAAKC,SAAL,GAAiB,EAAjB;AACD,GAFD;;AAIAD,aAAW5B,SAAX,CAAqB8B,EAArB,GAA0B,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AACnD,SAAKH,SAAL,GAAiB,KAAKA,SAAL,IAAkB,EAAnC;;AAEA,QAAIE,SAAS,KAAKF,SAAlB,EAA6B;AAC3B,WAAKA,SAAL,CAAeE,KAAf,EAAsBvB,IAAtB,CAA2BwB,QAA3B;AACD,KAFD,MAEO;AACL,WAAKH,SAAL,CAAeE,KAAf,IAAwB,CAACC,QAAD,CAAxB;AACD;AACF,GARD;;AAUAJ,aAAW5B,SAAX,CAAqBiC,OAArB,GAA+B,UAAUF,KAAV,EAAiB;AAC9C,QAAIG,QAAQnB,MAAMf,SAAN,CAAgBkC,KAA5B;AACA,QAAIC,SAASD,MAAMnC,IAAN,CAAWoB,SAAX,EAAsB,CAAtB,CAAb;;AAEA,SAAKU,SAAL,GAAiB,KAAKA,SAAL,IAAkB,EAAnC;;AAEA;AACA,QAAIM,UAAU,IAAd,EAAoB;AAClBA,eAAS,EAAT;AACD;;AAED;AACA,QAAIA,OAAOlB,MAAP,KAAkB,CAAtB,EAAyB;AACvBkB,aAAO3B,IAAP,CAAY,EAAZ;AACD;;AAED;AACA2B,WAAO,CAAP,EAAUC,KAAV,GAAkBL,KAAlB;;AAEA,QAAIA,SAAS,KAAKF,SAAlB,EAA6B;AAC3B,WAAKQ,MAAL,CAAY,KAAKR,SAAL,CAAeE,KAAf,CAAZ,EAAmCG,MAAMnC,IAAN,CAAWoB,SAAX,EAAsB,CAAtB,CAAnC;AACD;;AAED,QAAI,OAAO,KAAKU,SAAhB,EAA2B;AACzB,WAAKQ,MAAL,CAAY,KAAKR,SAAL,CAAe,GAAf,CAAZ,EAAiCV,SAAjC;AACD;AACF,GA1BD;;AA4BAS,aAAW5B,SAAX,CAAqBqC,MAArB,GAA8B,UAAUR,SAAV,EAAqBM,MAArB,EAA6B;AACzD,SAAK,IAAIG,IAAI,CAAR,EAAWC,MAAMV,UAAUZ,MAAhC,EAAwCqB,IAAIC,GAA5C,EAAiDD,GAAjD,EAAsD;AACpDT,gBAAUS,CAAV,EAAalB,KAAb,CAAmB,IAAnB,EAAyBe,MAAzB;AACD;AACF,GAJD;;AAMA7C,QAAMsC,UAAN,GAAmBA,UAAnB;;AAEAtC,QAAMkD,aAAN,GAAsB,UAAUvB,MAAV,EAAkB;AACtC,QAAIwB,QAAQ,EAAZ;;AAEA,SAAK,IAAIH,IAAI,CAAb,EAAgBA,IAAIrB,MAApB,EAA4BqB,GAA5B,EAAiC;AAC/B,UAAII,aAAaC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,EAA3B,CAAjB;AACAJ,eAASC,WAAWI,QAAX,CAAoB,EAApB,CAAT;AACD;;AAED,WAAOL,KAAP;AACD,GATD;;AAWAnD,QAAMyD,IAAN,GAAa,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;AACpC,WAAO,YAAY;AACjBD,WAAK5B,KAAL,CAAW6B,OAAX,EAAoB9B,SAApB;AACD,KAFD;AAGD,GAJD;;AAMA7B,QAAM4D,YAAN,GAAqB,UAAUC,IAAV,EAAgB;AACnC,SAAK,IAAIC,WAAT,IAAwBD,IAAxB,EAA8B;AAC5B,UAAIE,OAAOD,YAAYE,KAAZ,CAAkB,GAAlB,CAAX;;AAEA,UAAIC,YAAYJ,IAAhB;;AAEA,UAAIE,KAAKpC,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACD;;AAED,WAAK,IAAIuC,IAAI,CAAb,EAAgBA,IAAIH,KAAKpC,MAAzB,EAAiCuC,GAAjC,EAAsC;AACpC,YAAI1D,MAAMuD,KAAKG,CAAL,CAAV;;AAEA;AACA;AACA1D,cAAMA,IAAI2D,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBC,WAApB,KAAoC5D,IAAI2D,SAAJ,CAAc,CAAd,CAA1C;;AAEA,YAAI,EAAE3D,OAAOyD,SAAT,CAAJ,EAAyB;AACvBA,oBAAUzD,GAAV,IAAiB,EAAjB;AACD;;AAED,YAAI0D,KAAKH,KAAKpC,MAAL,GAAc,CAAvB,EAA0B;AACxBsC,oBAAUzD,GAAV,IAAiBqD,KAAKC,WAAL,CAAjB;AACD;;AAEDG,oBAAYA,UAAUzD,GAAV,CAAZ;AACD;;AAED,aAAOqD,KAAKC,WAAL,CAAP;AACD;;AAED,WAAOD,IAAP;AACD,GAhCD;;AAkCA7D,QAAMqE,SAAN,GAAkB,UAAUC,KAAV,EAAiBC,EAAjB,EAAqB;AACrC;AACA;AACA;AACA;AACA;;AAEA,QAAIC,MAAMzE,EAAEwE,EAAF,CAAV;AACA,QAAIE,YAAYF,GAAGG,KAAH,CAASD,SAAzB;AACA,QAAIE,YAAYJ,GAAGG,KAAH,CAASC,SAAzB;;AAEA;AACA,QAAIF,cAAcE,SAAd,KACCA,cAAc,QAAd,IAA0BA,cAAc,SADzC,CAAJ,EACyD;AACvD,aAAO,KAAP;AACD;;AAED,QAAIF,cAAc,QAAd,IAA0BE,cAAc,QAA5C,EAAsD;AACpD,aAAO,IAAP;AACD;;AAED,WAAQH,IAAII,WAAJ,KAAoBL,GAAGM,YAAvB,IACNL,IAAIM,UAAJ,KAAmBP,GAAGQ,WADxB;AAED,GAvBD;;AAyBA/E,QAAMgF,YAAN,GAAqB,UAAUC,MAAV,EAAkB;AACrC,QAAIC,aAAa;AACf,YAAM,OADS;AAEf,WAAK,OAFU;AAGf,WAAK,MAHU;AAIf,WAAK,MAJU;AAKf,WAAK,QALU;AAMf,YAAM,OANS;AAOf,WAAK;AAPU,KAAjB;;AAUA;AACA,QAAI,OAAOD,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,aAAOA,MAAP;AACD;;AAED,WAAOE,OAAOF,MAAP,EAAeG,OAAf,CAAuB,cAAvB,EAAuC,UAAUC,KAAV,EAAiB;AAC7D,aAAOH,WAAWG,KAAX,CAAP;AACD,KAFM,CAAP;AAGD,GAnBD;;AAqBA;AACArF,QAAMsF,UAAN,GAAmB,UAAUC,QAAV,EAAoBC,MAApB,EAA4B;AAC7C;AACA;AACA,QAAIzF,EAAE0F,EAAF,CAAKC,MAAL,CAAYC,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB,MAA6B,KAAjC,EAAwC;AACtC,UAAIC,WAAW7F,GAAf;;AAEAA,QAAE8F,GAAF,CAAML,MAAN,EAAc,UAAUM,IAAV,EAAgB;AAC5BF,mBAAWA,SAASG,GAAT,CAAaD,IAAb,CAAX;AACD,OAFD;;AAIAN,eAASI,QAAT;AACD;;AAEDL,aAASS,MAAT,CAAgBR,MAAhB;AACD,GAdD;;AAgBA,SAAOxF,KAAP;AACD,CAnRD","file":"utils.js","sourcesContent":["define([\n  'jquery'\n], function ($) {\n  var Utils = {};\n\n  Utils.Extend = function (ChildClass, SuperClass) {\n    var __hasProp = {}.hasOwnProperty;\n\n    function BaseConstructor () {\n      this.constructor = ChildClass;\n    }\n\n    for (var key in SuperClass) {\n      if (__hasProp.call(SuperClass, key)) {\n        ChildClass[key] = SuperClass[key];\n      }\n    }\n\n    BaseConstructor.prototype = SuperClass.prototype;\n    ChildClass.prototype = new BaseConstructor();\n    ChildClass.__super__ = SuperClass.prototype;\n\n    return ChildClass;\n  };\n\n  function getMethods (theClass) {\n    var proto = theClass.prototype;\n\n    var methods = [];\n\n    for (var methodName in proto) {\n      var m = proto[methodName];\n\n      if (typeof m !== 'function') {\n        continue;\n      }\n\n      if (methodName === 'constructor') {\n        continue;\n      }\n\n      methods.push(methodName);\n    }\n\n    return methods;\n  }\n\n  Utils.Decorate = function (SuperClass, DecoratorClass) {\n    var decoratedMethods = getMethods(DecoratorClass);\n    var superMethods = getMethods(SuperClass);\n\n    function DecoratedClass () {\n      var unshift = Array.prototype.unshift;\n\n      var argCount = DecoratorClass.prototype.constructor.length;\n\n      var calledConstructor = SuperClass.prototype.constructor;\n\n      if (argCount > 0) {\n        unshift.call(arguments, SuperClass.prototype.constructor);\n\n        calledConstructor = DecoratorClass.prototype.constructor;\n      }\n\n      calledConstructor.apply(this, arguments);\n    }\n\n    DecoratorClass.displayName = SuperClass.displayName;\n\n    function ctr () {\n      this.constructor = DecoratedClass;\n    }\n\n    DecoratedClass.prototype = new ctr();\n\n    for (var m = 0; m < superMethods.length; m++) {\n        var superMethod = superMethods[m];\n\n        DecoratedClass.prototype[superMethod] =\n          SuperClass.prototype[superMethod];\n    }\n\n    var calledMethod = function (methodName) {\n      // Stub out the original method if it's not decorating an actual method\n      var originalMethod = function () {};\n\n      if (methodName in DecoratedClass.prototype) {\n        originalMethod = DecoratedClass.prototype[methodName];\n      }\n\n      var decoratedMethod = DecoratorClass.prototype[methodName];\n\n      return function () {\n        var unshift = Array.prototype.unshift;\n\n        unshift.call(arguments, originalMethod);\n\n        return decoratedMethod.apply(this, arguments);\n      };\n    };\n\n    for (var d = 0; d < decoratedMethods.length; d++) {\n      var decoratedMethod = decoratedMethods[d];\n\n      DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);\n    }\n\n    return DecoratedClass;\n  };\n\n  var Observable = function () {\n    this.listeners = {};\n  };\n\n  Observable.prototype.on = function (event, callback) {\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  };\n\n  Observable.prototype.trigger = function (event) {\n    var slice = Array.prototype.slice;\n    var params = slice.call(arguments, 1);\n\n    this.listeners = this.listeners || {};\n\n    // Params should always come in as an array\n    if (params == null) {\n      params = [];\n    }\n\n    // If there are no arguments to the event, use a temporary object\n    if (params.length === 0) {\n      params.push({});\n    }\n\n    // Set the `_type` of the first object to the event\n    params[0]._type = event;\n\n    if (event in this.listeners) {\n      this.invoke(this.listeners[event], slice.call(arguments, 1));\n    }\n\n    if ('*' in this.listeners) {\n      this.invoke(this.listeners['*'], arguments);\n    }\n  };\n\n  Observable.prototype.invoke = function (listeners, params) {\n    for (var i = 0, len = listeners.length; i < len; i++) {\n      listeners[i].apply(this, params);\n    }\n  };\n\n  Utils.Observable = Observable;\n\n  Utils.generateChars = function (length) {\n    var chars = '';\n\n    for (var i = 0; i < length; i++) {\n      var randomChar = Math.floor(Math.random() * 36);\n      chars += randomChar.toString(36);\n    }\n\n    return chars;\n  };\n\n  Utils.bind = function (func, context) {\n    return function () {\n      func.apply(context, arguments);\n    };\n  };\n\n  Utils._convertData = function (data) {\n    for (var originalKey in data) {\n      var keys = originalKey.split('-');\n\n      var dataLevel = data;\n\n      if (keys.length === 1) {\n        continue;\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k];\n\n        // Lowercase the first letter\n        // By default, dash-separated becomes camelCase\n        key = key.substring(0, 1).toLowerCase() + key.substring(1);\n\n        if (!(key in dataLevel)) {\n          dataLevel[key] = {};\n        }\n\n        if (k == keys.length - 1) {\n          dataLevel[key] = data[originalKey];\n        }\n\n        dataLevel = dataLevel[key];\n      }\n\n      delete data[originalKey];\n    }\n\n    return data;\n  };\n\n  Utils.hasScroll = function (index, el) {\n    // Adapted from the function created by @ShadowScripter\n    // and adapted by @BillBarry on the Stack Exchange Code Review website.\n    // The original code can be found at\n    // http://codereview.stackexchange.com/q/13338\n    // and was designed to be used with the Sizzle selector engine.\n\n    var $el = $(el);\n    var overflowX = el.style.overflowX;\n    var overflowY = el.style.overflowY;\n\n    //Check both x and y declarations\n    if (overflowX === overflowY &&\n        (overflowY === 'hidden' || overflowY === 'visible')) {\n      return false;\n    }\n\n    if (overflowX === 'scroll' || overflowY === 'scroll') {\n      return true;\n    }\n\n    return ($el.innerHeight() < el.scrollHeight ||\n      $el.innerWidth() < el.scrollWidth);\n  };\n\n  Utils.escapeMarkup = function (markup) {\n    var replaceMap = {\n      '\\\\': '&#92;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#47;'\n    };\n\n    // Do not try to escape the markup if it's not a string\n    if (typeof markup !== 'string') {\n      return markup;\n    }\n\n    return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n      return replaceMap[match];\n    });\n  };\n\n  // Append an array of jQuery nodes to a given element.\n  Utils.appendMany = function ($element, $nodes) {\n    // jQuery 1.7.x does not support $.fn.append() with an array\n    // Fall back to a jQuery object collection using $.fn.add()\n    if ($.fn.jquery.substr(0, 3) === '1.7') {\n      var $jqNodes = $();\n\n      $.map($nodes, function (node) {\n        $jqNodes = $jqNodes.add(node);\n      });\n\n      $nodes = $jqNodes;\n    }\n\n    $element.append($nodes);\n  };\n\n  return Utils;\n});\n"]}