{"version":3,"sources":["../../../../../../../resources/assets/plugins/backend/dropzone-master/tool/build_site_from_readme.js"],"names":["fs","require","readmePath","indexTemplatePath","indexPath","readmeData","readFileSync","indexData","sections","codeBlockRegExp","generatedContent","section","sectionRegExp","RegExp","sectionContent","exec","replace","writeFileSync","console","log"],"mappings":";;AAAA;;;;AAIA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;;AAEA,IAAMC,aAAa,WAAnB;AACA,IAAMC,oBAAoB,qCAA1B;AACA,IAAMC,YAAY,kBAAlB;;AAEA,IAAMC,aAAaL,GAAGM,YAAH,CAAgBJ,UAAhB,EAA4B,MAA5B,CAAnB;AACA,IAAIK,YAAYP,GAAGM,YAAH,CAAgBH,iBAAhB,EAAmC,MAAnC,CAAhB;;AAEA,IAAMK,WAAW,CAAC,cAAD,EAAiB,OAAjB,EAA0B,eAA1B,EAA2C,QAA3C,EAAqD,MAArD,EAA6D,eAA7D,CAAjB;;AAEA,IAAMC,kBAAkB,wBAAxB;;AAEA,IAAIC,mBAAmB,EAAvB;;AAEA;;;;;;AACA,uBAAoBF,QAApB,8HAA8B;AAAA,QAArBG,OAAqB;;AAC5B,QAAIC,gBAAgB,IAAIC,MAAJ,UAAkBF,OAAlB,iBAAuC,IAAvC,CAApB;AACA,QAAIG,iBAAiBF,cAAcG,IAAd,CAAmBV,UAAnB,EAA+B,CAA/B,CAArB;AACAS,qBAAiBA,eAAeE,OAAf,CAAuBP,eAAvB,EAAwC,wCAAxC,CAAjB;AACAC,qDAA+CI,cAA/C;AACD;;;;;;;;;;;;;;;;AAEDJ,mBAAmBA,iBACdM,OADc,CACN,mFADM,EAC+E,0CAD/E,EAEdA,OAFc,CAEN,yDAFM,EAEqD,+BAFrD,CAAnB;;AAKAhB,GAAGiB,aAAH,CAAiBb,SAAjB,EAA4BG,UAAUS,OAAV,CAAkB,gCAAlB,EAAoDN,gBAApD,CAA5B;;AAEAQ,QAAQC,GAAR,CAAY,0CAAZ","file":"build_site_from_readme.js","sourcesContent":["/**\n * This file builds the content of the website from the README.md\n */\n\nconst fs = require('fs');\n\nconst readmePath = 'README.md';\nconst indexTemplatePath = 'website/_includes/index.template.md';\nconst indexPath = 'website/index.md';\n\nconst readmeData = fs.readFileSync(readmePath, \"utf8\");\nlet indexData = fs.readFileSync(indexTemplatePath, \"utf8\");\n\nconst sections = ['Installation', 'Usage', 'Configuration', 'Events', 'Tips', 'Compatibility'];\n\nconst codeBlockRegExp = /^```(\\w+)$([^]*?)```/gm;\n\nlet generatedContent = '';\n\n// Add all relevant sections from the README\nfor (let section of sections) {\n  let sectionRegExp = new RegExp(`(^# ${section}$[^]*?)^# `, 'gm');\n  let sectionContent = sectionRegExp.exec(readmeData)[1];\n  sectionContent = sectionContent.replace(codeBlockRegExp, '{% highlight $1 %}$2{% endhighlight %}');\n  generatedContent += `<section markdown=\"1\">\\n${sectionContent}\\n</section>\\n\\n`;\n}\n\ngeneratedContent = generatedContent\n    .replace('[List of configuration options](http://www.dropzonejs.com/#configuration-options)', '{% include configuration-options.html %}')\n    .replace('[List of events](http://www.dropzonejs.com/#event-list)', '{% include event-list.html %}');\n\n\nfs.writeFileSync(indexPath, indexData.replace('{{ generated_readme_content }}', generatedContent));\n\nconsole.log(\"Successfully built index.md for website.\");"]}