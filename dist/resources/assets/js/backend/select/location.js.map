{"version":3,"sources":["../../../../../../resources/assets/js/backend/select/location.js"],"names":["axios","require","countrySelect","document","getElementById","provinceSelect","citySelect","districtSelect","endPointProvince","endPointCity","endPointDistrict","requestData","param","endPoint","url","window","baseUrl","method","headers","data","appendDataToSelect","dataList","DOM","clearDataFromSelect","forEach","list","optionAttribute","createElement","text","province","value","id","append","city","district","options","length","innerHTML","addEventListener","countryId","URLSearchParam","URLSearchParams","requestResult","then","response","catch","error","Error","provinceId","cityId"],"mappings":"AAAA;;AACA,IAAMA,QAAoBC,QAAQ,OAAR,CAA1B;AACA,IAAMC,gBAAoBC,SAASC,cAAT,CAAwB,gBAAxB,CAA1B;AACA,IAAMC,iBAAoBF,SAASC,cAAT,CAAwB,iBAAxB,CAA1B;AACA,IAAME,aAAoBH,SAASC,cAAT,CAAwB,aAAxB,CAA1B;AACA,IAAMG,iBAAoBJ,SAASC,cAAT,CAAwB,iBAAxB,CAA1B;AACA,IAAMI,mBAAoB,iCAA1B;AACA,IAAMC,eAAoB,6BAA1B;AACA,IAAMC,mBAAoB,iCAA1B;;AAEA;;;;;AAKA,IAAMC,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAQC,QAAR,EAAoB;AACpC,WAAOb,MAAM;AACTc,aAAKC,OAAOC,OAAP,GAAeH,QADX;AAETI,gBAAQ,MAFC;AAGTC,iBAAQ;AACJ,gCAAoB;AADhB,SAHC;AAMTC,cAAMP;AANG,KAAN,CAAP;AAQH,CATD;;AAWA;;;;;AAKA,IAAMQ,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWC,GAAX,EAAkB;AACzC,QAAGA,QAAQjB,cAAX,EACA;AACIkB,4BAAoBD,GAApB;AACAD,iBAASG,OAAT,CAAiB,UAACC,IAAD,EAAQ;AACrB,gBAAIC,kBAAsBvB,SAASwB,aAAT,CAAuB,QAAvB,CAA1B;AACAD,4BAAgBE,IAAhB,GAA0BH,KAAKI,QAA/B;AACAH,4BAAgBI,KAAhB,GAA0BL,KAAKM,EAA/B;AACAT,gBAAIU,MAAJ,CAAWN,eAAX;AACH,SALD;AAMH;AACD,QAAGJ,QAAQhB,UAAX,EACA;AACIiB,4BAAoBD,GAApB;AACAD,iBAASG,OAAT,CAAiB,UAACC,IAAD,EAAQ;AACrB,gBAAIC,kBAAsBvB,SAASwB,aAAT,CAAuB,QAAvB,CAA1B;AACAD,4BAAgBE,IAAhB,GAA0BH,KAAKQ,IAA/B;AACAP,4BAAgBI,KAAhB,GAA0BL,KAAKM,EAA/B;AACAT,gBAAIU,MAAJ,CAAWN,eAAX;AACH,SALD;AAMH;AACD,QAAGJ,QAAQf,cAAX,EACA;AACIgB,4BAAoBD,GAApB;AACAD,iBAASG,OAAT,CAAiB,UAACC,IAAD,EAAQ;AACrB,gBAAIC,kBAAsBvB,SAASwB,aAAT,CAAuB,QAAvB,CAA1B;AACAD,4BAAgBE,IAAhB,GAA0BH,KAAKS,QAA/B;AACAR,4BAAgBI,KAAhB,GAA0BL,KAAKM,EAA/B;AACAT,gBAAIU,MAAJ,CAAWN,eAAX;AACH,SALD;AAMH;AACJ,CA/BD;;AAiCA;;;;AAIA,IAAMH,sBAAsB,SAAtBA,mBAAsB,CAACD,GAAD,EAAQ;AAChCA,QAAIa,OAAJ,CAAYC,MAAZ,GAAqB,CAArB;AACA,QAAGd,QAAQjB,cAAX,EACA;AACIiB,YAAIe,SAAJ,GAAgB,mDAAhB;AACH;AACD,QAAGf,QAAQhB,UAAX,EACA;AACIgB,YAAIe,SAAJ,GAAgB,+CAAhB;AACH;AACD,QAAGf,QAAQf,cAAX,EACA;AACIe,YAAIe,SAAJ,GAAgB,mDAAhB;AACH;AACJ,CAdD;;AAgBA;;;AAGA,IAAG,CAAC,CAACnC,aAAL,EACA;AACIA,kBAAcoC,gBAAd,CAA+B,QAA/B,EAAwC,YAAM;AAC1C,YAAIC,YAAkBrC,cAAc4B,KAApC;AACA,YAAIU,iBAAkB,IAAIC,eAAJ,EAAtB;AACAD,uBAAeR,MAAf,CAAsB,WAAtB,EAAmCO,SAAnC;;AAEA,YAAIG,gBAAkB/B,YAAY6B,cAAZ,EAA4BhC,gBAA5B,CAAtB;AACAkC,sBAAcC,IAAd,CAAmB,UAACC,QAAD,EAAY;AAC3BxB,+BAAmBwB,SAASzB,IAA5B,EAAkCd,cAAlC;AACH,SAFD,EAEGwC,KAFH,CAES,UAACC,KAAD,EAAS;AACd,kBAAM,IAAIC,KAAJ,CAAU,YAAUD,KAApB,CAAN;AACH,SAJD;AAKH,KAXD;AAYH;;AAED,IAAG,CAAC,CAACxC,UAAL,EACA;AACID,mBAAeiC,gBAAf,CAAgC,QAAhC,EAAyC,YAAI;AACzC,YAAIU,aAAkB3C,eAAeyB,KAArC;AACA,YAAIU,iBAAkB,IAAIC,eAAJ,EAAtB;AACAD,uBAAeR,MAAf,CAAsB,YAAtB,EAAoCgB,UAApC;AACA,YAAIN,gBAAkB/B,YAAY6B,cAAZ,EAA4B/B,YAA5B,CAAtB;AACAiC,sBAAcC,IAAd,CAAmB,UAACC,QAAD,EAAY;AAC3BxB,+BAAmBwB,SAASzB,IAA5B,EAAkCb,UAAlC;AACH,SAFD,EAEGuC,KAFH,CAES,UAACC,KAAD,EAAS;AACd,kBAAM,IAAIC,KAAJ,CAAU,YAAUD,KAApB,CAAN;AACH,SAJD;AAKH,KAVD;AAWH;;AAED,IAAG,CAAC,CAACvC,cAAL,EACA;AACID,eAAWgC,gBAAX,CAA4B,QAA5B,EAAqC,YAAI;AACrC,YAAIW,SAAkB3C,WAAWwB,KAAjC;AACA,YAAIU,iBAAkB,IAAIC,eAAJ,EAAtB;AACAD,uBAAeR,MAAf,CAAsB,QAAtB,EAAgCiB,MAAhC;AACA,YAAIP,gBAAkB/B,YAAY6B,cAAZ,EAA4B9B,gBAA5B,CAAtB;AACAgC,sBAAcC,IAAd,CAAmB,UAACC,QAAD,EAAY;AAC3BxB,+BAAmBwB,SAASzB,IAA5B,EAAkCZ,cAAlC;AACH,SAFD,EAEGsC,KAFH,CAES,UAACC,KAAD,EAAS;AACd,kBAAM,IAAIC,KAAJ,CAAU,YAAUD,KAApB,CAAN;AACH,SAJD;AAKH,KAVD;AAWH","file":"location.js","sourcesContent":["\"use strict\";\nconst axios             = require(\"axios\");\nconst countrySelect     = document.getElementById(\"select-country\");\nconst provinceSelect    = document.getElementById(\"select-province\");\nconst citySelect        = document.getElementById(\"select-city\");\nconst districtSelect    = document.getElementById(\"select-district\");\nconst endPointProvince  = \"admin/helper/ajax/province-list\";\nconst endPointCity      = \"admin/helper/ajax/city-list\";\nconst endPointDistrict  = \"admin/helper/ajax/district-list\";\n\n/**\n *\n * @param param\n * @param endPoint\n */\nconst requestData = (param, endPoint) =>{\n    return axios({\n        url: window.baseUrl+endPoint,\n        method: \"POST\",\n        headers:{\n            \"X-Requested-With\": \"XMLHttpRequest\"\n        },\n        data: param\n    });\n};\n\n/**\n *\n * @param dataList\n * @param DOM\n */\nconst appendDataToSelect = (dataList, DOM) =>{\n    if(DOM === provinceSelect)\n    {\n        clearDataFromSelect(DOM);\n        dataList.forEach((list)=>{\n            let optionAttribute     = document.createElement(\"option\");\n            optionAttribute.text    = list.province;\n            optionAttribute.value   = list.id;\n            DOM.append(optionAttribute);\n        });\n    }\n    if(DOM === citySelect)\n    {\n        clearDataFromSelect(DOM);\n        dataList.forEach((list)=>{\n            let optionAttribute     = document.createElement(\"option\");\n            optionAttribute.text    = list.city;\n            optionAttribute.value   = list.id;\n            DOM.append(optionAttribute);\n        });\n    }\n    if(DOM === districtSelect)\n    {\n        clearDataFromSelect(DOM);\n        dataList.forEach((list)=>{\n            let optionAttribute     = document.createElement(\"option\");\n            optionAttribute.text    = list.district;\n            optionAttribute.value   = list.id;\n            DOM.append(optionAttribute);\n        });\n    }\n};\n\n/**\n * For clear options data\n * @param DOM\n */\nconst clearDataFromSelect = (DOM) =>{\n    DOM.options.length = 0;\n    if(DOM === provinceSelect)\n    {\n        DOM.innerHTML = \"<option value=''>--- Select Province ---</option>\";\n    }\n    if(DOM === citySelect)\n    {\n        DOM.innerHTML = \"<option value=''>--- Select City ---</option>\";\n    }\n    if(DOM === districtSelect)\n    {\n        DOM.innerHTML = \"<option value=''>--- Select District ---</option>\";\n    }\n};\n\n/**\n * DOM Listener\n */\nif(!!countrySelect)\n{\n    countrySelect.addEventListener(\"change\",() => {\n        let countryId       = countrySelect.value;\n        let URLSearchParam  = new URLSearchParams();\n        URLSearchParam.append(\"countryId\", countryId);\n\n        let requestResult   = requestData(URLSearchParam, endPointProvince);\n        requestResult.then((response)=>{\n            appendDataToSelect(response.data, provinceSelect);\n        }).catch((error)=>{\n            throw new Error(\"Error: \"+error);\n        });\n    });\n}\n\nif(!!citySelect)\n{\n    provinceSelect.addEventListener(\"change\",()=>{\n        let provinceId      = provinceSelect.value;\n        let URLSearchParam  = new URLSearchParams();\n        URLSearchParam.append(\"provinceId\", provinceId);\n        let requestResult   = requestData(URLSearchParam, endPointCity);\n        requestResult.then((response)=>{\n            appendDataToSelect(response.data, citySelect);\n        }).catch((error)=>{\n            throw new Error(\"Error: \"+error);\n        });\n    });\n}\n\nif(!!districtSelect)\n{\n    citySelect.addEventListener(\"change\",()=>{\n        let cityId          = citySelect.value;\n        let URLSearchParam  = new URLSearchParams();\n        URLSearchParam.append(\"cityId\", cityId);\n        let requestResult   = requestData(URLSearchParam, endPointDistrict);\n        requestResult.then((response)=>{\n            appendDataToSelect(response.data, districtSelect);\n        }).catch((error)=>{\n            throw new Error(\"Error: \"+error);\n        });\n    });\n}\n"]}